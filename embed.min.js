var isLiteCode = document.querySelector(".taggbox-container"), script = isLiteCode && isLiteCode.querySelector("script") ? isLiteCode.querySelector("script").getAttribute("src") : ""; if (script.includes("embed-lite.min.js")) console.log("litecode Applied"); else { var taggboxa = taggboxa || function (a, b) { var c = {}, d = null, e = null, f = !1, g = !0, h = function (h) { var a; if ("string" == typeof h.data) try { a = JSON.parse(h.data) } catch (o) { (item = {}).type = "", a = item } else a = h.data; switch (a.type) { case "getHeight": for (var b in c) c[b].id == a.data.iframe && 1 == (n = parseInt(c[b].getAttribute("data-fixed-height"))) && (c[b].parentElement.parentElement.style.height = a.data.height + "px", c[b].style.height = a.data.height + "px", c[b].style.minHeight = a.data.height + "px"); null == d && k(a.source), null == e && (backlink = !1, (e = document.createElement("a")).href = a.data.refererlink, e.text = a.data.referer, e.target = "_blank", e.style.display = "none", document.body.appendChild(e)); break; case "showPopUp": a.data.parentWidth = window.innerWidth, j(a.data, a.source); break; case "popupPost": i(a.data); break; case "closePopUp": a.iframeId && a.csrf_token && window.parent.document.getElementById(a.iframeId).contentWindow.postMessage({ type: "token_private_onsite", onsite_token: a.csrf_token }, "*"), l(); break; case "loadComplete": g = a.loadstatus; break; case "scroll": for (var b in c) { var n = parseInt(c[b].getAttribute("data-fixed-height")), m = parseInt(c[b].getAttribute("data-wall")); if (1 == n) { var f = document.documentElement.scrollTop; 23725 == m && (f = document.getElementsByClassName("taggbox-container")[0].closest(".content").scrollTop), "top" == a.data.type ? f -= 120 : f += 120, 23725 == m ? document.getElementsByClassName("taggbox-container")[0].closest(".content").scrollTop = f : document.documentElement.scrollTop = f } } } }, i = function (b) { var a = document.getElementById("_taggbox_modal_frame"); a && d && f && a.contentWindow.postMessage(b, a.src) }, j = function (b, c) { var a = document.getElementById("_taggbox_modal_frame"); if (a && d) { if (!f) return void j(b, c); a.style.display = "block", a.contentWindow.postMessage(b, a.src) } else (d = document.createElement("iframe")).src = "https://widget.taggbox.com/widget-modal/index.html", d.id = "_taggbox_modal_frame", d.scrolling = "no", d.frameborder = 0, d.allowtransparency = "true", d.style.display = "block", d.style.position = "fixed", d.style.left = "0px", d.style.right = "0px", d.style.top = "0px", d.style.bottom = "0px", d.style.width = "100%", d.style.height = "100%", d.style.border = "none", d.style.zIndex = "99999999", d.title = "Taggbox widget", document.body.appendChild(d), d.onload = function () { f = !0, d.contentWindow.postMessage(b, d.src) } }, k = function (a) { document.getElementById("_taggbox_modal_frame") || ((d = document.createElement("iframe")).src = "https://widget.taggbox.com/widget-modal/index.html", d.id = "_taggbox_modal_frame", d.scrolling = "no", d.frameborder = 0, d.allowtransparency = "true", d.style.display = "none", d.style.position = "fixed", d.style.left = "0px", d.style.right = "0px", d.style.top = "0px", d.style.bottom = "0px", d.style.width = "100%", d.style.height = "100%", d.style.border = "none", d.style.zIndex = "99999999", d.title = "Taggbox widget", document.body.appendChild(d), d.onload = function () { f = !0 }) }, l = function () { document.getElementById("_taggbox_modal_frame").style.display = "none" }; return { init: function () { var i = 0; for (var n in c) c.hasOwnProperty(n) && ++i; 0 == i && window.addEventListener("message", h, !1); for (var d = document.getElementsByClassName("taggbox-container"), b = document.getElementsByClassName("taggbox-socialwall"), a = 0; a < d.length; a++) { d[a].clientWidth >= window.innerWidth && (d[a].style.width = "100%"), d[a].style.lineHeight = "initial", 39221 != b[a].getAttribute("data-wall-id") && (d[a].style.overflow = "hidden"); var o = document.createElement("style"); d[a].appendChild(o) } for (a = 0; a < b.length; a++)if (0 == b[a].getElementsByTagName("iframe").length) { var j = 1, k = 150, e = b[a].parentElement.style.height; (e = parseInt(e.replace(/[^\d.-]/g, ""))) > 100 && (j = 0, k = e); var l = b[a].getAttribute("data-wall-id"), m = Math.random().toString(36).substring(7), f = '<iframe src="https://widget-lite.taggbox.com/widget/index.html?wall_id=' + l + '" data-fixed-height="' + j + '" data-height="' + k + '" data-wall="' + l + '" data-position="' + a + '" id="iframe' + m + '" style="visibility: hidden;position: absolute;margin:0;left: -999em;display: inline-block;border: none;width:100%;height:100%;" scrolling="no" frameborder="0" allowtransparency="true" title="Taggbox widget"></iframe>'; b[a].innerHTML = f, b[a].style.webkitOverflowScrolling = "touch"; try { b[a].parentElement.style.webkitOverflowScrolling = "touch" } catch (p) { console.log("a") } f = b[a].firstChild, c[a] = f, document.getElementById("iframe" + m).addEventListener("load", function () { var c = this.getAttribute("data-position"), f = this.getAttribute("id"), h = this.getAttribute("data-fixed-height"), i = this.getAttribute("data-height"); this.style.visibility = "visible", this.style.position = "static"; var j = d[c].offsetHeight; this.style.minHeight = j + "px"; var k = { type: "startEmbed", url: window.location.href, id: f, fixedHeight: h, iframeHeight: i, theme: b[c].getAttribute("data-wall-theme"), tags: b[c].getAttribute("data-tags") }; this.contentWindow.postMessage(k, this.src); for (var e = document.querySelectorAll("p:empty"), a = e.length - 1; a > -1; a--)e[a].parentNode.removeChild(e[a]); setTimeout(function () { var a = b[c].offsetHeight; d[c].clientHeight + 4 < a ? d[c].onscroll = function () { d[c].scrollTop + d[c].offsetHeight >= parseInt(a) - parseInt(300) && g && (g = !1, b[c].firstChild.contentWindow.postMessage({ type: "loadMore" }, b[c].firstChild.src)) } : window.onscroll = function () { var d = document.body, c = document.documentElement, e = Math.max(d.scrollHeight, d.offsetHeight, c.clientHeight, c.scrollHeight, c.offsetHeight); if (window.innerHeight + window.pageYOffset >= parseInt(e) - parseInt(50) && g) { g = !1; for (var f = { type: "loadMore" }, a = 0; a < b.length; a++)b[a].firstChild.contentWindow.postMessage(f, b[a].firstChild.src) } } }, 5000) }) } } } }(window); taggboxa.init() }