const TagboxSocialSchema = { gSD(t, a, e) { let r = JSON.parse(e.innerHTML); fetch(`https://api.taggbox.com/api/v1/walls/google-schema/${t}/${a}`, { headers: { "Content-Type": "application/json", productdomain: "taggbox.com" } }).then(t => t.ok ? t.json() : Promise.reject(`HTTP error! Status: ${t.status}`)).then(({ data: t }) => { t?.rating && (r.aggregateRating.ratingValue = t.rating.rating, r.aggregateRating.reviewCount = t.rating.count, e.innerHTML = JSON.stringify(r)) }).catch(t => console.error("Fetch error:", t)) } }; document.querySelectorAll(".taggbox-schema-code").forEach(t => TagboxSocialSchema.gSD(t.getAttribute("data-ref"), t.getAttribute("data-feed-ref"), t));