"use strict";(self.webpackChunkwebsite_editor=self.webpackChunkwebsite_editor||[]).push([[184],{184:(e,t,l)=>{l.r(t),l.d(t,{default:()=>I});var s=l(300),n=l(414);const r=e=>{let{loading:t,onSubmit:l,title:s}=e;return(0,n.jsx)("button",{type:"button",className:`btn btn-mi-theme ${t?"spinner spinner-right disabled":""} ml-2`,onClick:t?()=>{}:l,children:s})};var i=l(402),d=l(271);const a=e=>{let{networkId:t,step:l,request:a,moveStep:o}=e;const{themes:c,selectedTheme:h}=(0,s.d4)((e=>e.themeReducer),s.bN),m=(0,s.wA)();return(0,n.jsxs)("div",{className:"mi-theme-cont",children:[(0,n.jsx)("div",{className:"mi-theme",children:c.map(((e,l)=>{const{name:s,themeId:r}=e;return(0,n.jsx)("div",{className:r==h.themeId?"active":"",onClick:()=>(e=>m({type:d.H$,payload:{selectedTheme:e,networkId:t}}))(e),children:(0,n.jsx)("i",{children:(0,n.jsx)(i.A,{path:`/theme/${r}.png`,altTxt:s})})},l)}))}),(0,n.jsx)("div",{className:"mi-commonbtn",children:(0,n.jsx)(r,{loading:a,onSubmit:o,title:0==l?"Use This Template":"Add to Your Website"})})]})};var o=l(950),c=l(715);const h=e=>{let{description:t,descExam:l,loading:s,errorMsg:d,onSubmit:a,children:o}=e;return(0,n.jsxs)("div",{className:"mi-source-field",children:[o,(0,n.jsxs)("div",{className:"mi-feedbottomcont",children:[(0,n.jsx)("span",{children:(0,n.jsx)(i.A,{path:"/micro/info-circle.svg",altTxt:"info"})}),(0,n.jsxs)("div",{className:"mi-feedinfo",children:[(null===t||void 0===t?void 0:t.length)>0?(0,n.jsx)("p",{children:t}):null,(null===l||void 0===l?void 0:l.length)>0?(0,n.jsx)("p",{children:l}):null]})]}),(null===d||void 0===d?void 0:d.length)>0?(0,n.jsxs)("div",{className:"mi-alert",role:"alert",children:[(0,n.jsx)(i.A,{path:"/micro/exclamation.svg",altTxt:"alert"}),d]}):null,(0,n.jsx)("div",{className:"mi-feedsubmit",children:(0,n.jsx)(r,{loading:s,onSubmit:a,title:"Create Widget"})})]})};var m=l(313),u=l(726),p=l(867);const v=(e,t)=>l=>{(e=>(new m.A).post(u.Xi,e))(e).then((s=>{if(null!==s&&void 0!==s&&s.data){var n;const{data:r,statusCode:i,message:a}=s.data;200===i&&(null===r||void 0===r||null===(n=r.postData)||void 0===n?void 0:n.length)>0?((0,p.UW)(`selectedFilter-${e.networkId}`,e),(0,p.UW)(`postCreated-${e.networkId}`,r.postData),l({type:d.xg,payload:r.postData}),null===t||void 0===t||t(!0,"")):null===t||void 0===t||t(!1,a)}})).catch((e=>{var l,s;null===t||void 0===t||t(!1,(null===e||void 0===e||null===(l=e.response)||void 0===l||null===(s=l.data)||void 0===s?void 0:s.message)||"")}))};function f(e){let{filterId:t,networkId:l,moveStep:r,dfPayload:i,content:d}=e;const{label:a,description:m,placeHolder:u,descExam:f}=d,[x,g]=(0,o.useState)({hashtag:"",handle:"",feedError:"",error:!1,handleError:!1,loading:!1}),j=(0,s.wA)();return(0,o.useEffect)((()=>{if(i&&Object.keys(i).length>0){const{filterId:e,feedText:t}=i;26==e?g((e=>({...e,hashtag:t}))):23==e&&g((e=>({...e,handle:t})))}}),[i]),(0,n.jsxs)(h,{description:m,descExam:f,errorMsg:x.feedError,loading:x.loading,onSubmit:()=>{const{hashtag:e,handle:s}=x;if(0==e.trim().length&&26==t)g((e=>({...e,error:!0})));else if(0==s.trim().length&&23==t)g((e=>({...e,handleError:!0})));else{g((e=>({...e,loading:!0,error:!1,handleError:!1})));const n={networkId:l,filterId:t,feedText:26==t?e.split("#").join(""):(0,p.nN)("instagram.com/",s.split("@").join(""))};if(i&&Object.keys(i).length>0&&i.filterId==n.filterId&&i.feedText==n.feedText)return void setTimeout((()=>{r(!1),g((e=>({...e,loading:!1})))}),2e3);j(v(n,((e,t)=>{g((e=>({...e,loading:!1}))),e?r():(g((e=>({...e,feedError:t}))),setTimeout((()=>g((e=>({...e,feedError:""})))),3e3))})))}},children:[a.length>0?(0,n.jsx)("label",{children:a}):null,(0,n.jsx)(c.A,{value:26==t?x.hashtag:x.handle,chngeAC:e=>{let{target:{name:t,value:l}}=e;const s="hashtag"===t?null:x.error,n="hashtag"===t?x.handleError:null;g((e=>({...e,[t]:l,error:s,handleError:n})))},name:26==t?"hashtag":"handle",ph:u}),26==t&&x.error||23==t&&x.handleError?(0,n.jsx)("span",{id:"feedserror",className:"errorMessage",children:"This field is required."}):null]})}const x=e=>18===e.networkId?(0,n.jsx)(f,{...e}):(0,n.jsx)(n.Fragment,{});class g extends o.Component{constructor(e){const{networkId:t,cntReducer:l}=e;super(e),this.handleClick=e=>this.setState({filterId:e}),this.state={filterId:l.dFL[t],flList:[],payload:null}}componentDidMount(){var e,t;const{networkId:l,cntReducer:s}=this.props,n=(null===(e=s.nTFL)||void 0===e?void 0:e[l])||[],r=(0,p.yN)(`selectedFilter-${l}`),i=(null===r||void 0===r?void 0:r.filterId)||(null===(t=n[0])||void 0===t?void 0:t.filterId)||this.state.filterId;this.setState({filterId:i,flList:n,payload:r})}render(){const{networkId:e,moveStep:t,cntReducer:l}=this.props,{filterId:s,flList:r,payload:i}=this.state,d=l.FLCNT,a=d.hasOwnProperty(e)?d[e][s]:d;return(0,n.jsxs)("div",{className:"mi-addfeed",children:[(0,n.jsx)("div",{className:"mi-sourcecontent",children:r.map(((e,t)=>{let{filterId:l,filterName:r}=e;return(0,n.jsx)("div",{className:l==s?"active":"",onClick:()=>this.handleClick(l),children:r},`${t}-${l}`)}))}),(0,n.jsx)("div",{className:"mi-feed",children:(0,n.jsx)(x,{filterId:s,networkId:e,moveStep:t,dfPayload:i,content:a})})]})}}const j=(0,s.Ng)((e=>({cntReducer:e.contentReducer})))(g),I=e=>(0,n.jsxs)("div",{className:"mi-source",children:[(0,n.jsx)("div",{className:"mi-source-title",children:(0,n.jsx)("p",{className:"m-0 text-center mi-title",children:1==e.step?"Source":"Select Theme"})}),1==e.step?(0,n.jsx)(j,{...e}):(0,n.jsx)(a,{...e})]})},715:(e,t,l)=>{l.d(t,{A:()=>n});var s=l(414);const n=e=>{let{value:t,chngeAC:l,name:n,className:r="",ph:i="",type:d="text"}=e;return(0,s.jsx)("input",{type:d,name:n,className:r,placeholder:i,value:t,onChange:l,autoComplete:"off"})}}}]);