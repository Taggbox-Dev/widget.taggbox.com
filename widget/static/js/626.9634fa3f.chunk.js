/*! For license information please see 626.9634fa3f.chunk.js.LICENSE.txt */
(self.webpackChunkembed_widget=self.webpackChunkembed_widget||[]).push([[626],{31050:function(e,t,n){var r=n(94117);function i(e){var t,n;function i(t,n){try{var a=e[t](n),s=a.value,u=s instanceof r;Promise.resolve(u?s.wrapped:s).then((function(e){u?i("return"===t?"return":"next",e):o(a.done?"return":"normal",e)}),(function(e){i("throw",e)}))}catch(l){o("throw",l)}}function o(e,r){switch(e){case"return":t.resolve({value:r,done:!0});break;case"throw":t.reject(r);break;default:t.resolve({value:r,done:!1})}(t=t.next)?i(t.key,t.arg):n=null}this._invoke=function(e,r){return new Promise((function(o,a){var s={key:e,arg:r,resolve:o,reject:a,next:null};n?n=n.next=s:(t=n=s,i(e,r))}))},"function"!==typeof e.return&&(this.return=void 0)}i.prototype["function"===typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},i.prototype.next=function(e){return this._invoke("next",e)},i.prototype.throw=function(e){return this._invoke("throw",e)},i.prototype.return=function(e){return this._invoke("return",e)},e.exports=i,e.exports.__esModule=!0,e.exports.default=e.exports},94117:function(e){e.exports=function(e){this.wrapped=e},e.exports.__esModule=!0,e.exports.default=e.exports},81506:function(e){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e},e.exports.__esModule=!0,e.exports.default=e.exports},30083:function(e){e.exports=function(e,t){var n={},r=!1;function i(n,i){return r=!0,i=new Promise((function(t){t(e[n](i))})),{done:!1,value:t(i)}}return n["undefined"!==typeof Symbol&&Symbol.iterator||"@@iterator"]=function(){return this},n.next=function(e){return r?(r=!1,e):i("next",e)},"function"===typeof e.throw&&(n.throw=function(e){if(r)throw r=!1,e;return i("throw",e)}),"function"===typeof e.return&&(n.return=function(e){return r?(r=!1,e):i("return",e)}),n},e.exports.__esModule=!0,e.exports.default=e.exports},47003:function(e){function t(e){function n(e){if(Object(e)!==e)return Promise.reject(new TypeError(e+" is not an object."));var t=e.done;return Promise.resolve(e.value).then((function(e){return{value:e,done:t}}))}return t=function(e){this.s=e,this.n=e.next},t.prototype={s:null,n:null,next:function(){return n(this.n.apply(this.s,arguments))},return:function(e){var t=this.s.return;return void 0===t?Promise.resolve({value:e,done:!0}):n(t.apply(this.s,arguments))},throw:function(e){var t=this.s.return;return void 0===t?Promise.reject(e):n(t.apply(this.s,arguments))}},new t(e)}e.exports=function(e){var n,r,i,o=2;for("undefined"!=typeof Symbol&&(r=Symbol.asyncIterator,i=Symbol.iterator);o--;){if(r&&null!=(n=e[r]))return n.call(e);if(i&&null!=(n=e[i]))return new t(n.call(e));r="@@asyncIterator",i="@@iterator"}throw new TypeError("Object is not async iterable")},e.exports.__esModule=!0,e.exports.default=e.exports},48926:function(e){function t(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(l){return void n(l)}s.done?t(u):Promise.resolve(u).then(r,i)}e.exports=function(e){return function(){var n=this,r=arguments;return new Promise((function(i,o){var a=e.apply(n,r);function s(e){t(a,i,o,s,u,"next",e)}function u(e){t(a,i,o,s,u,"throw",e)}s(void 0)}))}},e.exports.__esModule=!0,e.exports.default=e.exports},55486:function(e,t,n){var r=n(94117);e.exports=function(e){return new r(e)},e.exports.__esModule=!0,e.exports.default=e.exports},34575:function(e){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},e.exports.__esModule=!0,e.exports.default=e.exports},69100:function(e,t,n){var r=n(99489),i=n(57067);function o(t,n,a){return i()?(e.exports=o=Reflect.construct,e.exports.__esModule=!0,e.exports.default=e.exports):(e.exports=o=function(e,t,n){var i=[null];i.push.apply(i,t);var o=new(Function.bind.apply(e,i));return n&&r(o,n.prototype),o},e.exports.__esModule=!0,e.exports.default=e.exports),o.apply(null,arguments)}e.exports=o,e.exports.__esModule=!0,e.exports.default=e.exports},93913:function(e){function t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e.exports=function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e},e.exports.__esModule=!0,e.exports.default=e.exports},99842:function(e,t,n){var r=n(29754),i=n(57067),o=n(78585);e.exports=function(e){var t=i();return function(){var n,i=r(e);if(t){var a=r(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return o(this,n)}},e.exports.__esModule=!0,e.exports.default=e.exports},16525:function(e,t,n){var r=n(58331);function i(){return"undefined"!==typeof Reflect&&Reflect.get?(e.exports=i=Reflect.get,e.exports.__esModule=!0,e.exports.default=e.exports):(e.exports=i=function(e,t,n){var i=r(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},e.exports.__esModule=!0,e.exports.default=e.exports),i.apply(this,arguments)}e.exports=i,e.exports.__esModule=!0,e.exports.default=e.exports},29754:function(e){function t(n){return e.exports=t=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},2205:function(e,t,n){var r=n(99489);e.exports=function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&r(e,t)},e.exports.__esModule=!0,e.exports.default=e.exports},70430:function(e){e.exports=function(e){return-1!==Function.toString.call(e).indexOf("[native code]")},e.exports.__esModule=!0,e.exports.default=e.exports},57067:function(e){e.exports=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}},e.exports.__esModule=!0,e.exports.default=e.exports},81109:function(e,t,n){var r=n(59713);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}e.exports=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e},e.exports.__esModule=!0,e.exports.default=e.exports},6479:function(e,t,n){var r=n(37316);e.exports=function(e,t){if(null==e)return{};var n,i,o=r(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o},e.exports.__esModule=!0,e.exports.default=e.exports},37316:function(e){e.exports=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i},e.exports.__esModule=!0,e.exports.default=e.exports},78585:function(e,t,n){var r=n(50008).default,i=n(81506);e.exports=function(e,t){if(t&&("object"===r(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return i(e)},e.exports.__esModule=!0,e.exports.default=e.exports},99489:function(e){function t(n,r){return e.exports=t=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n,r)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},58331:function(e,t,n){var r=n(29754);e.exports=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=r(e)););return e},e.exports.__esModule=!0,e.exports.default=e.exports},50008:function(e){function t(n){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},551:function(e,t,n){var r=n(31050);e.exports=function(e){return function(){return new r(e.apply(this,arguments))}},e.exports.__esModule=!0,e.exports.default=e.exports},65957:function(e,t,n){var r=n(29754),i=n(99489),o=n(70430),a=n(69100);function s(t){var n="function"===typeof Map?new Map:void 0;return e.exports=s=function(e){if(null===e||!o(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof n){if(n.has(e))return n.get(e);n.set(e,t)}function t(){return a(e,arguments,r(this).constructor)}return t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),i(t,e)},e.exports.__esModule=!0,e.exports.default=e.exports,s(t)}e.exports=s,e.exports.__esModule=!0,e.exports.default=e.exports},39968:function(e){e.exports=function(e){if("number"!==typeof e||isNaN(e))throw new TypeError("Expected a number, got "+typeof e);var t=e<0,n=["B","KB","MB","GB","TB","PB","EB","ZB","YB"];if(t&&(e=-e),e<1)return(t?"-":"")+e+" B";var r=Math.min(Math.floor(Math.log(e)/Math.log(1024)),n.length-1);e=Number(e/Math.pow(1024,r));var i=n[r];return e>=10||e%1===0?(t?"-":"")+e.toFixed(0)+" "+i:(t?"-":"")+e.toFixed(1)+" "+i}},93870:function(e,t,n){"use strict";var r=n(59713).default,i=n(81109).default,o=n(34575).default,a=n(93913).default,s=n(72775);e.exports=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};o(this,e),this.uppy=t,this.opts=n}return a(e,[{key:"getPluginState",value:function(){return this.uppy.getState().plugins[this.id]||{}}},{key:"setPluginState",value:function(e){var t=this.uppy.getState().plugins;this.uppy.setState({plugins:i(i({},t),{},r({},this.id,i(i({},t[this.id]),e)))})}},{key:"setOptions",value:function(e){this.opts=i(i({},this.opts),e),this.setPluginState(),this.i18nInit()}},{key:"i18nInit",value:function(){var e=new s([this.defaultLocale,this.uppy.locale,this.opts.locale]);this.i18n=e.translate.bind(e),this.i18nArray=e.translateArray.bind(e),this.setPluginState()}},{key:"addTarget",value:function(){throw new Error("Extend the addTarget method to add your plugin to another plugin's target")}},{key:"install",value:function(){}},{key:"uninstall",value:function(){}},{key:"render",value:function(){throw new Error("Extend the render method to add your plugin to a DOM element")}},{key:"update",value:function(){}},{key:"afterUpdate",value:function(){}}]),e}()},10161:function(e,t,n){"use strict";var r=n(34575).default,i=n(93913).default,o=n(81506).default,a=n(2205).default,s=n(99842).default,u=n(319).default;function l(e,t){if(!Object.prototype.hasOwnProperty.call(e,t))throw new TypeError("attempted to use private field on non-instance");return e}var c=0;function p(e){return"__private_"+c+++"_"+e}var d=n(58620).render,f=n(5843),h=n(93870);var v=p("updateUI"),y=function(e){a(n,e);var t=s(n);function n(){var e;r(this,n);for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return e=t.call.apply(t,[this].concat(a)),Object.defineProperty(o(e),v,{writable:!0,value:void 0}),e}return i(n,[{key:"mount",value:function(e,t){var r,i=this,o=t.id,a=f(e);if(a){this.isTargetDOMEl=!0;var s=document.createDocumentFragment();return l(this,v)[v]=function(e){var t=null,n=null;return function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=i,t||(t=Promise.resolve().then((function(){return t=null,e.apply(void 0,u(n))}))),t}}((function(e){i.uppy.getPlugin(i.id)&&(d(i.render(e),s),i.afterUpdate())})),this.uppy.log("Installing ".concat(o," to a DOM element '").concat(e,"'")),this.opts.replaceTargetContent&&(a.innerHTML=""),d(this.render(this.uppy.getState()),s),this.el=s.firstElementChild,a.appendChild(s),this.onMount(),this.el}if("object"===typeof e&&e instanceof n)r=e;else if("function"===typeof e){var c=e;this.uppy.iteratePlugins((function(e){if(e instanceof c)return r=e,!1}))}if(r)return this.uppy.log("Installing ".concat(o," to ").concat(r.id)),this.parent=r,this.el=r.addTarget(t),this.onMount(),this.el;this.uppy.log("Not installing ".concat(o));var p="Invalid target option given to ".concat(o,".");throw p+="function"===typeof e?" The given target is not a Plugin class. Please check that you're not specifying a React Component instead of a plugin. If you are using @uppy/* packages directly, make sure you have only 1 version of @uppy/core installed: run `npm ls @uppy/core` on the command line and verify that all the versions match and are deduped correctly.":"If you meant to target an HTML element, please make sure that the element exists. Check that the <script> tag initializing Uppy is right before the closing </body> tag at the end of the page. (see https://github.com/transloadit/uppy/issues/1042)\n\nIf you meant to target a plugin, please confirm that your `import` statements or `require` calls are correct.",new Error(p)}},{key:"update",value:function(e){var t,n;null!=this.el&&(null==(t=(n=l(this,v))[v])||t.call(n,e))}},{key:"unmount",value:function(){var e;this.isTargetDOMEl&&(null==(e=this.el)||e.remove());this.onUnmount()}},{key:"onMount",value:function(){}},{key:"onUnmount",value:function(){}}]),n}(h);e.exports=y},73307:function(e,t,n){"use strict";var r=n(87757),i=n(48926).default,o=n(319).default,a=n(59713).default,s=n(81109).default,u=n(93913).default,l=n(34575).default,c=n(2205).default,p=n(99842).default,d=n(65957).default;function f(e,t){if(!Object.prototype.hasOwnProperty.call(e,t))throw new TypeError("attempted to use private field on non-instance");return e}var h=0;function v(e){return"__private_"+h+++"_"+e}var y=n(72775),m=n(15336),g=n(422).nanoid,b=n(33881),k=n(39968),w=n(92026),_=n(28533),P=n(37846),S=n(22631),C=n(1379),x=n(48652),O=n(12241),F=n(95421),E=F.justErrorsLogger,A=F.debugLogger,T=function(e){c(n,e);var t=p(n);function n(){var e;l(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).isRestriction=!0,e}return u(n)}(d(Error));"undefined"===typeof AggregateError&&(globalThis.AggregateError=function(e){c(n,e);var t=p(n);function n(e,r){var i;return l(this,n),(i=t.call(this,r)).errors=e,i}return u(n)}(d(Error)));var U=function(e){c(n,e);var t=p(n);function n(){var e;l(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).isRestriction=!0,e}return u(n)}(AggregateError),R=v("plugins"),D=v("storeUnsubscribe"),I=v("emitter"),j=v("preProcessors"),B=v("uploaders"),M=v("postProcessors"),N=v("checkRestrictions"),L=v("checkMinNumberOfFiles"),z=v("checkRequiredMetaFieldsOnFile"),q=v("checkRequiredMetaFields"),H=v("showOrLogErrorAndThrow"),V=v("assertNewUploadAllowed"),W=v("checkAndCreateFileStateObject"),K=v("startIfAutoProceed"),G=v("addListeners"),Y=v("updateOnlineStatus"),X=v("createUpload"),$=v("getUpload"),J=v("removeUpload"),Q=v("runUpload"),Z=function(e,t){function n(e){var t=this;l(this,n),Object.defineProperty(this,Q,{value:de}),Object.defineProperty(this,J,{value:pe}),Object.defineProperty(this,$,{value:ce}),Object.defineProperty(this,X,{value:le}),Object.defineProperty(this,G,{value:ue}),Object.defineProperty(this,K,{value:se}),Object.defineProperty(this,W,{value:ae}),Object.defineProperty(this,V,{value:oe}),Object.defineProperty(this,H,{value:ie}),Object.defineProperty(this,q,{value:re}),Object.defineProperty(this,z,{value:ne}),Object.defineProperty(this,L,{value:te}),Object.defineProperty(this,N,{value:ee}),Object.defineProperty(this,R,{writable:!0,value:Object.create(null)}),Object.defineProperty(this,D,{writable:!0,value:void 0}),Object.defineProperty(this,I,{writable:!0,value:m()}),Object.defineProperty(this,j,{writable:!0,value:new Set}),Object.defineProperty(this,B,{writable:!0,value:new Set}),Object.defineProperty(this,M,{writable:!0,value:new Set}),Object.defineProperty(this,Y,{writable:!0,value:this.updateOnlineStatus.bind(this)}),this.defaultLocale={strings:{addBulkFilesFailed:{0:"Failed to add %{smart_count} file due to an internal error",1:"Failed to add %{smart_count} files due to internal errors"},youCanOnlyUploadX:{0:"You can only upload %{smart_count} file",1:"You can only upload %{smart_count} files"},youHaveToAtLeastSelectX:{0:"You have to select at least %{smart_count} file",1:"You have to select at least %{smart_count} files"},exceedsSize:"%{file} exceeds maximum allowed size of %{size}",missingRequiredMetaField:"Missing required meta fields",missingRequiredMetaFieldOnFile:"Missing required meta fields in %{fileName}",inferiorSize:"This file is smaller than the allowed size of %{size}",youCanOnlyUploadFileTypes:"You can only upload: %{types}",noMoreFilesAllowed:"Cannot add more files",noDuplicates:"Cannot add the duplicate file '%{fileName}', it already exists",companionError:"Connection with Companion failed",authAborted:"Authentication aborted",companionUnauthorizeHint:"To unauthorize to your %{provider} account, please go to %{url}",failedToUpload:"Failed to upload %{file}",noInternetConnection:"No Internet connection",connectedToInternet:"Connected to the Internet",noFilesFound:"You have no files or folders here",selectX:{0:"Select %{smart_count}",1:"Select %{smart_count}"},allFilesFromFolderNamed:"All files from folder %{name}",openFolderNamed:"Open folder %{name}",cancel:"Cancel",logOut:"Log out",filter:"Filter",resetFilter:"Reset filter",loading:"Loading...",authenticateWithTitle:"Please authenticate with %{pluginName} to select files",authenticateWith:"Connect to %{pluginName}",signInWithGoogle:"Sign in with Google",searchImages:"Search for images",enterTextToSearch:"Enter text to search for images",backToSearch:"Back to Search",emptyFolderAdded:"No files were added from empty folder",folderAlreadyAdded:'The folder "%{folder}" was already added',folderAdded:{0:"Added %{smart_count} file from %{folder}",1:"Added %{smart_count} files from %{folder}"}}};var r={id:"uppy",autoProceed:!1,allowMultipleUploads:!0,allowMultipleUploadBatches:!0,debug:!1,restrictions:{maxFileSize:null,minFileSize:null,maxTotalFileSize:null,maxNumberOfFiles:null,minNumberOfFiles:null,allowedFileTypes:null,requiredMetaFields:[]},meta:{},onBeforeFileAdded:function(e){return e},onBeforeUpload:function(e){return e},store:_(),logger:E,infoTimeout:5e3};if(this.opts=s(s(s({},r),e),{},{restrictions:s(s({},r.restrictions),e&&e.restrictions)}),e&&e.logger&&e.debug?this.log("You are using a custom `logger`, but also set `debug: true`, which uses built-in logger to output logs to console. Ignoring `debug: true` and using your custom `logger`.","warning"):e&&e.debug&&(this.opts.logger=A),this.log("Using Core v".concat(this.constructor.VERSION)),this.opts.restrictions.allowedFileTypes&&null!==this.opts.restrictions.allowedFileTypes&&!Array.isArray(this.opts.restrictions.allowedFileTypes))throw new TypeError("`restrictions.allowedFileTypes` must be an array");this.i18nInit(),this.calculateProgress=b(this.calculateProgress.bind(this),500,{leading:!0,trailing:!0}),this.store=this.opts.store,this.setState({plugins:{},files:{},currentUploads:{},allowNewUpload:!0,capabilities:{uploadProgress:x(),individualCancellation:!0,resumableUploads:!1},totalProgress:0,meta:s({},this.opts.meta),info:[],recoveredState:null}),f(this,D)[D]=this.store.subscribe((function(e,n,r){t.emit("state-update",e,n,r),t.updateAll(n)})),this.opts.debug&&"undefined"!==typeof window&&(window[this.opts.id]=this),f(this,G)[G]()}return u(n,[{key:"emit",value:function(e){for(var t,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];(t=f(this,I)[I]).emit.apply(t,[e].concat(r))}},{key:"on",value:function(e,t){return f(this,I)[I].on(e,t),this}},{key:"once",value:function(e,t){return f(this,I)[I].once(e,t),this}},{key:"off",value:function(e,t){return f(this,I)[I].off(e,t),this}},{key:"updateAll",value:function(e){this.iteratePlugins((function(t){t.update(e)}))}},{key:"setState",value:function(e){this.store.setState(e)}},{key:"getState",value:function(){return this.store.getState()}},{key:"state",get:function(){return this.getState()}},{key:"setFileState",value:function(e,t){if(!this.getState().files[e])throw new Error("Can\u2019t set state for ".concat(e," (the file could have been removed)"));this.setState({files:s(s({},this.getState().files),{},a({},e,s(s({},this.getState().files[e]),t)))})}},{key:"i18nInit",value:function(){var e=new y([this.defaultLocale,this.opts.locale]);this.i18n=e.translate.bind(e),this.i18nArray=e.translateArray.bind(e),this.locale=e.locale}},{key:"setOptions",value:function(e){this.opts=s(s(s({},this.opts),e),{},{restrictions:s(s({},this.opts.restrictions),e&&e.restrictions)}),e.meta&&this.setMeta(e.meta),this.i18nInit(),e.locale&&this.iteratePlugins((function(e){e.setOptions()})),this.setState()}},{key:"resetProgress",value:function(){var e={percentage:0,bytesUploaded:0,uploadComplete:!1,uploadStarted:null},t=s({},this.getState().files),n={};Object.keys(t).forEach((function(r){var i=s({},t[r]);i.progress=s(s({},i.progress),e),n[r]=i})),this.setState({files:n,totalProgress:0}),this.emit("reset-progress")}},{key:"addPreProcessor",value:function(e){f(this,j)[j].add(e)}},{key:"removePreProcessor",value:function(e){return f(this,j)[j].delete(e)}},{key:"addPostProcessor",value:function(e){f(this,M)[M].add(e)}},{key:"removePostProcessor",value:function(e){return f(this,M)[M].delete(e)}},{key:"addUploader",value:function(e){f(this,B)[B].add(e)}},{key:"removeUploader",value:function(e){return f(this,B)[B].delete(e)}},{key:"setMeta",value:function(e){var t=s(s({},this.getState().meta),e),n=s({},this.getState().files);Object.keys(n).forEach((function(t){n[t]=s(s({},n[t]),{},{meta:s(s({},n[t].meta),e)})})),this.log("Adding metadata:"),this.log(e),this.setState({meta:t,files:n})}},{key:"setFileMeta",value:function(e,t){var n=s({},this.getState().files);if(n[e]){var r=s(s({},n[e].meta),t);n[e]=s(s({},n[e]),{},{meta:r}),this.setState({files:n})}else this.log("Was trying to set metadata for a file that has been removed: ",e)}},{key:"getFile",value:function(e){return this.getState().files[e]}},{key:"getFiles",value:function(){var e=this.getState().files;return Object.values(e)}},{key:"getObjectOfFilesPerState",value:function(){var e=this.getState(),t=e.files,n=e.totalProgress,r=e.error,i=Object.values(t),o=i.filter((function(e){var t=e.progress;return!t.uploadComplete&&t.uploadStarted})),a=i.filter((function(e){return!e.progress.uploadStarted})),s=i.filter((function(e){return e.progress.uploadStarted||e.progress.preprocess||e.progress.postprocess})),u=i.filter((function(e){return e.progress.uploadStarted})),l=i.filter((function(e){return e.isPaused})),c=i.filter((function(e){return e.progress.uploadComplete})),p=i.filter((function(e){return e.error})),d=o.filter((function(e){return!e.isPaused})),f=i.filter((function(e){return e.progress.preprocess||e.progress.postprocess}));return{newFiles:a,startedFiles:s,uploadStartedFiles:u,pausedFiles:l,completeFiles:c,erroredFiles:p,inProgressFiles:o,inProgressNotPausedFiles:d,processingFiles:f,isUploadStarted:u.length>0,isAllComplete:100===n&&c.length===i.length&&0===f.length,isAllErrored:!!r&&p.length===i.length,isAllPaused:0!==o.length&&l.length===o.length,isUploadInProgress:o.length>0,isSomeGhost:i.some((function(e){return e.isGhost}))}}},{key:"validateRestrictions",value:function(e,t){try{return f(this,N)[N](e,t),{result:!0}}catch(n){return{result:!1,reason:n.message}}}},{key:"checkIfFileAlreadyExists",value:function(e){var t=this.getState().files;return!(!t[e]||t[e].isGhost)}},{key:"addFile",value:function(e){f(this,V)[V](e);var t=this.getState().files,n=f(this,W)[W](t,e);return t[n.id]&&t[n.id].isGhost&&(n=s(s({},t[n.id]),{},{data:e.data,isGhost:!1}),this.log("Replaced the blob in the restored ghost file: ".concat(n.name,", ").concat(n.id))),this.setState({files:s(s({},t),{},a({},n.id,n))}),this.emit("file-added",n),this.emit("files-added",[n]),this.log("Added file: ".concat(n.name,", ").concat(n.id,", mime type: ").concat(n.type)),f(this,K)[K](),n.id}},{key:"addFiles",value:function(e){var t=this;f(this,V)[V]();for(var n=s({},this.getState().files),r=[],i=[],o=0;o<e.length;o++)try{var a=f(this,W)[W](n,e[o]);n[a.id]&&n[a.id].isGhost&&(a=s(s({},n[a.id]),{},{data:e[o].data,isGhost:!1}),this.log("Replaced blob in a ghost file: ".concat(a.name,", ").concat(a.id))),n[a.id]=a,r.push(a)}catch(l){l.isRestriction||i.push(l)}if(this.setState({files:n}),r.forEach((function(e){t.emit("file-added",e)})),this.emit("files-added",r),r.length>5?this.log("Added batch of ".concat(r.length," files")):Object.keys(r).forEach((function(e){t.log("Added file: ".concat(r[e].name,"\n id: ").concat(r[e].id,"\n type: ").concat(r[e].type))})),r.length>0&&f(this,K)[K](),i.length>0){var u="Multiple errors occurred while adding files:\n";if(i.forEach((function(e){u+="\n * ".concat(e.message)})),this.info({message:this.i18n("addBulkFilesFailed",{smart_count:i.length}),details:u},"error",this.opts.infoTimeout),"function"===typeof AggregateError)throw new AggregateError(i,u);var l=new Error(u);throw l.errors=i,l}}},{key:"removeFiles",value:function(e,t){var n=this,r=this.getState(),i=r.files,o=r.currentUploads,a=s({},i),u=s({},o),l=Object.create(null);function c(e){return void 0===l[e]}e.forEach((function(e){i[e]&&(l[e]=i[e],delete a[e])})),Object.keys(u).forEach((function(e){var t=o[e].fileIDs.filter(c);0!==t.length?u[e]=s(s({},o[e]),{},{fileIDs:t}):delete u[e]}));var p={currentUploads:u,files:a};0===Object.keys(a).length&&(p.allowNewUpload=!0,p.error=null,p.recoveredState=null),this.setState(p),this.calculateTotalProgress();var d=Object.keys(l);d.forEach((function(e){n.emit("file-removed",l[e],t)})),d.length>5?this.log("Removed ".concat(d.length," files")):this.log("Removed files: ".concat(d.join(", ")))}},{key:"removeFile",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.removeFiles([e],t)}},{key:"pauseResume",value:function(e){if(this.getState().capabilities.resumableUploads&&!this.getFile(e).uploadComplete){var t=!(this.getFile(e).isPaused||!1);return this.setFileState(e,{isPaused:t}),this.emit("upload-pause",e,t),t}}},{key:"pauseAll",value:function(){var e=s({},this.getState().files);Object.keys(e).filter((function(t){return!e[t].progress.uploadComplete&&e[t].progress.uploadStarted})).forEach((function(t){var n=s(s({},e[t]),{},{isPaused:!0});e[t]=n})),this.setState({files:e}),this.emit("pause-all")}},{key:"resumeAll",value:function(){var e=s({},this.getState().files);Object.keys(e).filter((function(t){return!e[t].progress.uploadComplete&&e[t].progress.uploadStarted})).forEach((function(t){var n=s(s({},e[t]),{},{isPaused:!1,error:null});e[t]=n})),this.setState({files:e}),this.emit("resume-all")}},{key:"retryAll",value:function(){var e=s({},this.getState().files),t=Object.keys(e).filter((function(t){return e[t].error}));if(t.forEach((function(t){var n=s(s({},e[t]),{},{isPaused:!1,error:null});e[t]=n})),this.setState({files:e,error:null}),this.emit("retry-all",t),0===t.length)return Promise.resolve({successful:[],failed:[]});var n=f(this,X)[X](t,{forceAllowNewUpload:!0});return f(this,Q)[Q](n)}},{key:"cancelAll",value:function(){this.emit("cancel-all");var e=this.getState().files,t=Object.keys(e);t.length&&this.removeFiles(t,"cancel-all"),this.setState({totalProgress:0,error:null,recoveredState:null})}},{key:"retryUpload",value:function(e){this.setFileState(e,{error:null,isPaused:!1}),this.emit("upload-retry",e);var t=f(this,X)[X]([e],{forceAllowNewUpload:!0});return f(this,Q)[Q](t)}},{key:"reset",value:function(){this.cancelAll()}},{key:"logout",value:function(){this.iteratePlugins((function(e){e.provider&&e.provider.logout&&e.provider.logout()}))}},{key:"calculateProgress",value:function(e,t){if(this.getFile(e.id)){var n=Number.isFinite(t.bytesTotal)&&t.bytesTotal>0;this.setFileState(e.id,{progress:s(s({},this.getFile(e.id).progress),{},{bytesUploaded:t.bytesUploaded,bytesTotal:t.bytesTotal,percentage:n?Math.round(t.bytesUploaded/t.bytesTotal*100):0})}),this.calculateTotalProgress()}else this.log("Not setting progress for a file that has been removed: ".concat(e.id))}},{key:"calculateTotalProgress",value:function(){var e=this.getFiles().filter((function(e){return e.progress.uploadStarted||e.progress.preprocess||e.progress.postprocess}));if(0===e.length)return this.emit("progress",0),void this.setState({totalProgress:0});var t=e.filter((function(e){return null!=e.progress.bytesTotal})),n=e.filter((function(e){return null==e.progress.bytesTotal}));if(0!==t.length){var r=t.reduce((function(e,t){return e+t.progress.bytesTotal}),0),i=r/t.length;r+=i*n.length;var o=0;t.forEach((function(e){o+=e.progress.bytesUploaded})),n.forEach((function(e){o+=i*(e.progress.percentage||0)/100}));var a=0===r?0:Math.round(o/r*100);a>100&&(a=100),this.setState({totalProgress:a}),this.emit("progress",a)}else{var s=100*e.length,u=n.reduce((function(e,t){return e+t.progress.percentage}),0),l=Math.round(u/s*100);this.setState({totalProgress:l})}}},{key:"updateOnlineStatus",value:function(){"undefined"===typeof window.navigator.onLine||window.navigator.onLine?(this.emit("is-online"),this.wasOffline&&(this.emit("back-online"),this.info(this.i18n("connectedToInternet"),"success",3e3),this.wasOffline=!1)):(this.emit("is-offline"),this.info(this.i18n("noInternetConnection"),"error",0),this.wasOffline=!0)}},{key:"getID",value:function(){return this.opts.id}},{key:"use",value:function(e,t){if("function"!==typeof e){var n="Expected a plugin class, but got ".concat(null===e?"null":typeof e,".")+" Please verify that the plugin was imported and spelled correctly.";throw new TypeError(n)}var r=new e(this,t),i=r.id;if(!i)throw new Error("Your plugin must have an id");if(!r.type)throw new Error("Your plugin must have a type");var o=this.getPlugin(i);if(o){var a="Already found a plugin named '".concat(o.id,"'. ")+"Tried to use: '".concat(i,"'.\n")+"Uppy plugins must have unique `id` options. See https://uppy.io/docs/plugins/#id.";throw new Error(a)}return e.VERSION&&this.log("Using ".concat(i," v").concat(e.VERSION)),r.type in f(this,R)[R]?f(this,R)[R][r.type].push(r):f(this,R)[R][r.type]=[r],r.install(),this}},{key:"getPlugin",value:function(e){for(var t=0,n=Object.values(f(this,R)[R]);t<n.length;t++){var r=n[t].find((function(t){return t.id===e}));if(null!=r)return r}}},{key:e,value:function(e){return f(this,R)[R][e]}},{key:"iteratePlugins",value:function(e){Object.values(f(this,R)[R]).flat(1).forEach(e)}},{key:"removePlugin",value:function(e){this.log("Removing plugin ".concat(e.id)),this.emit("plugin-remove",e),e.uninstall&&e.uninstall();var t=f(this,R)[R][e.type],n=t.findIndex((function(t){return t.id===e.id}));-1!==n&&t.splice(n,1);var r=this.getState(),i={plugins:s(s({},r.plugins),{},a({},e.id,void 0))};this.setState(i)}},{key:"close",value:function(){var e=this;this.log("Closing Uppy instance ".concat(this.opts.id,": removing all files and uninstalling plugins")),this.reset(),f(this,D)[D](),this.iteratePlugins((function(t){e.removePlugin(t)})),"undefined"!==typeof window&&window.removeEventListener&&(window.removeEventListener("online",f(this,Y)[Y]),window.removeEventListener("offline",f(this,Y)[Y]))}},{key:"hideInfo",value:function(){var e=this.getState().info;this.setState({info:e.slice(1)}),this.emit("info-hidden")}},{key:"info",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3e3,i="object"===typeof e;this.setState({info:[].concat(o(this.getState().info),[{type:n,message:i?e.message:e,details:i?e.details:null}])}),setTimeout((function(){return t.hideInfo()}),r),this.emit("info-visible")}},{key:"log",value:function(e,t){var n=this.opts.logger;switch(t){case"error":n.error(e);break;case"warning":n.warn(e);break;default:n.debug(e)}}},{key:"restore",value:function(e){return this.log('Core: attempting to restore upload "'.concat(e,'"')),this.getState().currentUploads[e]?f(this,Q)[Q](e):(f(this,J)[J](e),Promise.reject(new Error("Nonexistent upload")))}},{key:t,value:function(){var e;return(e=f(this,X))[X].apply(e,arguments)}},{key:"addResultData",value:function(e,t){if(f(this,$)[$](e)){var n=this.getState().currentUploads,r=s(s({},n[e]),{},{result:s(s({},n[e].result),t)});this.setState({currentUploads:s(s({},n),{},a({},e,r))})}else this.log("Not setting result for an upload that has been removed: ".concat(e))}},{key:"upload",value:function(){var e,t=this;null!=(e=f(this,R)[R].uploader)&&e.length||this.log("No uploader type plugins are used","warning");var n=this.getState().files,r=this.opts.onBeforeUpload(n);return!1===r?Promise.reject(new Error("Not starting the upload because onBeforeUpload returned false")):(r&&"object"===typeof r&&(n=r,this.setState({files:n})),Promise.resolve().then((function(){f(t,L)[L](n),f(t,q)[q](n)})).catch((function(e){f(t,H)[H](e)})).then((function(){var e=t.getState().currentUploads,r=Object.values(e).flatMap((function(e){return e.fileIDs})),i=[];Object.keys(n).forEach((function(e){var n=t.getFile(e);n.progress.uploadStarted||-1!==r.indexOf(e)||i.push(n.id)}));var o=f(t,X)[X](i);return f(t,Q)[Q](o)})).catch((function(e){f(t,H)[H](e,{showInformer:!1})})))}}]),n}(Symbol.for("uppy test: getPlugins"),Symbol.for("uppy test: createUpload"));function ee(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getFiles(),n=this.opts.restrictions,r=n.maxFileSize,i=n.minFileSize,o=n.maxTotalFileSize,a=n.maxNumberOfFiles,s=n.allowedFileTypes;if(a&&t.length+1>a)throw new T("".concat(this.i18n("youCanOnlyUploadX",{smart_count:a})));if(s){var u=s.some((function(t){return t.indexOf("/")>-1?!!e.type&&w(e.type.replace(/;.*?$/,""),t):!("."!==t[0]||!e.extension)&&e.extension.toLowerCase()===t.substr(1).toLowerCase()}));if(!u){var l=s.join(", ");throw new T(this.i18n("youCanOnlyUploadFileTypes",{types:l}))}}if(o&&null!=e.size){var c=0;if(c+=e.size,t.forEach((function(e){c+=e.size})),c>o)throw new T(this.i18n("exceedsSize",{size:k(o),file:e.name}))}if(r&&null!=e.size&&e.size>r)throw new T(this.i18n("exceedsSize",{size:k(r),file:e.name}));if(i&&null!=e.size&&e.size<i)throw new T(this.i18n("inferiorSize",{size:k(i)}))}function te(e){var t=this.opts.restrictions.minNumberOfFiles;if(Object.keys(e).length<t)throw new T("".concat(this.i18n("youHaveToAtLeastSelectX",{smart_count:t})))}function ne(e){for(var t=this.opts.restrictions.requiredMetaFields,n=Object.prototype.hasOwnProperty,r=[],i=[],o=0;o<t.length;o++)if(!n.call(e.meta,t[o])||""===e.meta[t[o]]){var a=new T("".concat(this.i18n("missingRequiredMetaFieldOnFile",{fileName:e.name})));r.push(a),i.push(t[o]),f(this,H)[H](a,{file:e,showInformer:!1,throwErr:!1})}return this.setFileState(e.id,{missingRequiredMetaFields:i}),r}function re(e){var t=this,n=Object.keys(e).flatMap((function(e){var n=t.getFile(e);return f(t,z)[z](n)}));if(n.length)throw new U(n,"".concat(this.i18n("missingRequiredMetaField")))}function ie(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.showInformer,r=void 0===n||n,i=t.file,o=void 0===i?null:i,a=t.throwErr,s=void 0===a||a,u="object"===typeof e?e.message:e,l="object"===typeof e&&e.details?e.details:"",c=u;if(l&&(c+=" ".concat(l)),e.isRestriction?(this.log(c),this.emit("restriction-failed",o,e)):this.log(c,"error"),r&&this.info({message:u,details:l},"error",this.opts.infoTimeout),s)throw"object"===typeof e?e:new Error(e)}function oe(e){!1===this.getState().allowNewUpload&&f(this,H)[H](new T(this.i18n("noMoreFilesAllowed")),{file:e})}function ae(e,t){var n=P(t),r=O(n,t),i=S(r).extension,o=Boolean(t.isRemote),a=C(s(s({},t),{},{type:n}));if(this.checkIfFileAlreadyExists(a)){var u=new T(this.i18n("noDuplicates",{fileName:r}));f(this,H)[H](u,{file:t})}var l=t.meta||{};l.name=r,l.type=n;var c=Number.isFinite(t.data.size)?t.data.size:null,p={source:t.source||"",id:a,name:r,extension:i||"",meta:s(s({},this.getState().meta),l),type:n,data:t.data,progress:{percentage:0,bytesUploaded:0,bytesTotal:c,uploadComplete:!1,uploadStarted:null},size:c,isRemote:o,remote:t.remote||"",preview:t.preview},d=this.opts.onBeforeFileAdded(p,e);!1===d?f(this,H)[H](new T("Cannot add the file because onBeforeFileAdded returned false."),{showInformer:!1,fileDescriptor:t}):"object"===typeof d&&null!==d&&(p=d);try{var h=Object.keys(e).map((function(t){return e[t]}));f(this,N)[N](p,h)}catch(v){f(this,H)[H](v,{file:p})}return p}function se(){var e=this;this.opts.autoProceed&&!this.scheduledAutoProceed&&(this.scheduledAutoProceed=setTimeout((function(){e.scheduledAutoProceed=null,e.upload().catch((function(t){t.isRestriction||e.log(t.stack||t.message||t)}))}),4))}function ue(){var e=this,t=function(t,n,r){var i=t.message||"Unknown error";t.details&&(i+=" ".concat(t.details)),e.setState({error:i}),null!=n&&n.id in e.getState().files&&e.setFileState(n.id,{error:i,response:r})};this.on("error",t),this.on("upload-error",(function(n,r,i){if(t(r,n,i),"object"===typeof r&&r.message){var o=new Error(r.message);o.details=r.message,r.details&&(o.details+=" ".concat(r.details)),o.message=e.i18n("failedToUpload",{file:n.name}),f(e,H)[H](o,{throwErr:!1})}else f(e,H)[H](r,{throwErr:!1})})),this.on("upload",(function(){e.setState({error:null})})),this.on("upload-started",(function(t){e.getFile(t.id)?e.setFileState(t.id,{progress:{uploadStarted:Date.now(),uploadComplete:!1,percentage:0,bytesUploaded:0,bytesTotal:t.size}}):e.log("Not setting progress for a file that has been removed: ".concat(t.id))})),this.on("upload-progress",this.calculateProgress),this.on("upload-success",(function(t,n){if(e.getFile(t.id)){var r=e.getFile(t.id).progress;e.setFileState(t.id,{progress:s(s({},r),{},{postprocess:f(e,M)[M].size>0?{mode:"indeterminate"}:null,uploadComplete:!0,percentage:100,bytesUploaded:r.bytesTotal}),response:n,uploadURL:n.uploadURL,isPaused:!1}),null==t.size&&e.setFileState(t.id,{size:n.bytesUploaded||r.bytesTotal}),e.calculateTotalProgress()}else e.log("Not setting progress for a file that has been removed: ".concat(t.id))})),this.on("preprocess-progress",(function(t,n){e.getFile(t.id)?e.setFileState(t.id,{progress:s(s({},e.getFile(t.id).progress),{},{preprocess:n})}):e.log("Not setting progress for a file that has been removed: ".concat(t.id))})),this.on("preprocess-complete",(function(t){if(e.getFile(t.id)){var n=s({},e.getState().files);n[t.id]=s(s({},n[t.id]),{},{progress:s({},n[t.id].progress)}),delete n[t.id].progress.preprocess,e.setState({files:n})}else e.log("Not setting progress for a file that has been removed: ".concat(t.id))})),this.on("postprocess-progress",(function(t,n){e.getFile(t.id)?e.setFileState(t.id,{progress:s(s({},e.getState().files[t.id].progress),{},{postprocess:n})}):e.log("Not setting progress for a file that has been removed: ".concat(t.id))})),this.on("postprocess-complete",(function(t){if(e.getFile(t.id)){var n=s({},e.getState().files);n[t.id]=s(s({},n[t.id]),{},{progress:s({},n[t.id].progress)}),delete n[t.id].progress.postprocess,e.setState({files:n})}else e.log("Not setting progress for a file that has been removed: ".concat(t.id))})),this.on("restored",(function(){e.calculateTotalProgress()})),this.on("dashboard:file-edit-complete",(function(t){t&&f(e,z)[z](t)})),"undefined"!==typeof window&&window.addEventListener&&(window.addEventListener("online",f(this,Y)[Y]),window.addEventListener("offline",f(this,Y)[Y]),setTimeout(f(this,Y)[Y],3e3))}function le(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.forceAllowNewUpload,r=void 0!==n&&n,i=this.getState(),o=i.allowNewUpload,u=i.currentUploads;if(!o&&!r)throw new Error("Cannot create a new upload: already uploading.");var l=g();return this.emit("upload",{id:l,fileIDs:e}),this.setState({allowNewUpload:!1!==this.opts.allowMultipleUploadBatches&&!1!==this.opts.allowMultipleUploads,currentUploads:s(s({},u),{},a({},l,{fileIDs:e,step:0,result:{}}))}),l}function ce(e){return this.getState().currentUploads[e]}function pe(e){var t=s({},this.getState().currentUploads);delete t[e],this.setState({currentUploads:t})}function de(e){return fe.apply(this,arguments)}function fe(){return(fe=i(r.mark((function e(t){var n,i,u,l,c,p,d,h,v,y,m,g,b=this;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=this.getState(),i=n.currentUploads,u=i[t],l=u.step||0,c=[].concat(o(Array.from(f(this,j)[j])),o(Array.from(f(this,B)[B])),o(Array.from(f(this,M)[M]))),e.prev=4,p=l;case 6:if(!(p<c.length)){e.next=19;break}if(u){e.next=9;break}return e.abrupt("break",19);case 9:return d=c[p],h=s(s({},u),{},{step:p}),this.setState({currentUploads:s(s({},i),{},a({},t,h))}),e.next=14,d(h.fileIDs,t);case 14:i=this.getState().currentUploads,u=i[t];case 16:p++,e.next=6;break;case 19:e.next=26;break;case 21:throw e.prev=21,e.t0=e.catch(4),this.emit("error",e.t0),f(this,J)[J](t),e.t0;case 26:if(!u){e.next=35;break}return u.fileIDs.forEach((function(e){var t=b.getFile(e);t&&t.progress.postprocess&&b.emit("postprocess-complete",t)})),v=u.fileIDs.map((function(e){return b.getFile(e)})),y=v.filter((function(e){return!e.error})),m=v.filter((function(e){return e.error})),e.next=33,this.addResultData(t,{successful:y,failed:m,uploadID:t});case 33:i=this.getState().currentUploads,u=i[t];case 35:return u&&(g=u.result,this.emit("complete",g),f(this,J)[J](t)),null==g&&this.log("Not setting result for an upload that has been removed: ".concat(t)),e.abrupt("return",g);case 38:case"end":return e.stop()}}),e,this,[[4,21]])})))).apply(this,arguments)}Z.VERSION="2.1.2",e.exports=Z},12241:function(e){"use strict";e.exports=function(e,t){return t.name?t.name:"image"===e.split("/")[0]?"".concat(e.split("/")[0],".").concat(e.split("/")[1]):"noname"}},65025:function(e,t,n){"use strict";var r=n(73307),i=n(10161),o=n(93870),a=n(95421).debugLogger;e.exports=r,e.exports.Uppy=r,e.exports.UIPlugin=i,e.exports.BasePlugin=o,e.exports.debugLogger=a},95421:function(e,t,n){"use strict";var r=n(83230),i={debug:function(){},warn:function(){},error:function(){for(var e,t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return(e=console).error.apply(e,["[Uppy] [".concat(r(),"]")].concat(n))}},o={debug:function(){for(var e,t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return(e=console).debug.apply(e,["[Uppy] [".concat(r(),"]")].concat(n))},warn:function(){for(var e,t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return(e=console).warn.apply(e,["[Uppy] [".concat(r(),"]")].concat(n))},error:function(){for(var e,t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return(e=console).error.apply(e,["[Uppy] [".concat(r(),"]")].concat(n))}};e.exports={justErrorsLogger:i,debugLogger:o}},48652:function(e,t,n){"use strict";var r=n(63038).default;e.exports=function(e){if(null==e&&(e="undefined"!==typeof navigator?navigator.userAgent:null),!e)return!0;var t=/Edge\/(\d+\.\d+)/.exec(e);if(!t)return!0;var n=t[1].split("."),i=r(n,2),o=i[0],a=i[1];return o=parseInt(o,10),a=parseInt(a,10),o<15||15===o&&a<15063||(o>18||18===o&&a>=18218)}},16102:function(e,t,n){"use strict";var r=n(81109).default,i=n(34575).default,o=n(93913).default,a=n(2205).default,s=n(99842).default,u=n(72791),l=n(15465),c=n(52832).dashboard,p=n(99535),d=n(86674),f=u.createElement,h=function(e){a(n,e);var t=s(n);function n(){return i(this,n),t.apply(this,arguments)}return o(n,[{key:"componentDidMount",value:function(){this.installPlugin()}},{key:"componentDidUpdate",value:function(e){if(e.uppy!==this.props.uppy)this.uninstallPlugin(e),this.installPlugin();else if(d(this,e)){var t=r(r({},this.props),{},{target:this.container});delete t.uppy,this.plugin.setOptions(t)}}},{key:"componentWillUnmount",value:function(){this.uninstallPlugin()}},{key:"installPlugin",value:function(){var e=this.props.uppy,t=r(r({id:"react:Dashboard"},this.props),{},{target:this.container});delete t.uppy,e.use(l,t),this.plugin=e.getPlugin(t.id)}},{key:"uninstallPlugin",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,t=e.uppy;t.removePlugin(this.plugin)}},{key:"render",value:function(){var e=this;return this.validProps=p(this.props),f("div",r({ref:function(t){e.container=t}},this.validProps))}}]),n}(u.Component);h.propTypes=c,h.defaultProps={inline:!0},e.exports=h},5521:function(e,t,n){"use strict";var r=n(81109).default,i=n(34575).default,o=n(93913).default,a=n(2205).default,s=n(99842).default,u=n(72791),l=n(52007),c=n(15465),p=n(52832).dashboard,d=n(99535),f=n(86674),h=u.createElement,v=function(e){a(n,e);var t=s(n);function n(){return i(this,n),t.apply(this,arguments)}return o(n,[{key:"componentDidMount",value:function(){this.installPlugin()}},{key:"componentDidUpdate",value:function(e){if(e.uppy!==this.props.uppy)this.uninstallPlugin(e),this.installPlugin();else if(f(this,e)){var t=r(r({},this.props),{},{onRequestCloseModal:this.props.onRequestClose});delete t.uppy,this.plugin.setOptions(t)}e.open&&!this.props.open?this.plugin.closeModal():!e.open&&this.props.open&&this.plugin.openModal()}},{key:"componentWillUnmount",value:function(){this.uninstallPlugin()}},{key:"installPlugin",value:function(){var e=this.props.uppy,t=r(r({id:"react:DashboardModal"},this.props),{},{onRequestCloseModal:this.props.onRequestClose});t.target||(t.target=this.container),delete t.uppy,e.use(c,t),this.plugin=e.getPlugin(t.id),this.props.open&&this.plugin.openModal()}},{key:"uninstallPlugin",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,t=e.uppy;t.removePlugin(this.plugin)}},{key:"render",value:function(){var e=this;return this.validProps=d(this.props),h("div",r({ref:function(t){e.container=t}},this.validProps))}}]),n}(u.Component);v.propTypes=r({target:"undefined"!==typeof window?l.instanceOf(window.HTMLElement):l.any,open:l.bool,onRequestClose:l.func,closeModalOnClickOutside:l.bool,disablePageScrollWhenModalOpen:l.bool},p),e.exports=v},73183:function(e,t,n){"use strict";var r=n(81109).default,i=n(34575).default,o=n(93913).default,a=n(2205).default,s=n(99842).default,u=n(72791),l=n(15581),c=n(52832),p=n(99535),d=n(86674),f=u.createElement,h=function(e){a(n,e);var t=s(n);function n(){return i(this,n),t.apply(this,arguments)}return o(n,[{key:"componentDidMount",value:function(){this.installPlugin()}},{key:"componentDidUpdate",value:function(e){if(e.uppy!==this.props.uppy)this.uninstallPlugin(e),this.installPlugin();else if(d(this,e)){var t=r(r({},this.props),{},{target:this.container});delete t.uppy,this.plugin.setOptions(t)}}},{key:"componentWillUnmount",value:function(){this.uninstallPlugin()}},{key:"installPlugin",value:function(){var e=this.props.uppy,t=r(r({id:"react:DragDrop"},this.props),{},{target:this.container});delete t.uppy,e.use(l,t),this.plugin=e.getPlugin(t.id)}},{key:"uninstallPlugin",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,t=e.uppy;t.removePlugin(this.plugin)}},{key:"render",value:function(){var e=this;return this.validProps=p(this.props),f("div",r({ref:function(t){e.container=t}},this.validProps))}}]),n}(u.Component);h.propTypes={uppy:c.uppy,locale:c.locale},h.defaultProps={},e.exports=h},99725:function(e,t,n){"use strict";var r=n(81109).default,i=n(34575).default,o=n(93913).default,a=n(2205).default,s=n(99842).default,u=n(52007),l=n(72791),c=n(92236),p=n(52832),d=l.createElement,f=function(e){a(n,e);var t=s(n);function n(){return i(this,n),t.apply(this,arguments)}return o(n,[{key:"componentDidMount",value:function(){this.installPlugin()}},{key:"componentDidUpdate",value:function(e){e.uppy!==this.props.uppy&&(this.uninstallPlugin(e),this.installPlugin())}},{key:"componentWillUnmount",value:function(){this.uninstallPlugin()}},{key:"installPlugin",value:function(){var e=this.props.uppy,t=r(r({id:"react:FileInput"},this.props),{},{target:this.container});delete t.uppy,e.use(c,t),this.plugin=e.getPlugin(t.id)}},{key:"uninstallPlugin",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,t=e.uppy;t.removePlugin(this.plugin)}},{key:"render",value:function(){var e=this;return d("div",{ref:function(t){e.container=t}})}}]),n}(l.Component);f.propTypes={uppy:p.uppy,locale:p.locale,pretty:u.bool,inputName:u.string},f.defaultProps={},e.exports=f},33281:function(e,t,n){"use strict";var r=n(81109).default,i=n(34575).default,o=n(93913).default,a=n(2205).default,s=n(99842).default,u=n(72791),l=n(52007),c=n(30878),p=n(52832).uppy,d=n(99535),f=n(86674),h=u.createElement,v=function(e){a(n,e);var t=s(n);function n(){return i(this,n),t.apply(this,arguments)}return o(n,[{key:"componentDidMount",value:function(){this.installPlugin()}},{key:"componentDidUpdate",value:function(e){if(e.uppy!==this.props.uppy)this.uninstallPlugin(e),this.installPlugin();else if(f(this,e)){var t=r(r({},this.props),{},{target:this.container});delete t.uppy,this.plugin.setOptions(t)}}},{key:"componentWillUnmount",value:function(){this.uninstallPlugin()}},{key:"installPlugin",value:function(){var e=this.props.uppy,t=r(r({id:"react:ProgressBar"},this.props),{},{target:this.container});delete t.uppy,e.use(c,t),this.plugin=e.getPlugin(t.id)}},{key:"uninstallPlugin",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,t=e.uppy;t.removePlugin(this.plugin)}},{key:"render",value:function(){var e=this;return this.validProps=d(this.props),h("div",r({ref:function(t){e.container=t}},this.validProps))}}]),n}(u.Component);v.propTypes={uppy:p,fixed:l.bool,hideAfterFinish:l.bool},v.defaultProps={},e.exports=v},87431:function(e,t,n){"use strict";var r=n(81109).default,i=n(34575).default,o=n(93913).default,a=n(2205).default,s=n(99842).default,u=n(72791),l=n(52007),c=n(62454),p=n(52832).uppy,d=n(99535),f=n(86674),h=u.createElement,v=function(e){a(n,e);var t=s(n);function n(){return i(this,n),t.apply(this,arguments)}return o(n,[{key:"componentDidMount",value:function(){this.installPlugin()}},{key:"componentDidUpdate",value:function(e){if(e.uppy!==this.props.uppy)this.uninstallPlugin(e),this.installPlugin();else if(f(this,e)){var t=r(r({},this.props),{},{target:this.container});delete t.uppy,this.plugin.setOptions(t)}}},{key:"componentWillUnmount",value:function(){this.uninstallPlugin()}},{key:"installPlugin",value:function(){var e=this.props.uppy,t=r(r({id:"react:StatusBar"},this.props),{},{target:this.container});delete t.uppy,e.use(c,t),this.plugin=e.getPlugin(t.id)}},{key:"uninstallPlugin",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,t=e.uppy;t.removePlugin(this.plugin)}},{key:"render",value:function(){var e=this;return this.validProps=d(this.props),h("div",r({ref:function(t){e.container=t}},this.validProps))}}]),n}(u.Component);v.propTypes={uppy:p,hideAfterFinish:l.bool,showProgressDetails:l.bool},v.defaultProps={},e.exports=v},99535:function(e,t,n){"use strict";var r=n(63038).default,i=["defaultChecked","defaultValue","suppressContentEditableWarning","suppressHydrationWarning","dangerouslySetInnerHTML","accessKey","className","contentEditable","contextMenu","dir","draggable","hidden","id","lang","placeholder","slot","spellCheck","style","tabIndex","title","translate","radioGroup","role","about","datatype","inlist","prefix","property","resource","typeof","vocab","autoCapitalize","autoCorrect","autoSave","color","itemProp","itemScope","itemType","itemID","itemRef","results","security","unselectable","inputMode","is","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],o=/^(aria-|data-)/;e.exports=function(e){return Object.fromEntries(Object.entries(e).filter((function(e){var t=r(e,1)[0];return o.test(t)||i.includes(t)})))}},86674:function(e){"use strict";e.exports=function(e,t){return Object.keys(e.props).some((function(n){return!function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(e.validProps,n)&&e.props[n]!==t[n]}))}},52832:function(e,t,n){"use strict";var r=n(52007),i=n(65025).Uppy,o=r.instanceOf(i).isRequired,a=r.arrayOf(r.string),s=r.shape({strings:r.object,pluralize:r.func}),u=r.shape({id:r.string.isRequired,name:r.string.isRequired,placeholder:r.string}),l=r.oneOfType([r.arrayOf(u),r.func]),c=r.oneOfType([r.string,r.number]),p={uppy:o,inline:r.bool,plugins:a,width:c,height:c,showProgressDetails:r.bool,hideUploadButton:r.bool,hideProgressAfterFinish:r.bool,note:r.string,metaFields:l,proudlyDisplayPoweredByUppy:r.bool,disableStatusBar:r.bool,disableInformer:r.bool,disableThumbnailGenerator:r.bool,thumbnailWidth:r.number,locale:s};e.exports={uppy:o,locale:s,dashboard:p}},10492:function(e,t,n){"use strict";var r=n(72791),i=r.useEffect,o=r.useRef,a=n(65025).Uppy;e.exports=function(e){if("function"!==typeof e)throw new TypeError("useUppy: expected a function that returns a new Uppy instance");var t=o(void 0);if(void 0===t.current&&(t.current=e(),!(t.current instanceof a)))throw new TypeError("useUppy: factory function must return an Uppy instance, got ".concat(typeof t.current));return i((function(){return function(){t.current.close()}}),[]),t.current}},55154:function(e,t,n){"use strict";var r=n(34575).default,i=n(93913).default,o=n(81506).default,a=n(2205).default,s=n(99842).default;function u(e,t){if(!Object.prototype.hasOwnProperty.call(e,t))throw new TypeError("attempted to use private field on non-instance");return e}var l=0;function c(e){return"__private_"+l+++"_"+e}var p,d=n(79773),f=n(62850),h=n(33394),v=n(71933),y=n(19147);var m="ASSEMBLY_EXECUTING",g="ASSEMBLY_COMPLETED",b=["ASSEMBLY_UPLOADING",m,g];function k(e,t){return b.indexOf(e)>=b.indexOf(t)}var w=c("onFinished"),_=c("connectSocket"),P=c("onError"),S=c("beginPolling"),C=c("fetchStatus"),x=c("diffStatus"),O=function(e){a(n,e);var t=s(n);function n(e){var i;return r(this,n),i=t.call(this),Object.defineProperty(o(i),x,{value:R}),Object.defineProperty(o(i),C,{value:U}),Object.defineProperty(o(i),S,{value:T}),Object.defineProperty(o(i),P,{value:A}),Object.defineProperty(o(i),_,{value:E}),Object.defineProperty(o(i),w,{value:F}),i.status=e,i.socket=null,i.pollInterval=null,i.closed=!1,i}return i(n,[{key:"connect",value:function(){u(this,_)[_](),u(this,S)[S]()}},{key:"update",value:function(){return u(this,C)[C]({diff:!0})}},{key:"updateStatus",value:function(e){u(this,x)[x](this.status,e),this.status=e}},{key:"close",value:function(){this.closed=!0,this.socket&&(this.socket.disconnect(),this.socket=null),clearInterval(this.pollInterval)}}]),n}(d);function F(){this.emit("finished"),this.close()}function E(){var e=this,t=y(this.status.websocket_url),r=(null!=p||(p=n(19793)),p).connect(t.origin,{transports:["websocket"],path:t.pathname});r.on("connect",(function(){r.emit("assembly_connect",{id:e.status.assembly_id}),e.emit("connect")})),r.on("connect_failed",(function(){u(e,P)[P](new h("Transloadit Socket.io connection error")),e.socket=null})),r.on("connect_error",(function(){r.disconnect(),e.socket=null})),r.on("assembly_finished",(function(){u(e,w)[w]()})),r.on("assembly_upload_finished",(function(t){e.emit("upload",t),e.status.uploads.push(t)})),r.on("assembly_uploading_finished",(function(){e.emit("executing")})),r.on("assembly_upload_meta_data_extracted",(function(){e.emit("metadata"),u(e,C)[C]({diff:!1})})),r.on("assembly_result_finished",(function(t,n){e.emit("result",t,n),e.status.results[t]||(e.status.results[t]=[]),e.status.results[t].push(n)})),r.on("assembly_error",(function(t){u(e,P)[P](t),u(e,C)[C]({diff:!1})})),this.socket=r}function A(e){this.emit("error",Object.assign(new Error(e.message),e))}function T(){var e=this;this.pollInterval=setInterval((function(){e.socket&&e.socket.connected||u(e,C)[C]()}),2e3)}function U(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.diff,r=void 0===n||n;return v(this.status.assembly_ssl_url).then((function(e){return e.json()})).then((function(t){e.closed||(e.emit("status",t),r?e.updateStatus(t):e.status=t)})).catch((function(t){return u(e,P)[P](t)}))}function R(e,t){var n=this,r=e.ok,i=t.ok;if(t.error&&!e.error)return u(this,P)[P](t);var o=k(i,m)&&!k(r,m);o&&this.emit("executing"),Object.keys(t.uploads).filter((function(t){return!f(e.uploads,t)})).forEach((function(e){n.emit("upload",t.uploads[e])})),o&&this.emit("metadata"),Object.keys(t.results).forEach((function(r){var i=t.results[r],o=e.results[r];i.filter((function(e){return!o||!o.some((function(t){return t.id===e.id}))})).forEach((function(e){n.emit("result",r,e)}))})),k(i,g)&&!k(r,g)&&this.emit("finished")}e.exports=O},76750:function(e,t,n){"use strict";var r=n(87757),i=n(48926).default,o=n(34575).default,a=n(93913).default,s=n(43269).default;function u(e,t){if(!Object.prototype.hasOwnProperty.call(e,t))throw new TypeError("attempted to use private field on non-instance");return e}var l=0;function c(e){return"__private_"+l+++"_"+e}function p(e){if(null==e)throw new Error("Transloadit: The `params` option is required.");if("string"===typeof e)try{e=JSON.parse(e)}catch(n){var t=new Error("Transloadit: The `params` option is a malformed JSON string.");throw n.cause=n,t}if(!e.auth||!e.auth.key)throw new Error("Transloadit: The `params.auth.key` option is required. You can find your Transloadit API key at https://transloadit.com/account/api-settings.")}function d(e){var t,n=Object.create(null),r=s(e);try{for(r.s();!(t=r.n()).done;){var i=t.value,o=i.fileIDs,a=i.options,u=JSON.stringify(a);u in n?n[u].fileIDArrays.push(o):n[u]={options:a,fileIDArrays:[o]}}}catch(l){r.e(l)}finally{r.f()}return Object.values(n).map((function(e){return{options:e.options,fileIDs:e.fileIDArrays.flat(1)}}))}var f=c("getAssemblyOptions"),h=function(){function e(t,n){o(this,e),Object.defineProperty(this,f,{value:v}),this.files=t,this.opts=n}return a(e,[{key:"build",value:function(){var e=i(r.mark((function e(){var t,n,i=this;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.opts,!(this.files.length>0)){e.next=3;break}return e.abrupt("return",Promise.all(this.files.map((function(e){return u(i,f)[f](e)}))).then(d));case 3:if(!t.alwaysRunAssembly){e.next=9;break}return e.next=6,t.getAssemblyOptions(null,t);case 6:return p((n=e.sent).params),e.abrupt("return",[{fileIDs:this.files.map((function(e){return e.id})),options:n}]);case 9:return e.abrupt("return",[]);case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function v(e){return y.apply(this,arguments)}function y(){return(y=i(r.mark((function e(t){var n,i;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.opts,e.next=3,n.getAssemblyOptions(t,n);case 3:return i=e.sent,Array.isArray(i.fields)?i.fields=Object.fromEntries(i.fields.map((function(e){return[e,t.meta[e]]}))):null==i.fields&&(i.fields={}),p(i.params),e.abrupt("return",{fileIDs:[t.id],options:i});case 7:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}e.exports=h,e.exports.validateParams=p},72212:function(e,t,n){"use strict";var r=n(93913).default,i=n(34575).default,o=n(81506).default,a=n(2205).default,s=n(99842).default;function u(e,t){if(!Object.prototype.hasOwnProperty.call(e,t))throw new TypeError("attempted to use private field on non-instance");return e}var l=0;function c(e){return"__private_"+l+++"_"+e}var p=n(79773),d=c("assemblyIDs"),f=c("reject"),h=c("remaining"),v=c("resolve"),y=c("uppy"),m=c("watching"),g=c("onAssemblyComplete"),b=c("onAssemblyCancel"),k=c("onAssemblyError"),w=c("onImportError"),_=c("checkAllComplete"),P=c("removeListeners"),S=c("addListeners"),C=function(e){a(n,e);var t=s(n);function n(e,r){var a;return i(this,n),a=t.call(this),Object.defineProperty(o(a),S,{value:E}),Object.defineProperty(o(a),P,{value:F}),Object.defineProperty(o(a),_,{value:O}),Object.defineProperty(o(a),m,{value:x}),Object.defineProperty(o(a),d,{writable:!0,value:void 0}),Object.defineProperty(o(a),f,{writable:!0,value:void 0}),Object.defineProperty(o(a),h,{writable:!0,value:void 0}),Object.defineProperty(o(a),v,{writable:!0,value:void 0}),Object.defineProperty(o(a),y,{writable:!0,value:void 0}),Object.defineProperty(o(a),g,{writable:!0,value:function(e){u(o(a),m)[m](e.assembly_id)&&(u(o(a),y)[y].log("[Transloadit] AssemblyWatcher: Got Assembly finish ".concat(e.assembly_id)),a.emit("assembly-complete",e.assembly_id),u(o(a),_)[_]())}}),Object.defineProperty(o(a),b,{writable:!0,value:function(e){u(o(a),m)[m](e.assembly_id)&&u(o(a),_)[_]()}}),Object.defineProperty(o(a),k,{writable:!0,value:function(e,t){u(o(a),m)[m](e.assembly_id)&&(u(o(a),y)[y].log("[Transloadit] AssemblyWatcher: Got Assembly error ".concat(e.assembly_id)),u(o(a),y)[y].log(t),a.emit("assembly-error",e.assembly_id,t),u(o(a),_)[_]())}}),Object.defineProperty(o(a),w,{writable:!0,value:function(e,t,n){u(o(a),m)[m](e.assembly_id)&&u(o(a),k)[k](e,n)}}),u(o(a),y)[y]=e,u(o(a),d)[d]=r,u(o(a),h)[h]=r.length,a.promise=new Promise((function(e,t){u(o(a),v)[v]=e,u(o(a),f)[f]=t})),u(o(a),S)[S](),a}return r(n)}(p);function x(e){return-1!==u(this,d)[d].indexOf(e)}function O(){u(this,h)[h]-=1,0===u(this,h)[h]&&(u(this,P)[P](),u(this,v)[v]())}function F(){u(this,y)[y].off("transloadit:complete",u(this,g)[g]),u(this,y)[y].off("transloadit:assembly-cancel",u(this,b)[b]),u(this,y)[y].off("transloadit:assembly-error",u(this,k)[k]),u(this,y)[y].off("transloadit:import-error",u(this,w)[w])}function E(){u(this,y)[y].on("transloadit:complete",u(this,g)[g]),u(this,y)[y].on("transloadit:assembly-cancel",u(this,b)[b]),u(this,y)[y].on("transloadit:assembly-error",u(this,k)[k]),u(this,y)[y].on("transloadit:import-error",u(this,w)[w])}e.exports=C},44678:function(e,t,n){"use strict";var r,i,o=n(34575).default,a=n(93913).default;function s(e,t){if(!Object.prototype.hasOwnProperty.call(e,t))throw new TypeError("attempted to use private field on non-instance");return e}var u=0;function l(e){return"__private_"+u+++"_"+e}var c=n(71933);e.exports=(r=l("headers"),i=l("reportError"),function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};o(this,e),Object.defineProperty(this,r,{writable:!0,value:{}}),Object.defineProperty(this,i,{writable:!0,value:function(e,n){if(!1===t.opts.errorReporting)throw e;var r={type:n.type};throw n.assembly&&(r.assembly=n.assembly.assembly_id,r.instance=n.assembly.instance),n.url&&(r.endpoint=n.url),t.submitError(e,r).catch((function(){})),e}}),this.opts=n,null!=this.opts.client&&(s(this,r)[r]["Transloadit-Client"]=this.opts.client)}return a(e,[{key:"createAssembly",value:function(e){var t=this,n=e.params,o=e.fields,a=e.signature,u=e.expectedFiles,l=new FormData;l.append("params","string"===typeof n?n:JSON.stringify(n)),a&&l.append("signature",a),Object.keys(o).forEach((function(e){l.append(e,o[e])})),l.append("num_expected_upload_files",u);var p=new URL("/assemblies","".concat(this.opts.service)).href;return c(p,{method:"post",headers:s(this,r)[r],body:l}).then((function(e){return e.json()})).then((function(e){if(e.error){var t=new Error(e.error);throw t.details=e.message,t.assembly=e,e.assembly_id&&(t.details+=" Assembly ID: ".concat(e.assembly_id)),t}return e})).catch((function(e){return s(t,i)[i](e,{url:p,type:"API_ERROR"})}))}},{key:"reserveFile",value:function(e,t){var n=this,o=encodeURIComponent(t.size),a="".concat(e.assembly_ssl_url,"/reserve_file?size=").concat(o);return c(a,{method:"post",headers:s(this,r)[r]}).then((function(e){return e.json()})).catch((function(r){return s(n,i)[i](r,{assembly:e,file:t,url:a,type:"API_ERROR"})}))}},{key:"addFile",value:function(e,t){var n=this;if(!t.uploadURL)return Promise.reject(new Error("File does not have an `uploadURL`."));var o=encodeURIComponent(t.size),a=encodeURIComponent(t.uploadURL),u=encodeURIComponent(t.name),l="size=".concat(o,"&filename=").concat(u,"&fieldname=").concat("file","&s3Url=").concat(a),p="".concat(e.assembly_ssl_url,"/add_file?").concat(l);return c(p,{method:"post",headers:s(this,r)[r]}).then((function(e){return e.json()})).catch((function(r){return s(n,i)[i](r,{assembly:e,file:t,url:p,type:"API_ERROR"})}))}},{key:"cancelAssembly",value:function(e){var t=this,n=e.assembly_ssl_url;return c(n,{method:"delete",headers:s(this,r)[r]}).then((function(e){return e.json()})).catch((function(e){return s(t,i)[i](e,{url:n,type:"API_ERROR"})}))}},{key:"getAssemblyStatus",value:function(e){var t=this;return c(e,{headers:s(this,r)[r]}).then((function(e){return e.json()})).catch((function(n){return s(t,i)[i](n,{url:e,type:"STATUS_ERROR"})}))}},{key:"submitError",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.endpoint,r=t.instance,i=t.assembly,o=e.details?"".concat(e.message," (").concat(e.details,")"):e.message;return c("https://transloaditstatus.com/client_error",{method:"post",body:JSON.stringify({endpoint:n,instance:r,assembly_id:i,agent:"undefined"!==typeof navigator?navigator.userAgent:"",client:this.opts.client,error:o})}).then((function(e){return e.json()}))}}]),e}())},40372:function(e,t,n){"use strict";var r,i,o,a,s,u,l,c,p,d,f,h,v,y,m,g,b,k,w,_,P,S,C=n(319).default,x=n(81109).default,O=n(87757),F=n(48926).default,E=n(43269).default,A=n(63038).default,T=n(59713).default,U=n(34575).default,R=n(93913).default,D=n(81506).default,I=n(2205).default,j=n(99842).default;function B(e,t){if(!Object.prototype.hasOwnProperty.call(e,t))throw new TypeError("attempted to use private field on non-instance");return e}var M=0;function N(e){return"__private_"+M+++"_"+e}var L=n(62850),z=n(93870),q=n(83843),H=n(55154),V=n(44678),W=n(76750),K=n(72212);function G(e,t){return{params:t.params,signature:t.signature,fields:t.fields}}var Y=function(e){return function(t){var n=new Error("Failed to send error to the client");n.cause=t,console.error(n,e)}},X=/https?:\/\/api2(?:-\w+)?\.transloadit\.com\/companion/;function $(){var e=this,t=["uppy-core:".concat(this.uppy.constructor.VERSION),"uppy-transloadit:".concat(this.constructor.VERSION),"uppy-tus:".concat(q.VERSION)],n=function(n,r){var i=e.uppy.getPlugin(n);i&&t.push("".concat(r,":").concat(i.constructor.VERSION))};return this.opts.importFromUploadURLs&&(n("XHRUpload","uppy-xhr-upload"),n("AwsS3","uppy-aws-s3"),n("AwsS3Multipart","uppy-aws-s3-multipart")),n("Dropbox","uppy-dropbox"),n("Box","uppy-box"),n("Facebook","uppy-facebook"),n("GoogleDrive","uppy-google-drive"),n("Instagram","uppy-instagram"),n("OneDrive","uppy-onedrive"),n("Zoom","uppy-zoom"),n("Url","uppy-url"),t.join(",")}function J(e,t){var n=x(x({},e.meta),{},{assembly_url:t.assembly_url,filename:e.name,fieldname:"file"}),r=x(x({},e.tus),{},{endpoint:t.tus_url,addRequestId:!0}),i=e.remote;if(e.remote&&X.test(e.remote.companionUrl)){var o=t.companion_url.replace(/\/$/,""),a=e.remote.url.replace(e.remote.companionUrl,"").replace(/^\//,"");i=x(x({},e.remote),{},{companionUrl:o,url:"".concat(o,"/").concat(a)})}var s=x(x({},e),{},{transloadit:{assembly:t.assembly_id}});return this.opts.importFromUploadURLs||Object.assign(s,{meta:n,tus:r,remote:i}),s}function Q(e,t,n){var r=this;return this.uppy.log("[Transloadit] Create Assembly"),this.client.createAssembly({params:n.params,fields:n.fields,expectedFiles:e.length,signature:n.signature}).then((function(n){var i=new H(n),a=i.status,s=a.assembly_id,u=r.getPluginState(),l=u.assemblies,c=u.uploadsAssemblies;r.setPluginState({assemblies:x(x({},l),{},T({},s,a)),uploadsAssemblies:x(x({},c),{},T({},t,[].concat(C(c[t]),[s])))});var p=r.uppy.getState().files,d={};return e.forEach((function(e){d[e]=B(r,o)[o](r.uppy.getFile(e),a)})),r.uppy.setState({files:x(x({},p),d)}),r.uppy.emit("transloadit:assembly-created",a,e),r.uppy.log("[Transloadit] Created Assembly ".concat(s)),i})).catch((function(e){var t=new Error("".concat(r.i18n("creatingAssemblyFailed"),": ").concat(e.message));throw t.cause=e,t}))}function Z(e,t,n){var r=this,i=new K(this.uppy,e);i.on("assembly-complete",(function(e){r.getAssemblyFiles(e).forEach((function(e){r.completedFiles[e.id]=!0,r.uppy.emit("postprocess-complete",e)}))})),i.on("assembly-error",(function(e,t){r.getAssemblyFiles(e).forEach((function(e){r.uppy.emit("upload-error",e,t),r.uppy.emit("postprocess-complete",e)}))})),this.assemblyWatchers[n]=i}function ee(){return this.opts.waitForEncoding||this.opts.waitForMetadata}function te(e,t){var n=this;return Promise.all(t.map((function(t){var r=n.uppy.getFile(t);return n.client.reserveFile(e.status,r)})))}function ne(e){for(var t=this.uppy.getFiles(),n=0;n<t.length;n++){var r=t[n];if(r.uploadURL===e.tus_upload_url)return r;if(r.tus&&r.tus.uploadUrl===e.tus_upload_url)return r;if(!e.is_tus_file&&r.name===e.name&&r.size===e.size)return r}}function re(e,t){var n=this.getPluginState(),r=B(this,p)[p](t);r?(this.setPluginState({files:x(x({},n.files),{},T({},t.id,{assembly:e,id:r.id,uploadedFile:t}))}),this.uppy.emit("transloadit:upload",t,this.getAssembly(e))):this.uppy.log("[Transloadit] Couldn\u2019t file the file, it was likely removed in the process")}function ie(e,t,n){var r=this.getPluginState(),i=r.files[n.original_id];n.localId=i?i.id:null;var o={result:n,stepName:t,id:n.id,assembly:e};this.setPluginState({results:[].concat(C(r.results),[o])}),this.uppy.emit("transloadit:result",t,n,this.getAssembly(e))}function oe(e){var t=this,n=e.assembly_ssl_url;this.client.getAssemblyStatus(n).then((function(e){var n=e.assembly_id,r=t.getPluginState();t.setPluginState({assemblies:x(x({},r.assemblies),{},T({},n,e))}),t.uppy.emit("transloadit:complete",e)}))}function ae(e){return se.apply(this,arguments)}function se(){return(se=F(O.mark((function e(t){return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.client.cancelAssembly(t);case 2:this.uppy.emit("transloadit:assembly-cancelled",t);case 3:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}function ue(e){var t=this,n=e.status.assembly_id;return this.activeAssemblies[n]=e,e.on("status",(function(e){var r=t.getPluginState().assemblies;t.setPluginState({assemblies:x(x({},r),{},T({},n,e))})})),e.on("upload",(function(e){B(t,d)[d](n,e)})),e.on("error",(function(n){n.assembly=e.status,t.uppy.emit("transloadit:assembly-error",e.status,n)})),e.on("executing",(function(){t.uppy.emit("transloadit:assembly-executing",e.status)})),this.opts.waitForEncoding&&e.on("result",(function(e,r){B(t,f)[f](n,e,r)})),this.opts.waitForEncoding?e.on("finished",(function(){B(t,h)[h](e.status)})):this.opts.waitForMetadata&&e.on("metadata",(function(){B(t,h)[h](e.status)})),"ASSEMBLY_COMPLETE"===e.ok||e.connect(),e}e.exports=(i=N("getClientVersion"),o=N("attachAssemblyMetadata"),a=N("createAssembly"),s=N("createAssemblyWatcher"),u=N("shouldWaitAfterUpload"),l=N("reserveFiles"),c=N("onFileUploadURLAvailable"),p=N("findFile"),d=N("onFileUploadComplete"),f=N("onResult"),h=N("onAssemblyFinished"),v=N("cancelAssembly"),y=N("onCancelAll"),m=N("getPersistentData"),g=N("onRestored"),b=N("connectAssembly"),k=N("prepareUpload"),w=N("afterUpload"),_=N("onError"),P=N("onTusError"),S=r=function(e){I(n,e);var t=j(n);function n(e,r){var S;U(this,n),S=t.call(this,e,r),Object.defineProperty(D(S),b,{value:ue}),Object.defineProperty(D(S),v,{value:ae}),Object.defineProperty(D(S),h,{value:oe}),Object.defineProperty(D(S),f,{value:ie}),Object.defineProperty(D(S),d,{value:re}),Object.defineProperty(D(S),p,{value:ne}),Object.defineProperty(D(S),l,{value:te}),Object.defineProperty(D(S),u,{value:ee}),Object.defineProperty(D(S),s,{value:Z}),Object.defineProperty(D(S),a,{value:Q}),Object.defineProperty(D(S),o,{value:J}),Object.defineProperty(D(S),i,{value:$}),Object.defineProperty(D(S),c,{writable:!0,value:function(e){var t=S.uppy.getFile(e.id);if(t&&t.transloadit&&t.transloadit.assembly){var n=S.getPluginState().assemblies[t.transloadit.assembly];S.client.addFile(n,t).catch((function(e){S.uppy.log(e),S.uppy.emit("transloadit:import-error",n,t.id,e)}))}}}),Object.defineProperty(D(S),y,{writable:!0,value:function(){var e=S.getPluginState().uploadsAssemblies,t=Object.values(e).flat(1).map((function(e){var t=S.getAssembly(e);return B(D(S),v)[v](t)}));Promise.all(t).catch((function(e){S.uppy.log(e)}))}}),Object.defineProperty(D(S),m,{writable:!0,value:function(e){var t=S.getPluginState(),n=t.assemblies,r=t.uploadsAssemblies;e(T({},S.id,{assemblies:n,uploadsAssemblies:r}))}}),Object.defineProperty(D(S),g,{writable:!0,value:function(e){var t=e&&e[S.id]?e[S.id]:{},n=t.assemblies||{},r=t.uploadsAssemblies||{};if(0!==Object.keys(r).length){S.restored=Promise.resolve().then((function(){return function(e){for(var t={},n=[],i=function(){var e=A(a[o],2),r=e[0],i=e[1];i.uploads.forEach((function(e){var n=B(D(S),p)[p](e);t[e.id]={id:n.id,assembly:r,uploadedFile:e}}));var s=S.getPluginState();Object.keys(i.results).forEach((function(e){var t,o=E(i.results[e]);try{for(o.s();!(t=o.n()).done;){var a=t.value,u=s.files[a.original_id];a.localId=u?u.id:null,n.push({id:a.id,result:a,stepName:e,assembly:r})}}catch(l){o.e(l)}finally{o.f()}}))},o=0,a=Object.entries(e);o<a.length;o++)i();S.setPluginState({assemblies:e,files:t,results:n,uploadsAssemblies:r})}(n),function(){var e=S.getPluginState(),t=e.assemblies,n=e.uploadsAssemblies;Object.keys(n).forEach((function(e){var t=n[e],r=t.flatMap((function(e){return S.getAssemblyFiles(e).map((function(e){return e.id}))}));B(D(S),s)[s](t,r,e)})),Object.keys(t).forEach((function(e){var n=new H(t[e]);B(D(S),b)[b](n)}))}(),function(){var e=S.getPluginState().assemblies;return Promise.all(Object.keys(e).map((function(e){return S.activeAssemblies[e].update()})))}()})),S.restored.then((function(){S.restored=null}))}}}),Object.defineProperty(D(S),k,{writable:!0,value:function(e,t){var n=e.filter((function(e){return!e.error})),r=n.map((function(e){var t=S.uppy.getFile(e);return S.uppy.emit("preprocess-progress",t,{mode:"indeterminate",message:S.i18n("creatingAssembly")}),t})),i=function(){var e=F(O.mark((function e(n){var r,i,o;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.fileIDs,i=n.options,e.prev=1,e.next=4,B(D(S),a)[a](r,t,i);case 4:if(o=e.sent,!S.opts.importFromUploadURLs){e.next=8;break}return e.next=8,B(D(S),l)[l](o,r);case 8:return r.forEach((function(e){var t=S.uppy.getFile(e);S.uppy.emit("preprocess-complete",t)})),e.abrupt("return",o);case 12:throw e.prev=12,e.t0=e.catch(1),r.forEach((function(t){var n=S.uppy.getFile(t);S.uppy.emit("preprocess-complete",n),S.uppy.emit("upload-error",n,e.t0)})),e.t0;case 16:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t){return e.apply(this,arguments)}}(),o=S.getPluginState().uploadsAssemblies;return S.setPluginState({uploadsAssemblies:x(x({},o),{},T({},t,[]))}),new W(r,S.opts).build().then((function(e){return Promise.all(e.map(i))})).then((function(e){var r=e.map((function(e){return e.status.assembly_id}));return B(D(S),s)[s](r,n,t),Promise.all(e.map((function(e){return B(D(S),b)[b](e)})))})).catch((function(e){throw r.forEach((function(t){S.uppy.emit("preprocess-complete",t),S.uppy.emit("upload-error",t,e)})),e}))}}),Object.defineProperty(D(S),w,{writable:!0,value:function(e,t){var n=e.map((function(e){return S.uppy.getFile(e)})),r=n.filter((function(e){return!e.error})).map((function(e){return e.id})),i=S.getPluginState();if(S.restored)return S.restored.then((function(){return B(D(S),w)[w](r,t)}));var o=i.uploadsAssemblies[t],a=function(){o.forEach((function(e){S.activeAssemblies[e].close(),delete S.activeAssemblies[e]}))};if(!B(D(S),u)[u]()){a();var s=o.map((function(e){return S.getAssembly(e)}));return S.uppy.addResultData(t,{transloadit:s}),Promise.resolve()}return 0===o.length?(S.uppy.addResultData(t,{transloadit:[]}),Promise.resolve()):(n.filter((function(e){return!L(S.completedFiles,e.id)})).forEach((function(e){S.uppy.emit("postprocess-progress",e,{mode:"indeterminate",message:S.i18n("encoding")})})),S.assemblyWatchers[t].promise.then((function(){a();var e=o.map((function(e){return S.getAssembly(e)})),n=x({},S.getPluginState().uploadsAssemblies);delete n[t],S.setPluginState({uploadsAssemblies:n}),S.uppy.addResultData(t,{transloadit:e})})))}}),Object.defineProperty(D(S),_,{writable:!0,value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0,n=S.getPluginState(),r=n.uploadsAssemblies[t];null==r||r.forEach((function(e){S.activeAssemblies[e]&&S.activeAssemblies[e].close()})),S.client.submitError(e).catch(Y(e))}}),Object.defineProperty(D(S),P,{writable:!0,value:function(e){if(e&&/^tus: /.test(e.message)){var t=e.originalRequest?e.originalRequest.getUnderlyingObject():null,n=t&&t.responseURL?t.responseURL:null;S.client.submitError(e,{url:n,type:"TUS_ERROR"}).catch(Y(e))}}}),S.type="uploader",S.id=S.opts.id||"Transloadit",S.title="Transloadit",S.defaultLocale={strings:{creatingAssembly:"Preparing upload...",creatingAssemblyFailed:"Transloadit: Could not create Assembly",encoding:"Encoding..."}};var C={service:"https://api2.transloadit.com",errorReporting:!0,waitForEncoding:!1,waitForMetadata:!1,alwaysRunAssembly:!1,importFromUploadURLs:!1,signature:null,params:null,fields:{},getAssemblyOptions:G,limit:0};S.opts=x(x({},C),r),S.i18nInit();var R=S.opts.getAssemblyOptions!==C.getAssemblyOptions;return S.opts.params?W.validateParams(S.opts.params):R||W.validateParams(null),S.client=new V({service:S.opts.service,client:B(D(S),i)[i](),errorReporting:S.opts.errorReporting}),S.activeAssemblies={},S.assemblyWatchers={},S.completedFiles=Object.create(null),S}return R(n,[{key:"install",value:function(){this.uppy.addPreProcessor(B(this,k)[k]),this.uppy.addPostProcessor(B(this,w)[w]),this.uppy.on("error",B(this,_)[_]),this.uppy.on("cancel-all",B(this,y)[y]),this.uppy.on("upload-error",B(this,P)[P]),this.opts.importFromUploadURLs?this.uppy.on("upload-success",B(this,c)[c]):this.uppy.use(q,{storeFingerprintForResuming:!1,useFastRemoteRetry:!1,metaFields:["assembly_url","filename","fieldname"],limit:this.opts.limit}),this.uppy.on("restore:get-data",B(this,m)[m]),this.uppy.on("restored",B(this,g)[g]),this.setPluginState({assemblies:{},uploadsAssemblies:{},files:{},results:[]});var e=this.uppy.getState().capabilities;this.uppy.setState({capabilities:x(x({},e),{},{individualCancellation:!1})})}},{key:"uninstall",value:function(){this.uppy.removePreProcessor(B(this,k)[k]),this.uppy.removePostProcessor(B(this,w)[w]),this.uppy.off("error",B(this,_)[_]),this.opts.importFromUploadURLs&&this.uppy.off("upload-success",B(this,c)[c]);var e=this.uppy.getState().capabilities;this.uppy.setState({capabilities:x(x({},e),{},{individualCancellation:!0})})}},{key:"getAssembly",value:function(e){return this.getPluginState().assemblies[e]}},{key:"getAssemblyFiles",value:function(e){return this.uppy.getFiles().filter((function(t){return t&&t.transloadit&&t.transloadit.assembly===e}))}}]),n}(z),r.VERSION="2.0.4",S),e.exports.COMPANION="https://api2.transloadit.com/companion",e.exports.COMPANION_PATTERN=/\.transloadit\.com$/},19147:function(e){"use strict";e.exports=function(e){var t=/^\w+:\/\//.exec(e),n=0;t&&(n=t[0].length+1);var r=e.indexOf("/",n);return-1===r?{origin:e,pathname:"/"}:{origin:e.slice(0,r),pathname:e.slice(r)}}},81694:function(e,t){var n;!function(){"use strict";var r={}.hasOwnProperty;function i(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var o=typeof n;if("string"===o||"number"===o)e.push(n);else if(Array.isArray(n)){if(n.length){var a=i.apply(null,n);a&&e.push(a)}}else if("object"===o)if(n.toString===Object.prototype.toString)for(var s in n)r.call(n,s)&&n[s]&&e.push(s);else e.push(n.toString())}}return e.join(" ")}e.exports?(i.default=i,e.exports=i):void 0===(n=function(){return i}.apply(t,[]))||(e.exports=n)}()},79773:function(e){function t(e){if(e)return function(e){for(var n in t.prototype)e[n]=t.prototype[n];return e}(e)}e.exports=t,t.prototype.on=t.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},t.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this},t.prototype.off=t.prototype.removeListener=t.prototype.removeAllListeners=t.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,r=this._callbacks["$"+e];if(!r)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var i=0;i<r.length;i++)if((n=r[i])===t||n.fn===t){r.splice(i,1);break}return 0===r.length&&delete this._callbacks["$"+e],this},t.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),n=this._callbacks["$"+e],r=1;r<arguments.length;r++)t[r-1]=arguments[r];if(n){r=0;for(var i=(n=n.slice(0)).length;r<i;++r)n[r].apply(this,t)}return this},t.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},t.prototype.hasListeners=function(e){return!!this.listeners(e).length}},18392:function(e,t,n){t.formatArgs=function(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;var n="color: "+this.color;t.splice(1,0,n,"color: inherit");var r=0,i=0;t[0].replace(/%[a-zA-Z%]/g,(function(e){"%%"!==e&&(r++,"%c"===e&&(i=r))})),t.splice(i,0,n)},t.save=function(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(n){}},t.load=function(){var e;try{e=t.storage.getItem("debug")}catch(n){}!e&&"undefined"!==typeof process&&"env"in process&&(e={NODE_ENV:"production",PUBLIC_URL:"/widget",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.DEBUG);return e},t.useColors=function(){if("undefined"!==typeof window&&window.process&&("renderer"===window.process.type||window.process.__nwjs))return!0;if("undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return"undefined"!==typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!==typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},t.storage=function(){try{return localStorage}catch(e){}}(),t.destroy=function(){var e=!1;return function(){e||(e=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}}(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.log=console.debug||console.log||function(){},e.exports=n(18472)(t),e.exports.formatters.j=function(e){try{return JSON.stringify(e)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}}},18472:function(e,t,n){var r=n(319).default;e.exports=function(e){function t(e){var n,r,o,a=null;function s(){for(var e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];if(s.enabled){var o=s,a=Number(new Date),u=a-(n||a);o.diff=u,o.prev=n,o.curr=a,n=a,r[0]=t.coerce(r[0]),"string"!==typeof r[0]&&r.unshift("%O");var l=0;r[0]=r[0].replace(/%([a-zA-Z%])/g,(function(e,n){if("%%"===e)return"%";l++;var i=t.formatters[n];if("function"===typeof i){var a=r[l];e=i.call(o,a),r.splice(l,1),l--}return e})),t.formatArgs.call(o,r);var c=o.log||t.log;c.apply(o,r)}}return s.namespace=e,s.useColors=t.useColors(),s.color=t.selectColor(e),s.extend=i,s.destroy=t.destroy,Object.defineProperty(s,"enabled",{enumerable:!0,configurable:!1,get:function(){return null!==a?a:(r!==t.namespaces&&(r=t.namespaces,o=t.enabled(e)),o)},set:function(e){a=e}}),"function"===typeof t.init&&t.init(s),s}function i(e,n){var r=t(this.namespace+("undefined"===typeof n?":":n)+e);return r.log=this.log,r}function o(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}return t.debug=t,t.default=t,t.coerce=function(e){if(e instanceof Error)return e.stack||e.message;return e},t.disable=function(){var e=[].concat(r(t.names.map(o)),r(t.skips.map(o).map((function(e){return"-"+e})))).join(",");return t.enable(""),e},t.enable=function(e){var n;t.save(e),t.namespaces=e,t.names=[],t.skips=[];var r=("string"===typeof e?e:"").split(/[\s,]+/),i=r.length;for(n=0;n<i;n++)r[n]&&("-"===(e=r[n].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.slice(1)+"$")):t.names.push(new RegExp("^"+e+"$")))},t.enabled=function(e){if("*"===e[e.length-1])return!0;var n,r;for(n=0,r=t.skips.length;n<r;n++)if(t.skips[n].test(e))return!1;for(n=0,r=t.names.length;n<r;n++)if(t.names[n].test(e))return!0;return!1},t.humanize=n(78193),t.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(e).forEach((function(n){t[n]=e[n]})),t.names=[],t.skips=[],t.formatters={},t.selectColor=function(e){for(var n=0,r=0;r<e.length;r++)n=(n<<5)-n+e.charCodeAt(r),n|=0;return t.colors[Math.abs(n)%t.colors.length]},t.enable(t.load()),t}},33677:function(e,t,n){var r=n(59713).default,i=n(87757),o=n(78585).default,a=n(81506).default,s=n(319).default,u=n(63038).default,l=n(43269).default,c=n(48926).default,p=n(16525).default,d=n(29754).default,f=n(2205).default,h=n(99842).default,v=n(65957).default,y=n(34575).default,m=n(93913).default;!function(e){"use strict";function t(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var g="undefined"!=typeof self?self:n.g,b=(He="undefined"!=typeof navigator)&&"undefined"==typeof HTMLImageElement,k=!("undefined"==typeof n.g||"undefined"==typeof process||!process.versions||!process.versions.node),w=g.Buffer,_=!!w,P=function(e){return void 0!==e};function S(e){return void 0===e||(e instanceof Map?0===e.size:0===Object.values(e).filter(P).length)}function C(e){var t=new Error(e);throw delete t.stack,t}function x(e){var t=function(e){var t=0;return e.ifd0.enabled&&(t+=1024),e.exif.enabled&&(t+=2048),e.makerNote&&(t+=2048),e.userComment&&(t+=1024),e.gps.enabled&&(t+=512),e.interop.enabled&&(t+=100),e.ifd1.enabled&&(t+=1024),t+2048}(e);return e.jfif.enabled&&(t+=50),e.xmp.enabled&&(t+=2e4),e.iptc.enabled&&(t+=14e3),e.icc.enabled&&(t+=6e3),t}var O=function(e){return String.fromCharCode.apply(null,e)},F="undefined"!=typeof TextDecoder?new TextDecoder("utf-8"):void 0,E=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0;if(y(this,e),"boolean"==typeof i&&(this.le=i),Array.isArray(t)&&(t=new Uint8Array(t)),0===t)this.byteOffset=0,this.byteLength=0;else if(t instanceof ArrayBuffer){void 0===r&&(r=t.byteLength-n);var o=new DataView(t,n,r);this._swapDataView(o)}else if(t instanceof Uint8Array||t instanceof DataView||t instanceof e){void 0===r&&(r=t.byteLength-n),(n+=t.byteOffset)+r>t.byteOffset+t.byteLength&&C("Creating view outside of available memory in ArrayBuffer");var a=new DataView(t.buffer,n,r);this._swapDataView(a)}else if("number"==typeof t){var s=new DataView(new ArrayBuffer(t));this._swapDataView(s)}else C("Invalid input argument for BufferView: "+t)}return m(e,[{key:"_swapArrayBuffer",value:function(e){this._swapDataView(new DataView(e))}},{key:"_swapBuffer",value:function(e){this._swapDataView(new DataView(e.buffer,e.byteOffset,e.byteLength))}},{key:"_swapDataView",value:function(e){this.dataView=e,this.buffer=e.buffer,this.byteOffset=e.byteOffset,this.byteLength=e.byteLength}},{key:"_lengthToEnd",value:function(e){return this.byteLength-e}},{key:"set",value:function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e;return t instanceof DataView||t instanceof e?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t instanceof ArrayBuffer&&(t=new Uint8Array(t)),t instanceof Uint8Array||C("BufferView.set(): Invalid data argument."),this.toUint8().set(t,n),new r(this,n,t.byteLength)}},{key:"subarray",value:function(t,n){return new e(this,t,n=n||this._lengthToEnd(t))}},{key:"toUint8",value:function(){return new Uint8Array(this.buffer,this.byteOffset,this.byteLength)}},{key:"getUint8Array",value:function(e,t){return new Uint8Array(this.buffer,this.byteOffset+e,t)}},{key:"getString",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.byteLength;return e=this.getUint8Array(t,n),F?F.decode(e):_?Buffer.from(e).toString("utf8"):decodeURIComponent(escape(O(e)))}},{key:"getLatin1String",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.byteLength,n=this.getUint8Array(e,t);return O(n)}},{key:"getUnicodeString",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.byteLength,n=[],r=0;r<t&&e+r<this.byteLength;r+=2)n.push(this.getUint16(e+r));return O(n)}},{key:"getInt8",value:function(e){return this.dataView.getInt8(e)}},{key:"getUint8",value:function(e){return this.dataView.getUint8(e)}},{key:"getInt16",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.le;return this.dataView.getInt16(e,t)}},{key:"getInt32",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.le;return this.dataView.getInt32(e,t)}},{key:"getUint16",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.le;return this.dataView.getUint16(e,t)}},{key:"getUint32",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.le;return this.dataView.getUint32(e,t)}},{key:"getFloat32",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.le;return this.dataView.getFloat32(e,t)}},{key:"getFloat64",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.le;return this.dataView.getFloat64(e,t)}},{key:"getFloat",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.le;return this.dataView.getFloat32(e,t)}},{key:"getDouble",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.le;return this.dataView.getFloat64(e,t)}},{key:"getUintBytes",value:function(e,t,n){switch(t){case 1:return this.getUint8(e,n);case 2:return this.getUint16(e,n);case 4:return this.getUint32(e,n);case 8:return this.getUint64&&this.getUint64(e,n)}}},{key:"getUint",value:function(e,t,n){switch(t){case 8:return this.getUint8(e,n);case 16:return this.getUint16(e,n);case 32:return this.getUint32(e,n);case 64:return this.getUint64&&this.getUint64(e,n)}}},{key:"toString",value:function(e){return this.dataView.toString(e,this.constructor.name)}},{key:"ensureChunk",value:function(){}}],[{key:"from",value:function(t,n){return t instanceof this&&t.le===n?t:new e(t,void 0,void 0,n)}}]),e}();function A(e,t){C("".concat(e," '").concat(t,"' was not loaded, try using full build of exifr."))}var T=function(e){f(n,e);var t=h(n);function n(e){var r;return y(this,n),(r=t.call(this)).kind=e,r}return m(n,[{key:"get",value:function(e,t){return this.has(e)||A(this.kind,e),t&&(e in t||function(e,t){C("Unknown ".concat(e," '").concat(t,"'."))}(this.kind,e),t[e].enabled||A(this.kind,e)),p(d(n.prototype),"get",this).call(this,e)}},{key:"keyList",value:function(){return Array.from(this.keys())}}]),n}(v(Map)),U=new T("file parser"),R=new T("segment parser"),D=new T("file reader"),I=g.fetch,j="Invalid input argument";function B(e,t){return(n=e).startsWith("data:")||n.length>1e4?L(e,t,"base64"):k&&e.includes("://")?M(e,t,"url",q):k?L(e,t,"fs"):He?M(e,t,"url",q):void C(j);var n}function M(e,t,n,r){return N.apply(this,arguments)}function N(){return N=c(i.mark((function e(t,n,r,o){return i.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",D.has(r)?L(t,n,r):o?function(){var e=c(i.mark((function e(t,n){var r;return i.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n(t);case 2:return r=e.sent,e.abrupt("return",new E(r));case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,o):void C("Parser ".concat(r," is not loaded")));case 1:case"end":return e.stop()}}),e)}))),N.apply(this,arguments)}function L(e,t,n){return z.apply(this,arguments)}function z(){return z=c(i.mark((function e(t,n,r){var o;return i.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=new(D.get(r))(t,n),e.next=3,o.read();case 3:return e.abrupt("return",o);case 4:case"end":return e.stop()}}),e)}))),z.apply(this,arguments)}var q=function(e){return I(e).then((function(e){return e.arrayBuffer()}))},H=function(e){return new Promise((function(t,n){var r=new FileReader;r.onloadend=function(){return t(r.result||new ArrayBuffer)},r.onerror=n,r.readAsArrayBuffer(e)}))},V=function(e){f(n,e);var t=h(n);function n(){return y(this,n),t.apply(this,arguments)}return m(n,[{key:"tagKeys",get:function(){return this.allKeys||(this.allKeys=Array.from(this.keys())),this.allKeys}},{key:"tagValues",get:function(){return this.allValues||(this.allValues=Array.from(this.values())),this.allValues}}]),n}(v(Map));function W(e,t,n){var r,i=new V,o=l(n);try{for(o.s();!(r=o.n()).done;){var a=u(r.value,2),s=a[0],c=a[1];i.set(s,c)}}catch(h){o.e(h)}finally{o.f()}if(Array.isArray(t)){var p,d=l(t);try{for(d.s();!(p=d.n()).done;){var f=p.value;e.set(f,i)}}catch(h){d.e(h)}finally{d.f()}}else e.set(t,i);return i}function K(e,t,n){var r,i,o=e.get(t),a=l(n);try{for(a.s();!(i=a.n()).done;)r=i.value,o.set(r[0],r[1])}catch(s){a.e(s)}finally{a.f()}}var G=new Map,Y=new Map,X=new Map,$=37500,J=37510,Q=33723,Z=34675,ee=34665,te=34853,ne=40965,re=["chunked","firstChunkSize","firstChunkSizeNode","firstChunkSizeBrowser","chunkSize","chunkLimit"],ie=["jfif","xmp","icc","iptc","ihdr"],oe=["tiff"].concat(ie),ae=["ifd0","ifd1","exif","gps","interop"],se=[].concat(s(oe),ae),ue=["makerNote","userComment"],le=["translateKeys","translateValues","reviveValues","multiSegment"],ce=[].concat(le,["sanitize","mergeOutput","silentErrors"]),pe=function(){function e(){y(this,e)}return m(e,[{key:"translate",get:function(){return this.translateKeys||this.translateValues||this.reviveValues}}]),e}(),de=function(e){f(r,e);var n=h(r);function r(e,i,s,u){var l;if(y(this,r),l=n.call(this),t(a(l),"enabled",!1),t(a(l),"skip",new Set),t(a(l),"pick",new Set),t(a(l),"deps",new Set),t(a(l),"translateKeys",!1),t(a(l),"translateValues",!1),t(a(l),"reviveValues",!1),l.key=e,l.enabled=i,l.parse=l.enabled,l.applyInheritables(u),l.canBeFiltered=ae.includes(e),l.canBeFiltered&&(l.dict=G.get(e)),void 0!==s)if(Array.isArray(s))l.parse=l.enabled=!0,l.canBeFiltered&&s.length>0&&l.translateTagSet(s,l.pick);else if("object"==typeof s){if(l.enabled=!0,l.parse=!1!==s.parse,l.canBeFiltered){var c=s.pick,p=s.skip;c&&c.length>0&&l.translateTagSet(c,l.pick),p&&p.length>0&&l.translateTagSet(p,l.skip)}l.applyInheritables(s)}else!0===s||!1===s?l.parse=l.enabled=s:C("Invalid options argument: ".concat(s));return o(l)}return m(r,[{key:"needed",get:function(){return this.enabled||this.deps.size>0}},{key:"applyInheritables",value:function(e){var t,n,r,i=l(le);try{for(i.s();!(r=i.n()).done;)void 0!==(n=e[t=r.value])&&(this[t]=n)}catch(o){i.e(o)}finally{i.f()}}},{key:"translateTagSet",value:function(e,t){if(this.dict){var n,r,i,o=this.dict,a=o.tagKeys,s=o.tagValues,u=l(e);try{for(u.s();!(i=u.n()).done;)"string"==typeof(n=i.value)?(-1===(r=s.indexOf(n))&&(r=a.indexOf(Number(n))),-1!==r&&t.add(Number(a[r]))):t.add(n)}catch(f){u.e(f)}finally{u.f()}}else{var c,p=l(e);try{for(p.s();!(c=p.n()).done;){var d=c.value;t.add(d)}}catch(f){p.e(f)}finally{p.f()}}}},{key:"finalizeFilters",value:function(){!this.enabled&&this.deps.size>0?(this.enabled=!0,ge(this.pick,this.deps)):this.enabled&&this.pick.size>0&&ge(this.pick,this.deps)}}]),r}(pe),fe={jfif:!1,tiff:!0,xmp:!1,icc:!1,iptc:!1,ifd0:!0,ifd1:!1,exif:!0,gps:!0,interop:!1,ihdr:void 0,makerNote:!1,userComment:!1,multiSegment:!1,skip:[],pick:[],translateKeys:!0,translateValues:!0,reviveValues:!0,sanitize:!0,mergeOutput:!0,silentErrors:!0,chunked:!0,firstChunkSize:void 0,firstChunkSizeNode:512,firstChunkSizeBrowser:65536,chunkSize:65536,chunkLimit:5},he=new Map,ve=function(e){f(n,e);var t=h(n);function n(e){var r;return y(this,n),r=t.call(this),!0===e?r.setupFromTrue():void 0===e?r.setupFromUndefined():Array.isArray(e)?r.setupFromArray(e):"object"==typeof e?r.setupFromObject(e):C("Invalid options argument ".concat(e)),void 0===r.firstChunkSize&&(r.firstChunkSize=He?r.firstChunkSizeBrowser:r.firstChunkSizeNode),r.mergeOutput&&(r.ifd1.enabled=!1),r.filterNestedSegmentTags(),r.traverseTiffDependencyTree(),r.checkLoadedPlugins(),r}return m(n,[{key:"setupFromUndefined",value:function(){var e,t,n=l(re);try{for(n.s();!(t=n.n()).done;)this[e=t.value]=fe[e]}catch(c){n.e(c)}finally{n.f()}var r,i=l(ce);try{for(i.s();!(r=i.n()).done;)this[e=r.value]=fe[e]}catch(c){i.e(c)}finally{i.f()}var o,a=l(ue);try{for(a.s();!(o=a.n()).done;)this[e=o.value]=fe[e]}catch(c){a.e(c)}finally{a.f()}var s,u=l(se);try{for(u.s();!(s=u.n()).done;)this[e=s.value]=new de(e,fe[e],void 0,this)}catch(c){u.e(c)}finally{u.f()}}},{key:"setupFromTrue",value:function(){var e,t,n=l(re);try{for(n.s();!(t=n.n()).done;)this[e=t.value]=fe[e]}catch(c){n.e(c)}finally{n.f()}var r,i=l(ce);try{for(i.s();!(r=i.n()).done;)this[e=r.value]=fe[e]}catch(c){i.e(c)}finally{i.f()}var o,a=l(ue);try{for(a.s();!(o=a.n()).done;)this[e=o.value]=!0}catch(c){a.e(c)}finally{a.f()}var s,u=l(se);try{for(u.s();!(s=u.n()).done;)this[e=s.value]=new de(e,!0,void 0,this)}catch(c){u.e(c)}finally{u.f()}}},{key:"setupFromArray",value:function(e){var t,n,r=l(re);try{for(r.s();!(n=r.n()).done;)this[t=n.value]=fe[t]}catch(p){r.e(p)}finally{r.f()}var i,o=l(ce);try{for(o.s();!(i=o.n()).done;)this[t=i.value]=fe[t]}catch(p){o.e(p)}finally{o.f()}var a,s=l(ue);try{for(s.s();!(a=s.n()).done;)this[t=a.value]=fe[t]}catch(p){s.e(p)}finally{s.f()}var u,c=l(se);try{for(c.s();!(u=c.n()).done;)this[t=u.value]=new de(t,!1,void 0,this)}catch(p){c.e(p)}finally{c.f()}this.setupGlobalFilters(e,void 0,ae)}},{key:"setupFromObject",value:function(e){var t,n,r=l((ae.ifd0=ae.ifd0||ae.image,ae.ifd1=ae.ifd1||ae.thumbnail,Object.assign(this,e),re));try{for(r.s();!(n=r.n()).done;)this[t=n.value]=me(e[t],fe[t])}catch(f){r.e(f)}finally{r.f()}var i,o=l(ce);try{for(o.s();!(i=o.n()).done;)this[t=i.value]=me(e[t],fe[t])}catch(f){o.e(f)}finally{o.f()}var a,s=l(ue);try{for(s.s();!(a=s.n()).done;)this[t=a.value]=me(e[t],fe[t])}catch(f){s.e(f)}finally{s.f()}var u,c=l(oe);try{for(c.s();!(u=c.n()).done;)this[t=u.value]=new de(t,fe[t],e[t],this)}catch(f){c.e(f)}finally{c.f()}var p,d=l(ae);try{for(d.s();!(p=d.n()).done;)this[t=p.value]=new de(t,fe[t],e[t],this.tiff)}catch(f){d.e(f)}finally{d.f()}this.setupGlobalFilters(e.pick,e.skip,ae,se),!0===e.tiff?this.batchEnableWithBool(ae,!0):!1===e.tiff?this.batchEnableWithUserValue(ae,e):Array.isArray(e.tiff)?this.setupGlobalFilters(e.tiff,void 0,ae):"object"==typeof e.tiff&&this.setupGlobalFilters(e.tiff.pick,e.tiff.skip,ae)}},{key:"batchEnableWithBool",value:function(e,t){var n,r=l(e);try{for(r.s();!(n=r.n()).done;)this[n.value].enabled=t}catch(i){r.e(i)}finally{r.f()}}},{key:"batchEnableWithUserValue",value:function(e,t){var n,r=l(e);try{for(r.s();!(n=r.n()).done;){var i=n.value,o=t[i];this[i].enabled=!1!==o&&void 0!==o}}catch(a){r.e(a)}finally{r.f()}}},{key:"setupGlobalFilters",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n;if(e&&e.length){var i,o=l(r);try{for(o.s();!(i=o.n()).done;)this[i.value].enabled=!1}catch(k){o.e(k)}finally{o.f()}var a,s=ye(e,n),c=l(s);try{for(c.s();!(a=c.n()).done;){var p=u(a.value,2),d=p[0],f=p[1];ge(this[d].pick,f),this[d].enabled=!0}}catch(k){c.e(k)}finally{c.f()}}else if(t&&t.length){var h,v=ye(t,n),y=l(v);try{for(y.s();!(h=y.n()).done;){var m=u(h.value,2),g=m[0],b=m[1];ge(this[g].skip,b)}}catch(k){y.e(k)}finally{y.f()}}}},{key:"filterNestedSegmentTags",value:function(){var e=this.ifd0,t=this.exif,n=this.xmp,r=this.iptc,i=this.icc;this.makerNote?t.deps.add($):t.skip.add($),this.userComment?t.deps.add(J):t.skip.add(J),n.enabled||e.skip.add(700),r.enabled||e.skip.add(Q),i.enabled||e.skip.add(Z)}},{key:"traverseTiffDependencyTree",value:function(){var e=this,t=this.ifd0,n=this.exif,r=this.gps;this.interop.needed&&(n.deps.add(ne),t.deps.add(ne)),n.needed&&t.deps.add(ee),r.needed&&t.deps.add(te),this.tiff.enabled=ae.some((function(t){return!0===e[t].enabled}))||this.makerNote||this.userComment;var i,o=l(ae);try{for(o.s();!(i=o.n()).done;)this[i.value].finalizeFilters()}catch(a){o.e(a)}finally{o.f()}}},{key:"onlyTiff",get:function(){var e=this;return!ie.map((function(t){return e[t].enabled})).some((function(e){return!0===e}))&&this.tiff.enabled}},{key:"checkLoadedPlugins",value:function(){var e,t=l(oe);try{for(t.s();!(e=t.n()).done;){var n=e.value;this[n].enabled&&!R.has(n)&&A("segment parser",n)}}catch(r){t.e(r)}finally{t.f()}}}],[{key:"useCached",value:function(e){var t=he.get(e);return void 0!==t||(t=new this(e),he.set(e,t)),t}}]),n}(pe);function ye(e,t){var n,r,i,o,a,s=[],u=l(t);try{for(u.s();!(a=u.n()).done;){i=a.value;var c,p=l((n=G.get(i),r=[],n));try{for(p.s();!(c=p.n()).done;)o=c.value,(e.includes(o[0])||e.includes(o[1]))&&r.push(o[0])}catch(d){p.e(d)}finally{p.f()}r.length&&s.push([i,r])}}catch(d){u.e(d)}finally{u.f()}return s}function me(e,t){return void 0!==e?e:void 0!==t?t:void 0}function ge(e,t){var n,r=l(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;e.add(i)}}catch(o){r.e(o)}finally{r.f()}}t(ve,"default",fe);var be=function(){function e(n){var r=this;y(this,e),t(this,"parsers",{}),t(this,"output",{}),t(this,"errors",[]),t(this,"pushToErrors",(function(e){return r.errors.push(e)})),this.options=ve.useCached(n)}return m(e,[{key:"read",value:function(){var e=c(i.mark((function e(t){return i.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,function(e,t){return"string"==typeof e?B(e,t):He&&!b&&e instanceof HTMLImageElement?B(e.src,t):e instanceof Uint8Array||e instanceof ArrayBuffer||e instanceof DataView?new E(e):He&&e instanceof Blob?M(e,t,"blob",H):void C(j)}(t,this.options);case 2:this.file=e.sent;case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"setup",value:function(){if(!this.fileParser){var e,t=this.file,n=t.getUint16(0),r=l(U);try{for(r.s();!(e=r.n()).done;){var i=u(e.value,2),o=i[0],a=i[1];if(a.canHandle(t,n))return this.fileParser=new a(this.options,this.file,this.parsers),t[o]=!0}}catch(s){r.e(s)}finally{r.f()}this.file.close&&this.file.close(),C("Unknown file format")}}},{key:"parse",value:function(){var e=c(i.mark((function e(){var t,n,r;return i.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.output,n=this.errors,this.setup(),!this.options.silentErrors){e.next=8;break}return e.next=5,this.executeParsers().catch(this.pushToErrors);case 5:n.push.apply(n,s(this.fileParser.errors)),e.next=10;break;case 8:return e.next=10,this.executeParsers();case 10:return this.file.close&&this.file.close(),this.options.silentErrors&&n.length>0&&(t.errors=n),e.abrupt("return",S(r=t)?void 0:r);case 13:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"executeParsers",value:function(){var e=c(i.mark((function e(){var t,n,r=this;return i.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.output,e.next=3,this.fileParser.parse();case 3:return n=Object.values(this.parsers).map(function(){var e=c(i.mark((function e(n){var r;return i.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.parse();case 2:r=e.sent,n.assignToOutput(t,r);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.options.silentErrors&&(n=n.map((function(e){return e.catch(r.pushToErrors)}))),e.next=7,Promise.all(n);case 7:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"extractThumbnail",value:function(){var e=c(i.mark((function e(){var t,n,r,o,a,s,u;return i.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.setup(),t=this.options,n=this.file,r=R.get("tiff",t),!n.tiff){e.next=6;break}o={start:0,type:"tiff"},e.next=11;break;case 6:if(e.t0=n.jpeg,!e.t0){e.next=11;break}return e.next=10,this.fileParser.getOrFindSegment("tiff");case 10:o=e.sent;case 11:if(void 0!==o){e.next=13;break}return e.abrupt("return");case 13:return e.next=15,this.fileParser.ensureSegmentChunk(o);case 15:return a=e.sent,s=this.parsers.tiff=new r(a,t,n),e.next=19,s.extractThumbnail();case 19:return u=e.sent,e.abrupt("return",(n.close&&n.close(),u));case 21:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}]),e}();function ke(e,t){return we.apply(this,arguments)}function we(){return we=c(i.mark((function e(t,n){var r;return i.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=new be(n),e.next=3,r.read(t);case 3:return e.abrupt("return",r.parse());case 4:case"end":return e.stop()}}),e)}))),we.apply(this,arguments)}var _e=Object.freeze({__proto__:null,parse:ke,Exifr:be,fileParsers:U,segmentParsers:R,fileReaders:D,tagKeys:G,tagValues:Y,tagRevivers:X,createDictionary:W,extendDictionary:K,fetchUrlAsArrayBuffer:q,readBlobAsArrayBuffer:H,chunkedProps:re,otherSegments:ie,segments:oe,tiffBlocks:ae,segmentsAndBlocks:se,tiffExtractables:ue,inheritables:le,allFormatters:ce,Options:ve}),Pe=function(){function e(n){var r=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=arguments.length>2?arguments[2]:void 0;y(this,e),t(this,"errors",[]),t(this,"raw",new Map),t(this,"handleError",(function(e){if(!r.options.silentErrors)throw e;r.errors.push(e.message)})),this.chunk=this.normalizeInput(n),this.file=o,this.type=this.constructor.type,this.globalOptions=this.options=i,this.localOptions=i[this.type],this.canTranslate=this.localOptions&&this.localOptions.translate}return m(e,[{key:"normalizeInput",value:function(e){return e instanceof E?e:new E(e)}},{key:"translate",value:function(){this.canTranslate&&(this.translated=this.translateBlock(this.raw,this.type))}},{key:"output",get:function(){return this.translated?this.translated:this.raw?Object.fromEntries(this.raw):void 0}},{key:"translateBlock",value:function(e,t){var n,r=X.get(t),i=Y.get(t),o=G.get(t),a=this.options[t],s=a.reviveValues&&!!r,c=a.translateValues&&!!i,p=a.translateKeys&&!!o,d={},f=l(e);try{for(f.s();!(n=f.n()).done;){var h=u(n.value,2),v=h[0],y=h[1];s&&r.has(v)?y=r.get(v)(y):c&&i.has(v)&&(y=this.translateValue(y,i.get(v))),p&&o.has(v)&&(v=o.get(v)||v),d[v]=y}}catch(m){f.e(m)}finally{f.f()}return d}},{key:"translateValue",value:function(e,t){return t[e]||t.DEFAULT||e}},{key:"assignToOutput",value:function(e,t){this.assignObjectToOutput(e,this.constructor.type,t)}},{key:"assignObjectToOutput",value:function(e,t,n){if(this.globalOptions.mergeOutput)return Object.assign(e,n);e[t]?Object.assign(e[t],n):e[t]=n}}],[{key:"findPosition",value:function(e,t){var n=e.getUint16(t+2)+2,r="function"==typeof this.headerLength?this.headerLength(e,t,n):this.headerLength,i=t+r,o=n-r;return{offset:t,length:n,headerLength:r,start:i,size:o,end:i+o}}},{key:"parse",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new this(e,new ve(r({},this.type,t)),e).parse()}}]),e}();function Se(e){return 192===e||194===e||196===e||219===e||221===e||218===e||254===e}function Ce(e){return e>=224&&e<=239}function xe(e,t,n){var r,i=l(R);try{for(i.s();!(r=i.n()).done;){var o=u(r.value,2),a=o[0];if(o[1].canHandle(e,t,n))return a}}catch(s){i.e(s)}finally{i.f()}}t(Pe,"headerLength",4),t(Pe,"type",void 0),t(Pe,"multiSegment",!1),t(Pe,"canHandle",(function(){return!1}));var Oe=function(e){f(r,e);var n=h(r);function r(){var e;y(this,r);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return e=n.call.apply(n,[this].concat(o)),t(a(e),"appSegments",[]),t(a(e),"jpegSegments",[]),t(a(e),"unknownSegments",[]),e}return m(r,[{key:"parse",value:function(){var e=c(i.mark((function e(){return i.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.findAppSegments();case 2:return e.next=4,this.readSegments(this.appSegments);case 4:this.mergeMultiSegments(),this.createParsers(this.mergedAppSegments||this.appSegments);case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"setupSegmentFinderArgs",value:function(e){var t=this;!0===e?(this.findAll=!0,this.wanted=new Set(R.keyList())):(e=void 0===e?R.keyList().filter((function(e){return t.options[e].enabled})):e.filter((function(e){return t.options[e].enabled&&R.has(e)})),this.findAll=!1,this.remaining=new Set(e),this.wanted=new Set(e)),this.unfinishedMultiSegment=!1}},{key:"findAppSegments",value:function(){var e=c(i.mark((function e(){var t,n,r,o,a,s,u,l,c,p=this,d=arguments;return i.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=d.length>0&&void 0!==d[0]?d[0]:0,n=d.length>1?d[1]:void 0,this.setupSegmentFinderArgs(n),r=this.file,o=this.findAll,a=this.wanted,s=this.remaining,e.t0=!o&&this.file.chunked,!e.t0){e.next=11;break}if(o=Array.from(a).some((function(e){var t=R.get(e),n=p.options[e];return t.multiSegment&&n.multiSegment})),e.t1=o,!e.t1){e.next=11;break}return e.next=11,this.file.readWhole();case 11:if(t=this.findAppSegmentsInRange(t,r.byteLength),this.options.onlyTiff||!r.chunked){e.next=30;break}u=!1;case 14:if(!(s.size>0)||u||!r.canReadNextChunk&&!this.unfinishedMultiSegment){e.next=30;break}if(l=r.nextChunkOffset,c=this.appSegments.some((function(e){return!p.file.available(e.offset||e.start,e.length||e.size)})),!(t>l)||c){e.next=22;break}return e.next=19,r.readNextChunk(t);case 19:e.t2=!e.sent,e.next=25;break;case 22:return e.next=24,r.readNextChunk(l);case 24:e.t2=!e.sent;case 25:if(u=e.t2,void 0!==(t=this.findAppSegmentsInRange(t,r.byteLength))){e.next=28;break}return e.abrupt("return");case 28:e.next=14;break;case 30:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"findAppSegmentsInRange",value:function(e,t){t-=2;for(var n,r,i,o,a,s,u=this.file,l=this.findAll,c=this.wanted,p=this.remaining,d=this.options;e<t;e++)if(255===u.getUint8(e))if(Ce(n=u.getUint8(e+1))){if(r=u.getUint16(e+2),(i=xe(u,e,r))&&c.has(i)&&(a=(o=R.get(i)).findPosition(u,e),s=d[i],a.type=i,this.appSegments.push(a),!l&&(o.multiSegment&&s.multiSegment?(this.unfinishedMultiSegment=a.chunkNumber<a.chunkCount,this.unfinishedMultiSegment||p.delete(i)):p.delete(i),0===p.size)))break;d.recordUnknownSegments&&((a=Pe.findPosition(u,e)).marker=n,this.unknownSegments.push(a)),e+=r+1}else if(Se(n)){if(r=u.getUint16(e+2),218===n&&!1!==d.stopAfterSos)return;d.recordJpegSegments&&this.jpegSegments.push({offset:e,length:r,marker:n}),e+=r+1}return e}},{key:"mergeMultiSegments",value:function(){var e=this;if(this.appSegments.some((function(e){return e.multiSegment}))){var t=function(e,t){for(var n,r,i,o=new Map,a=0;a<e.length;a++)r=(n=e[a])[t],o.has(r)?i=o.get(r):o.set(r,i=[]),i.push(n);return Array.from(o)}(this.appSegments,"type");this.mergedAppSegments=t.map((function(t){var n=u(t,2),r=n[0],i=n[1],o=R.get(r,e.options);return o.handleMultiSegments?{type:r,chunk:o.handleMultiSegments(i)}:i[0]}))}}},{key:"getSegment",value:function(e){return this.appSegments.find((function(t){return t.type===e}))}},{key:"getOrFindSegment",value:function(){var e=c(i.mark((function e(t){var n;return i.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.getSegment(t),e.t0=void 0===n,!e.t0){e.next=6;break}return e.next=5,this.findAppSegments(0,[t]);case 5:n=this.getSegment(t);case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()}],[{key:"canHandle",value:function(e,t){return 65496===t}}]),r}(function(){function e(n,r,o){var a=this;y(this,e),t(this,"errors",[]),t(this,"ensureSegmentChunk",function(){var e=c(i.mark((function e(t){var n,r;return i.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.start,r=t.size||65536,!a.file.chunked){e.next=17;break}if(!a.file.available(n,r)){e.next=6;break}t.chunk=a.file.subarray(n,r),e.next=15;break;case 6:return e.prev=6,e.next=9,a.file.readChunk(n,r);case 9:t.chunk=e.sent,e.next=15;break;case 12:e.prev=12,e.t0=e.catch(6),C("Couldn't read segment: ".concat(JSON.stringify(t),". ").concat(e.t0.message));case 15:e.next=18;break;case 17:a.file.byteLength>n+r?t.chunk=a.file.subarray(n,r):void 0===t.size?t.chunk=a.file.subarray(n):C("Segment unreachable: "+JSON.stringify(t));case 18:return e.abrupt("return",t.chunk);case 19:case"end":return e.stop()}}),e,null,[[6,12]])})));return function(t){return e.apply(this,arguments)}}()),this.extendOptions&&this.extendOptions(n),this.options=n,this.file=r,this.parsers=o}return m(e,[{key:"injectSegment",value:function(e,t){this.options[e].enabled&&this.createParser(e,t)}},{key:"createParser",value:function(e,t){var n=new(R.get(e))(t,this.options,this.file);return this.parsers[e]=n}},{key:"createParsers",value:function(e){var t,n=l(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.type,o=r.chunk,a=this.options[i];if(a&&a.enabled){var s=this.parsers[i];s&&s.append||s||this.createParser(i,o)}}}catch(u){n.e(u)}finally{n.f()}}},{key:"readSegments",value:function(){var e=c(i.mark((function e(t){var n;return i.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.map(this.ensureSegmentChunk),e.next=3,Promise.all(n);case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()}]),e}());t(Oe,"type","jpeg"),U.set("jpeg",Oe);var Fe=[void 0,1,1,2,4,8,1,1,2,4,8,4,8,4],Ee=function(e){f(n,e);var t=h(n);function n(){return y(this,n),t.apply(this,arguments)}return m(n,[{key:"parseHeader",value:function(){var e=this.chunk.getUint16();18761===e?this.le=!0:19789===e&&(this.le=!1),this.chunk.le=this.le,this.headerParsed=!0}},{key:"parseTags",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Map,r=this.options[t],i=r.pick,o=r.skip,a=(i=new Set(i)).size>0,s=0===o.size,u=this.chunk.getUint16(e);e+=2;for(var l=0;l<u;l++){var c=this.chunk.getUint16(e);if(a){if(i.has(c)&&(n.set(c,this.parseTag(e,c,t)),i.delete(c),0===i.size))break}else!s&&o.has(c)||n.set(c,this.parseTag(e,c,t));e+=12}return n}},{key:"parseTag",value:function(e,t,n){var r,i=this.chunk,o=i.getUint16(e+2),a=i.getUint32(e+4),s=Fe[o];if(s*a<=4?e+=8:e=i.getUint32(e+8),(o<1||o>13)&&C("Invalid TIFF value type. block: ".concat(n.toUpperCase(),", tag: ").concat(t.toString(16),", type: ").concat(o,", offset ").concat(e)),e>i.byteLength&&C("Invalid TIFF value offset. block: ".concat(n.toUpperCase(),", tag: ").concat(t.toString(16),", type: ").concat(o,", offset ").concat(e," is outside of chunk size ").concat(i.byteLength)),1===o)return i.getUint8Array(e,a);if(2===o)return""===(r=function(e){for(;e.endsWith("\0");)e=e.slice(0,-1);return e}(r=i.getString(e,a)).trim())?void 0:r;if(7===o)return i.getUint8Array(e,a);if(1===a)return this.parseTagValue(o,e);for(var u=new(function(e){switch(e){case 1:return Uint8Array;case 3:return Uint16Array;case 4:return Uint32Array;case 5:case 10:default:return Array;case 6:return Int8Array;case 8:return Int16Array;case 9:return Int32Array;case 11:return Float32Array;case 12:return Float64Array}}(o))(a),l=s,c=0;c<a;c++)u[c]=this.parseTagValue(o,e),e+=l;return u}},{key:"parseTagValue",value:function(e,t){var n=this.chunk;switch(e){case 1:return n.getUint8(t);case 3:return n.getUint16(t);case 4:case 13:return n.getUint32(t);case 5:return n.getUint32(t)/n.getUint32(t+4);case 6:return n.getInt8(t);case 8:return n.getInt16(t);case 9:return n.getInt32(t);case 10:return n.getInt32(t)/n.getInt32(t+4);case 11:return n.getFloat(t);case 12:return n.getDouble(t);default:C("Invalid tiff type ".concat(e))}}}]),n}(Pe),Ae=function(e){f(n,e);var t=h(n);function n(){return y(this,n),t.apply(this,arguments)}return m(n,[{key:"parse",value:function(){var e=c(i.mark((function e(){var t;return i.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.parseHeader(),t=this.options,e.t0=t.ifd0.enabled,!e.t0){e.next=6;break}return e.next=6,this.parseIfd0Block();case 6:if(e.t1=t.exif.enabled,!e.t1){e.next=10;break}return e.next=10,this.safeParse("parseExifBlock");case 10:if(e.t2=t.gps.enabled,!e.t2){e.next=14;break}return e.next=14,this.safeParse("parseGpsBlock");case 14:if(e.t3=t.interop.enabled,!e.t3){e.next=18;break}return e.next=18,this.safeParse("parseInteropBlock");case 18:if(e.t4=t.ifd1.enabled,!e.t4){e.next=22;break}return e.next=22,this.safeParse("parseThumbnailBlock");case 22:return e.abrupt("return",this.createOutput());case 23:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"safeParse",value:function(e){var t=this[e]();return void 0!==t.catch&&(t=t.catch(this.handleError)),t}},{key:"findIfd0Offset",value:function(){void 0===this.ifd0Offset&&(this.ifd0Offset=this.chunk.getUint32(4))}},{key:"findIfd1Offset",value:function(){if(void 0===this.ifd1Offset){this.findIfd0Offset();var e=this.chunk.getUint16(this.ifd0Offset),t=this.ifd0Offset+2+12*e;this.ifd1Offset=this.chunk.getUint32(t)}}},{key:"parseBlock",value:function(e,t){var n=new Map;return this[t]=n,this.parseTags(e,t,n),n}},{key:"parseIfd0Block",value:function(){var e=c(i.mark((function e(){var t,n;return i.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.ifd0){e.next=2;break}return e.abrupt("return");case 2:if(t=this.file,this.findIfd0Offset(),this.ifd0Offset<8&&C("Malformed EXIF data"),!t.chunked&&this.ifd0Offset>t.byteLength&&C("IFD0 offset points to outside of file.\nthis.ifd0Offset: ".concat(this.ifd0Offset,", file.byteLength: ").concat(t.byteLength)),e.t0=t.tiff,!e.t0){e.next=10;break}return e.next=10,t.ensureChunk(this.ifd0Offset,x(this.options));case 10:return n=this.parseBlock(this.ifd0Offset,"ifd0"),e.abrupt("return",0!==n.size?(this.exifOffset=n.get(ee),this.interopOffset=n.get(ne),this.gpsOffset=n.get(te),this.xmp=n.get(700),this.iptc=n.get(Q),this.icc=n.get(Z),this.options.sanitize&&(n.delete(ee),n.delete(ne),n.delete(te),n.delete(700),n.delete(Q),n.delete(Z)),n):void 0);case 12:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"parseExifBlock",value:function(){var e=c(i.mark((function e(){var t;return i.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.exif){e.next=2;break}return e.abrupt("return");case 2:if(e.t0=this.ifd0,e.t0){e.next=6;break}return e.next=6,this.parseIfd0Block();case 6:if(void 0!==this.exifOffset){e.next=8;break}return e.abrupt("return");case 8:if(e.t1=this.file.tiff,!e.t1){e.next=12;break}return e.next=12,this.file.ensureChunk(this.exifOffset,x(this.options));case 12:return t=this.parseBlock(this.exifOffset,"exif"),e.abrupt("return",(this.interopOffset||(this.interopOffset=t.get(ne)),this.makerNote=t.get($),this.userComment=t.get(J),this.options.sanitize&&(t.delete(ne),t.delete($),t.delete(J)),this.unpack(t,41728),this.unpack(t,41729),t));case 14:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"unpack",value:function(e,t){var n=e.get(t);n&&1===n.length&&e.set(t,n[0])}},{key:"parseGpsBlock",value:function(){var e=c(i.mark((function e(){var t;return i.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.gps){e.next=2;break}return e.abrupt("return");case 2:if(e.t0=this.ifd0,e.t0){e.next=6;break}return e.next=6,this.parseIfd0Block();case 6:if(void 0!==this.gpsOffset){e.next=8;break}return e.abrupt("return");case 8:return t=this.parseBlock(this.gpsOffset,"gps"),e.abrupt("return",(t&&t.has(2)&&t.has(4)&&(t.set("latitude",Te.apply(void 0,s(t.get(2)).concat([t.get(1)]))),t.set("longitude",Te.apply(void 0,s(t.get(4)).concat([t.get(3)])))),t));case 10:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"parseInteropBlock",value:function(){var e=c(i.mark((function e(){return i.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=!this.interop,!e.t0){e.next=11;break}if(e.t1=this.ifd0,e.t1){e.next=6;break}return e.next=6,this.parseIfd0Block();case 6:if(e.t2=void 0!==this.interopOffset||this.exif,e.t2){e.next=10;break}return e.next=10,this.parseExifBlock();case 10:e.t0=void 0!==this.interopOffset;case 11:if(!e.t0){e.next=13;break}return e.abrupt("return",this.parseBlock(this.interopOffset,"interop"));case 13:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"parseThumbnailBlock",value:function(){var e=c(i.mark((function e(){var t,n=arguments;return i.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.length>0&&void 0!==n[0]&&n[0],this.ifd1||this.ifd1Parsed||this.options.mergeOutput&&!t){e.next=3;break}return e.abrupt("return",(this.findIfd1Offset(),this.ifd1Offset>0&&(this.parseBlock(this.ifd1Offset,"ifd1"),this.ifd1Parsed=!0),this.ifd1));case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"extractThumbnail",value:function(){var e=c(i.mark((function e(){var t,n;return i.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.headerParsed||this.parseHeader(),e.t0=this.ifd1Parsed,e.t0){e.next=5;break}return e.next=5,this.parseThumbnailBlock(!0);case 5:if(void 0!==this.ifd1){e.next=7;break}return e.abrupt("return");case 7:return t=this.ifd1.get(513),n=this.ifd1.get(514),e.abrupt("return",this.chunk.getUint8Array(t,n));case 9:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"image",get:function(){return this.ifd0}},{key:"thumbnail",get:function(){return this.ifd1}},{key:"createOutput",value:function(){var e,t,n,r,i={},o=l(ae);try{for(o.s();!(r=o.n()).done;)if(!S(e=this[t=r.value]))if(n=this.canTranslate?this.translateBlock(e,t):Object.fromEntries(e),this.options.mergeOutput){if("ifd1"===t)continue;Object.assign(i,n)}else i[t]=n}catch(a){o.e(a)}finally{o.f()}return this.makerNote&&(i.makerNote=this.makerNote),this.userComment&&(i.userComment=this.userComment),i}},{key:"assignToOutput",value:function(e,t){if(this.globalOptions.mergeOutput)Object.assign(e,t);else for(var n=0,r=Object.entries(t);n<r.length;n++){var i=u(r[n],2),o=i[0],a=i[1];this.assignObjectToOutput(e,o,a)}}}],[{key:"canHandle",value:function(e,t){return 225===e.getUint8(t+1)&&1165519206===e.getUint32(t+4)&&0===e.getUint16(t+8)}}]),n}(Ee);function Te(e,t,n,r){var i=e+t/60+n/3600;return"S"!==r&&"W"!==r||(i*=-1),i}t(Ae,"type","tiff"),t(Ae,"headerLength",10),R.set("tiff",Ae);var Ue=Object.freeze({__proto__:null,default:_e,Exifr:be,fileParsers:U,segmentParsers:R,fileReaders:D,tagKeys:G,tagValues:Y,tagRevivers:X,createDictionary:W,extendDictionary:K,fetchUrlAsArrayBuffer:q,readBlobAsArrayBuffer:H,chunkedProps:re,otherSegments:ie,segments:oe,tiffBlocks:ae,segmentsAndBlocks:se,tiffExtractables:ue,inheritables:le,allFormatters:ce,Options:ve,parse:ke}),Re={ifd0:!1,ifd1:!1,exif:!1,gps:!1,interop:!1,sanitize:!1,reviveValues:!0,translateKeys:!1,translateValues:!1,mergeOutput:!1},De=Object.assign({},Re,{firstChunkSize:4e4,gps:[1,2,3,4]}),Ie=Object.assign({},Re,{tiff:!1,ifd1:!0,mergeOutput:!1}),je=Object.assign({},Re,{firstChunkSize:4e4,ifd0:[274]});function Be(e){return Me.apply(this,arguments)}function Me(){return Me=c(i.mark((function e(t){var n,r;return i.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new be(je),e.next=3,n.read(t);case 3:return e.next=5,n.parse();case 5:if(!(r=e.sent)||!r.ifd0){e.next=8;break}return e.abrupt("return",r.ifd0[274]);case 8:case"end":return e.stop()}}),e)}))),Me.apply(this,arguments)}var Ne=Object.freeze({1:{dimensionSwapped:!1,scaleX:1,scaleY:1,deg:0,rad:0},2:{dimensionSwapped:!1,scaleX:-1,scaleY:1,deg:0,rad:0},3:{dimensionSwapped:!1,scaleX:1,scaleY:1,deg:180,rad:180*Math.PI/180},4:{dimensionSwapped:!1,scaleX:-1,scaleY:1,deg:180,rad:180*Math.PI/180},5:{dimensionSwapped:!0,scaleX:1,scaleY:-1,deg:90,rad:90*Math.PI/180},6:{dimensionSwapped:!0,scaleX:1,scaleY:1,deg:90,rad:90*Math.PI/180},7:{dimensionSwapped:!0,scaleX:1,scaleY:-1,deg:270,rad:270*Math.PI/180},8:{dimensionSwapped:!0,scaleX:1,scaleY:1,deg:270,rad:270*Math.PI/180}});if(e.rotateCanvas=!0,e.rotateCss=!0,"object"==typeof navigator){var Le=navigator.userAgent;if(Le.includes("iPad")||Le.includes("iPhone")){if(g=Le.match(/OS (\d+)_(\d+)/)){var ze=u(g,3),qe=ze[1],He=ze[2],Ve=Number(qe)+.1*Number(He);e.rotateCanvas=Ve<13.4,e.rotateCss=!1}}else if(Le.includes("OS X 10")){var We=Le.match(/OS X 10[_.](\d+)/),Ke=u(We,2)[1];e.rotateCanvas=e.rotateCss=Number(Ke)<15}if(Le.includes("Chrome/")){var Ge=Le.match(/Chrome\/(\d+)/),Ye=u(Ge,2)[1];e.rotateCanvas=e.rotateCss=Number(Ye)<81}else if(Le.includes("Firefox/")){var Xe=Le.match(/Firefox\/(\d+)/),$e=u(Xe,2)[1];e.rotateCanvas=e.rotateCss=Number($e)<77}}var Je=function(e){f(r,e);var n=h(r);function r(){var e;y(this,r);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return e=n.call.apply(n,[this].concat(o)),t(a(e),"ranges",new Qe),0!==e.byteLength&&e.ranges.add(0,e.byteLength),e}return m(r,[{key:"_tryExtend",value:function(e,t,n){if(0===e&&0===this.byteLength&&n){var r=new DataView(n.buffer||n,n.byteOffset,n.byteLength);this._swapDataView(r)}else{var i=e+t;if(i>this.byteLength){var o=this._extend(i).dataView;this._swapDataView(o)}}}},{key:"_extend",value:function(e){var t;t=_?w.allocUnsafe(e):new Uint8Array(e);var n=new DataView(t.buffer,t.byteOffset,t.byteLength);return t.set(new Uint8Array(this.buffer,this.byteOffset,this.byteLength),0),{uintView:t,dataView:n}}},{key:"subarray",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return t=t||this._lengthToEnd(e),n&&this._tryExtend(e,t),this.ranges.add(e,t),p(d(r.prototype),"subarray",this).call(this,e,t)}},{key:"set",value:function(e,t){arguments.length>2&&void 0!==arguments[2]&&arguments[2]&&this._tryExtend(t,e.byteLength,e);var n=p(d(r.prototype),"set",this).call(this,e,t);return this.ranges.add(t,n.byteLength),n}},{key:"ensureChunk",value:function(){var e=c(i.mark((function e(t,n){return i.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.chunked,!e.t0){e.next=6;break}if(e.t1=this.ranges.available(t,n),e.t1){e.next=6;break}return e.next=6,this.readChunk(t,n);case 6:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"available",value:function(e,t){return this.ranges.available(e,t)}}]),r}(E),Qe=function(){function e(){y(this,e),t(this,"list",[])}return m(e,[{key:"length",get:function(){return this.list.length}},{key:"add",value:function(e,t){var n=e+t,r=this.list.filter((function(t){return Ze(e,t.offset,n)||Ze(e,t.end,n)}));if(r.length>0){e=Math.min.apply(Math,[e].concat(s(r.map((function(e){return e.offset}))))),n=Math.max.apply(Math,[n].concat(s(r.map((function(e){return e.end}))))),t=n-e;var i=r.shift();i.offset=e,i.length=t,i.end=n,this.list=this.list.filter((function(e){return!r.includes(e)}))}else this.list.push({offset:e,length:t,end:n})}},{key:"available",value:function(e,t){var n=e+t;return this.list.some((function(t){return t.offset<=e&&n<=t.end}))}}]),e}();function Ze(e,t,n){return e<=t&&t<=n}var et=function(e){f(r,e);var n=h(r);function r(e,i){var o;return y(this,r),o=n.call(this,0),t(a(o),"chunksRead",0),o.input=e,o.options=i,o}return m(r,[{key:"readWhole",value:function(){var e=c(i.mark((function e(){return i.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.chunked=!1,e.next=3,this.readChunk(this.nextChunkOffset);case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"readChunked",value:function(){var e=c(i.mark((function e(){return i.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.chunked=!0,e.next=3,this.readChunk(0,this.options.firstChunkSize);case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"readNextChunk",value:function(){var e=c(i.mark((function e(){var t,n,r,o=arguments;return i.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=o.length>0&&void 0!==o[0]?o[0]:this.nextChunkOffset,!this.fullyRead){e.next=3;break}return e.abrupt("return",(this.chunksRead++,!1));case 3:return n=this.options.chunkSize,e.next=6,this.readChunk(t,n);case 6:return r=e.sent,e.abrupt("return",!!r&&r.byteLength===n);case 8:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"readChunk",value:function(){var e=c(i.mark((function e(t,n){return i.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.chunksRead++,0===(n=this.safeWrapAddress(t,n))){e.next=2;break}return e.abrupt("return",this._readChunk(t,n));case 2:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"safeWrapAddress",value:function(e,t){return void 0!==this.size&&e+t>this.size?Math.max(0,this.size-e):t}},{key:"nextChunkOffset",get:function(){if(0!==this.ranges.list.length)return this.ranges.list[0].length}},{key:"canReadNextChunk",get:function(){return this.chunksRead<this.options.chunkLimit}},{key:"fullyRead",get:function(){return void 0!==this.size&&this.nextChunkOffset===this.size}},{key:"read",value:function(){return this.options.chunked?this.readChunked():this.readWhole()}},{key:"close",value:function(){}}]),r}(Je);D.set("blob",function(e){f(n,e);var t=h(n);function n(){return y(this,n),t.apply(this,arguments)}return m(n,[{key:"readWhole",value:function(){var e=c(i.mark((function e(){var t;return i.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.chunked=!1,e.next=3,H(this.input);case 3:t=e.sent,this._swapArrayBuffer(t);case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"readChunked",value:function(){return this.chunked=!0,this.size=this.input.size,p(d(n.prototype),"readChunked",this).call(this)}},{key:"_readChunk",value:function(){var e=c(i.mark((function e(t,n){var r,o,a;return i.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n?t+n:void 0,o=this.input.slice(t,r),e.next=4,H(o);case 4:return a=e.sent,e.abrupt("return",this.set(a,t,!0));case 6:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()}]),n}(et)),e.Exifr=be,e.Options=ve,e.allFormatters=ce,e.chunkedProps=re,e.createDictionary=W,e.default=Ue,e.extendDictionary=K,e.fetchUrlAsArrayBuffer=q,e.fileParsers=U,e.fileReaders=D,e.gps=function(){var e=c(i.mark((function e(t){var n,r,o,a,s;return i.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new be(De),e.next=3,n.read(t);case 3:return e.next=5,n.parse();case 5:if(!(r=e.sent)||!r.gps){e.next=9;break}return o=r.gps,a=o.latitude,s=o.longitude,e.abrupt("return",{latitude:a,longitude:s});case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),e.gpsOnlyOptions=De,e.inheritables=le,e.orientation=Be,e.orientationOnlyOptions=je,e.otherSegments=ie,e.parse=ke,e.readBlobAsArrayBuffer=H,e.rotation=function(){var t=c(i.mark((function t(n){var r;return i.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Be(n);case 2:return r=t.sent,t.abrupt("return",Object.assign({canvas:e.rotateCanvas,css:e.rotateCss},Ne[r]));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.rotations=Ne,e.segmentParsers=R,e.segments=oe,e.segmentsAndBlocks=se,e.tagKeys=G,e.tagRevivers=X,e.tagValues=Y,e.thumbnail=function(){var e=c(i.mark((function e(t){var n,r;return i.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new be(Ie),e.next=3,n.read(t);case 3:return e.next=5,n.extractThumbnail();case 5:return r=e.sent,e.abrupt("return",r&&_?w.from(r):r);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),e.thumbnailOnlyOptions=Ie,e.thumbnailUrl=function(){var e=c(i.mark((function e(t){var n,r;return i.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.thumbnail(t);case 2:if(void 0===(n=e.sent)){e.next=6;break}return r=new Blob([n]),e.abrupt("return",URL.createObjectURL(r));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),e.tiffBlocks=ae,e.tiffExtractables=ue,Object.defineProperty(e,"__esModule",{value:!0})}(t)},97202:function(e){e.exports=function(e,t){if(e===t)return!0;for(var n in e)if(!(n in t))return!1;for(var n in t)if(e[n]!==t[n])return!1;return!0}},33640:function(e,t,n){var r,i;i="undefined"!==typeof self?self:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:this,e.exports=function(n){"use strict";var i,o=(n=n||{}).Base64,a="2.6.4",s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",u=function(e){for(var t={},n=0,r=e.length;n<r;n++)t[e.charAt(n)]=n;return t}(s),l=String.fromCharCode,c=function(e){if(e.length<2)return(t=e.charCodeAt(0))<128?e:t<2048?l(192|t>>>6)+l(128|63&t):l(224|t>>>12&15)+l(128|t>>>6&63)+l(128|63&t);var t=65536+1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320);return l(240|t>>>18&7)+l(128|t>>>12&63)+l(128|t>>>6&63)+l(128|63&t)},p=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,d=function(e){return e.replace(p,c)},f=function(e){var t=[0,2,1][e.length%3],n=e.charCodeAt(0)<<16|(e.length>1?e.charCodeAt(1):0)<<8|(e.length>2?e.charCodeAt(2):0);return[s.charAt(n>>>18),s.charAt(n>>>12&63),t>=2?"=":s.charAt(n>>>6&63),t>=1?"=":s.charAt(63&n)].join("")},h=n.btoa&&"function"==typeof n.btoa?function(e){return n.btoa(e)}:function(e){if(e.match(/[^\x00-\xFF]/))throw new RangeError("The string contains invalid characters.");return e.replace(/[\s\S]{1,3}/g,f)},v=function(e){return h(d(String(e)))},y=function(e){return e.replace(/[+\/]/g,(function(e){return"+"==e?"-":"_"})).replace(/=/g,"")},m=function(e,t){return t?y(v(e)):v(e)},g=function(e){return m(e,!0)};n.Uint8Array&&(i=function(e,t){for(var n="",r=0,i=e.length;r<i;r+=3){var o=e[r],a=e[r+1],u=e[r+2],l=o<<16|a<<8|u;n+=s.charAt(l>>>18)+s.charAt(l>>>12&63)+("undefined"!=typeof a?s.charAt(l>>>6&63):"=")+("undefined"!=typeof u?s.charAt(63&l):"=")}return t?y(n):n});var b,k=/[\xC0-\xDF][\x80-\xBF]|[\xE0-\xEF][\x80-\xBF]{2}|[\xF0-\xF7][\x80-\xBF]{3}/g,w=function(e){switch(e.length){case 4:var t=((7&e.charCodeAt(0))<<18|(63&e.charCodeAt(1))<<12|(63&e.charCodeAt(2))<<6|63&e.charCodeAt(3))-65536;return l(55296+(t>>>10))+l(56320+(1023&t));case 3:return l((15&e.charCodeAt(0))<<12|(63&e.charCodeAt(1))<<6|63&e.charCodeAt(2));default:return l((31&e.charCodeAt(0))<<6|63&e.charCodeAt(1))}},_=function(e){return e.replace(k,w)},P=function(e){var t=e.length,n=t%4,r=(t>0?u[e.charAt(0)]<<18:0)|(t>1?u[e.charAt(1)]<<12:0)|(t>2?u[e.charAt(2)]<<6:0)|(t>3?u[e.charAt(3)]:0),i=[l(r>>>16),l(r>>>8&255),l(255&r)];return i.length-=[0,0,2,1][n],i.join("")},S=n.atob&&"function"==typeof n.atob?function(e){return n.atob(e)}:function(e){return e.replace(/\S{1,4}/g,P)},C=function(e){return S(String(e).replace(/[^A-Za-z0-9\+\/]/g,""))},x=function(e){return _(S(e))},O=function(e){return String(e).replace(/[-_]/g,(function(e){return"-"==e?"+":"/"})).replace(/[^A-Za-z0-9\+\/]/g,"")},F=function(e){return x(O(e))};n.Uint8Array&&(b=function(e){return Uint8Array.from(C(O(e)),(function(e){return e.charCodeAt(0)}))});var E=function(){var e=n.Base64;return n.Base64=o,e};if(n.Base64={VERSION:a,atob:C,btoa:h,fromBase64:F,toBase64:m,utob:d,encode:m,encodeURI:g,btou:_,decode:F,noConflict:E,fromUint8Array:i,toUint8Array:b},"function"===typeof Object.defineProperty){var A=function(e){return{value:e,enumerable:!1,writable:!0,configurable:!0}};n.Base64.extendString=function(){Object.defineProperty(String.prototype,"fromBase64",A((function(){return F(this)}))),Object.defineProperty(String.prototype,"toBase64",A((function(e){return m(this,e)}))),Object.defineProperty(String.prototype,"toBase64URI",A((function(){return m(this,!0)})))}}return n.Meteor&&(Base64=n.Base64),e.exports?e.exports.Base64=n.Base64:void 0===(r=function(){return n.Base64}.apply(t,[]))||(e.exports=r),{Base64:n.Base64}}(i)},95095:function(e,t,n){var r=/^\s+|\s+$/g,i=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,a=/^0o[0-7]+$/i,s=parseInt,u="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,l="object"==typeof self&&self&&self.Object===Object&&self,c=u||l||Function("return this")(),p=Object.prototype.toString,d=Math.max,f=Math.min,h=function(){return c.Date.now()};function v(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function y(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==p.call(e)}(e))return NaN;if(v(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=v(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(r,"");var n=o.test(e);return n||a.test(e)?s(e.slice(2),n?2:8):i.test(e)?NaN:+e}e.exports=function(e,t,n){var r,i,o,a,s,u,l=0,c=!1,p=!1,m=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function g(t){var n=r,o=i;return r=i=void 0,l=t,a=e.apply(o,n)}function b(e){return l=e,s=setTimeout(w,t),c?g(e):a}function k(e){var n=e-u;return void 0===u||n>=t||n<0||p&&e-l>=o}function w(){var e=h();if(k(e))return _(e);s=setTimeout(w,function(e){var n=t-(e-u);return p?f(n,o-(e-l)):n}(e))}function _(e){return s=void 0,m&&r?g(e):(r=i=void 0,a)}function P(){var e=h(),n=k(e);if(r=arguments,i=this,u=e,n){if(void 0===s)return b(u);if(p)return s=setTimeout(w,t),g(u)}return void 0===s&&(s=setTimeout(w,t)),a}return t=y(t)||0,v(n)&&(c=!!n.leading,o=(p="maxWait"in n)?d(y(n.maxWait)||0,t):o,m="trailing"in n?!!n.trailing:m),P.cancel=function(){void 0!==s&&clearTimeout(s),l=0,r=u=i=s=void 0},P.flush=function(){return void 0===s?a:_(h())},P}},33881:function(e,t,n){var r="Expected a function",i=/^\s+|\s+$/g,o=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,s=/^0o[0-7]+$/i,u=parseInt,l="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,c="object"==typeof self&&self&&self.Object===Object&&self,p=l||c||Function("return this")(),d=Object.prototype.toString,f=Math.max,h=Math.min,v=function(){return p.Date.now()};function y(e,t,n){var i,o,a,s,u,l,c=0,p=!1,d=!1,y=!0;if("function"!=typeof e)throw new TypeError(r);function b(t){var n=i,r=o;return i=o=void 0,c=t,s=e.apply(r,n)}function k(e){return c=e,u=setTimeout(_,t),p?b(e):s}function w(e){var n=e-l;return void 0===l||n>=t||n<0||d&&e-c>=a}function _(){var e=v();if(w(e))return P(e);u=setTimeout(_,function(e){var n=t-(e-l);return d?h(n,a-(e-c)):n}(e))}function P(e){return u=void 0,y&&i?b(e):(i=o=void 0,s)}function S(){var e=v(),n=w(e);if(i=arguments,o=this,l=e,n){if(void 0===u)return k(l);if(d)return u=setTimeout(_,t),b(l)}return void 0===u&&(u=setTimeout(_,t)),s}return t=g(t)||0,m(n)&&(p=!!n.leading,a=(d="maxWait"in n)?f(g(n.maxWait)||0,t):a,y="trailing"in n?!!n.trailing:y),S.cancel=function(){void 0!==u&&clearTimeout(u),c=0,i=l=o=u=void 0},S.flush=function(){return void 0===u?s:P(v())},S}function m(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function g(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==d.call(e)}(e))return NaN;if(m(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=m(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(i,"");var n=a.test(e);return n||s.test(e)?u(e.slice(2),n?2:8):o.test(e)?NaN:+e}e.exports=function(e,t,n){var i=!0,o=!0;if("function"!=typeof e)throw new TypeError(r);return m(n)&&(i="leading"in n?!!n.leading:i,o="trailing"in n?!!n.trailing:o),y(e,t,{leading:i,maxWait:t,trailing:o})}},85781:function(e,t,n){"use strict";n.r(t);var r=Number.isNaN||function(e){return"number"===typeof e&&e!==e};function i(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(i=e[n],o=t[n],!(i===o||r(i)&&r(o)))return!1;var i,o;return!0}t.default=function(e,t){var n;void 0===t&&(t=i);var r,o=[],a=!1;return function(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];return a&&n===this&&t(i,o)||(r=e.apply(this,i),a=!0,n=this,o=i),r}}},92026:function(e,t,n){var r=n(10145),i=/[\/\+\.]/;e.exports=function(e,t){function n(t){var n=r(t,e,i);return n&&n.length>=2}return t?n(t.split(";")[0]):n}},78193:function(e){var t=1e3,n=60*t,r=60*n,i=24*r,o=7*i,a=365.25*i;function s(e,t,n,r){var i=t>=1.5*n;return Math.round(e/n)+" "+r+(i?"s":"")}e.exports=function(e,u){u=u||{};var l=typeof e;if("string"===l&&e.length>0)return function(e){if((e=String(e)).length>100)return;var s=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(!s)return;var u=parseFloat(s[1]);switch((s[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return u*a;case"weeks":case"week":case"w":return u*o;case"days":case"day":case"d":return u*i;case"hours":case"hour":case"hrs":case"hr":case"h":return u*r;case"minutes":case"minute":case"mins":case"min":case"m":return u*n;case"seconds":case"second":case"secs":case"sec":case"s":return u*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return u;default:return}}(e);if("number"===l&&isFinite(e))return u.long?function(e){var o=Math.abs(e);if(o>=i)return s(e,o,i,"day");if(o>=r)return s(e,o,r,"hour");if(o>=n)return s(e,o,n,"minute");if(o>=t)return s(e,o,t,"second");return e+" ms"}(e):function(e){var o=Math.abs(e);if(o>=i)return Math.round(e/i)+"d";if(o>=r)return Math.round(e/r)+"h";if(o>=n)return Math.round(e/n)+"m";if(o>=t)return Math.round(e/t)+"s";return e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},15336:function(e){e.exports=function(){var e={},t=e._fns={};return e.emit=function(e,n,r,i,o,a,s){var u=function(e){var n=t[e]?t[e]:[],r=e.indexOf(":"),i=-1===r?[e]:[e.substring(0,r),e.substring(r+1)],o=Object.keys(t),a=0,s=o.length;for(;a<s;a++){var u=o[a];if("*"===u&&(n=n.concat(t[u])),2===i.length&&i[0]===u){n=n.concat(t[u]);break}}return n}(e);u.length&&function(e,t,n){var r=0,i=t.length;for(;r<i&&t[r];r++)t[r].event=e,t[r].apply(t[r],n)}(e,u,[n,r,i,o,a,s])},e.on=function(e,n){t[e]||(t[e]=[]),t[e].push(n)},e.once=function(t,n){this.on(t,(function r(){n.apply(this,arguments),e.off(t,r)}))},e.off=function(e,t){var n=[];if(e&&t)for(var r=this._fns[e],i=0,o=r?r.length:0;i<o;i++)r[i]!==t&&n.push(r[i]);n.length?this._fns[e]=n:delete this._fns[e]},e}},58620:function(e,t,n){"use strict";n.r(t),n.d(t,{Component:function(){return _},Fragment:function(){return w},cloneElement:function(){return V},createContext:function(){return W},createElement:function(){return g},createRef:function(){return k},h:function(){return g},hydrate:function(){return H},isValidElement:function(){return a},options:function(){return i},render:function(){return q},toChildArray:function(){return E}});var r,i,o,a,s,u,l,c,p,d={},f=[],h=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,v=Array.isArray;function y(e,t){for(var n in t)e[n]=t[n];return e}function m(e){var t=e.parentNode;t&&t.removeChild(e)}function g(e,t,n){var i,o,a,s={};for(a in t)"key"==a?i=t[a]:"ref"==a?o=t[a]:s[a]=t[a];if(arguments.length>2&&(s.children=arguments.length>3?r.call(arguments,2):n),"function"==typeof e&&null!=e.defaultProps)for(a in e.defaultProps)void 0===s[a]&&(s[a]=e.defaultProps[a]);return b(e,s,i,o,null)}function b(e,t,n,r,a){var s={type:e,props:t,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:null==a?++o:a};return null==a&&null!=i.vnode&&i.vnode(s),s}function k(){return{current:null}}function w(e){return e.children}function _(e,t){this.props=e,this.context=t}function P(e,t){if(null==t)return e.__?P(e.__,e.__.__k.indexOf(e)+1):null;for(var n;t<e.__k.length;t++)if(null!=(n=e.__k[t])&&null!=n.__e)return n.__d||n.__e;return"function"==typeof e.type?P(e):null}function S(e){var t,n;if(null!=(e=e.__)&&null!=e.__c){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if(null!=(n=e.__k[t])&&null!=n.__e){e.__e=e.__c.base=n.__e;break}return S(e)}}function C(e){(!e.__d&&(e.__d=!0)&&s.push(e)&&!x.__r++||u!==i.debounceRendering)&&((u=i.debounceRendering)||l)(x)}function x(){var e,t,n,r,i,o,a,u,l;for(s.sort(c);e=s.shift();)e.__d&&(t=s.length,r=void 0,i=void 0,o=void 0,u=(a=(n=e).__v).__e,(l=n.__P)&&(r=[],i=[],(o=y({},a)).__v=a.__v+1,j(l,a,o,n.__n,void 0!==l.ownerSVGElement,null!=a.__h?[u]:null,r,null==u?P(a):u,a.__h,i),B(r,a,i),a.__e!=u&&S(a)),s.length>t&&s.sort(c));x.__r=0}function O(e,t,n,r,i,o,a,s,u,l,c){var p,h,y,m,g,k,_,S,C,x=0,O=r&&r.__k||f,E=O.length,U=E,R=t.length;for(n.__k=[],p=0;p<R;p++)null!=(m=n.__k[p]=null==(m=t[p])||"boolean"==typeof m||"function"==typeof m?null:"string"==typeof m||"number"==typeof m||"bigint"==typeof m?b(null,m,null,null,m):v(m)?b(w,{children:m},null,null,null):m.__b>0?b(m.type,m.props,m.key,m.ref?m.ref:null,m.__v):m)?(m.__=n,m.__b=n.__b+1,-1===(S=T(m,O,_=p+x,U))?y=d:(y=O[S]||d,O[S]=void 0,U--),j(e,m,y,i,o,a,s,u,l,c),g=m.__e,(h=m.ref)&&y.ref!=h&&(y.ref&&N(y.ref,null,m),c.push(h,m.__c||g,m)),null!=g&&(null==k&&(k=g),(C=y===d||null===y.__v)?-1==S&&x--:S!==_&&(S===_+1?x++:S>_?U>R-_?x+=S-_:x--:x=S<_&&S==_-1?S-_:0),_=p+x,"function"!=typeof m.type||S===_&&y.__k!==m.__k?"function"==typeof m.type||S===_&&!C?void 0!==m.__d?(u=m.__d,m.__d=void 0):u=g.nextSibling:u=A(e,g,u):u=F(m,u,e),"function"==typeof n.type&&(n.__d=u))):(y=O[p])&&null==y.key&&y.__e&&(y.__e==u&&(y.__=r,u=P(y)),L(y,y,!1),O[p]=null);for(n.__e=k,p=E;p--;)null!=O[p]&&("function"==typeof n.type&&null!=O[p].__e&&O[p].__e==n.__d&&(n.__d=O[p].__e.nextSibling),L(O[p],O[p]))}function F(e,t,n){for(var r,i=e.__k,o=0;i&&o<i.length;o++)(r=i[o])&&(r.__=e,t="function"==typeof r.type?F(r,t,n):A(n,r.__e,t));return t}function E(e,t){return t=t||[],null==e||"boolean"==typeof e||(v(e)?e.some((function(e){E(e,t)})):t.push(e)),t}function A(e,t,n){return null==n||n.parentNode!==e?e.insertBefore(t,null):t==n&&null!=t.parentNode||e.insertBefore(t,n),t.nextSibling}function T(e,t,n,r){var i=e.key,o=e.type,a=n-1,s=n+1,u=t[n];if(null===u||u&&i==u.key&&o===u.type)return n;if(r>(null!=u?1:0))for(;a>=0||s<t.length;){if(a>=0){if((u=t[a])&&i==u.key&&o===u.type)return a;a--}if(s<t.length){if((u=t[s])&&i==u.key&&o===u.type)return s;s++}}return-1}function U(e,t,n){"-"===t[0]?e.setProperty(t,null==n?"":n):e[t]=null==n?"":"number"!=typeof n||h.test(t)?n:n+"px"}function R(e,t,n,r,i){var o;e:if("style"===t)if("string"==typeof n)e.style.cssText=n;else{if("string"==typeof r&&(e.style.cssText=r=""),r)for(t in r)n&&t in n||U(e.style,t,"");if(n)for(t in n)r&&n[t]===r[t]||U(e.style,t,n[t])}else if("o"===t[0]&&"n"===t[1])o=t!==(t=t.replace(/(PointerCapture)$|Capture$/,"$1")),t=t.toLowerCase()in e?t.toLowerCase().slice(2):t.slice(2),e.l||(e.l={}),e.l[t+o]=n,n?r?n.u=r.u:(n.u=Date.now(),e.addEventListener(t,o?I:D,o)):e.removeEventListener(t,o?I:D,o);else if("dangerouslySetInnerHTML"!==t){if(i)t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if("width"!==t&&"height"!==t&&"href"!==t&&"list"!==t&&"form"!==t&&"tabIndex"!==t&&"download"!==t&&"rowSpan"!==t&&"colSpan"!==t&&"role"!==t&&t in e)try{e[t]=null==n?"":n;break e}catch(e){}"function"==typeof n||(null==n||!1===n&&"-"!==t[4]?e.removeAttribute(t):e.setAttribute(t,n))}}function D(e){var t=this.l[e.type+!1];if(e.t){if(e.t<=t.u)return}else e.t=Date.now();return t(i.event?i.event(e):e)}function I(e){return this.l[e.type+!0](i.event?i.event(e):e)}function j(e,t,n,r,o,a,s,u,l,c){var p,d,f,h,m,g,b,k,P,S,C,x,F,E,A,T=t.type;if(void 0!==t.constructor)return null;null!=n.__h&&(l=n.__h,u=t.__e=n.__e,t.__h=null,a=[u]),(p=i.__b)&&p(t);e:if("function"==typeof T)try{if(k=t.props,P=(p=T.contextType)&&r[p.__c],S=p?P?P.props.value:p.__:r,n.__c?b=(d=t.__c=n.__c).__=d.__E:("prototype"in T&&T.prototype.render?t.__c=d=new T(k,S):(t.__c=d=new _(k,S),d.constructor=T,d.render=z),P&&P.sub(d),d.props=k,d.state||(d.state={}),d.context=S,d.__n=r,f=d.__d=!0,d.__h=[],d._sb=[]),null==d.__s&&(d.__s=d.state),null!=T.getDerivedStateFromProps&&(d.__s==d.state&&(d.__s=y({},d.__s)),y(d.__s,T.getDerivedStateFromProps(k,d.__s))),h=d.props,m=d.state,d.__v=t,f)null==T.getDerivedStateFromProps&&null!=d.componentWillMount&&d.componentWillMount(),null!=d.componentDidMount&&d.__h.push(d.componentDidMount);else{if(null==T.getDerivedStateFromProps&&k!==h&&null!=d.componentWillReceiveProps&&d.componentWillReceiveProps(k,S),!d.__e&&(null!=d.shouldComponentUpdate&&!1===d.shouldComponentUpdate(k,d.__s,S)||t.__v===n.__v)){for(t.__v!==n.__v&&(d.props=k,d.state=d.__s,d.__d=!1),t.__e=n.__e,t.__k=n.__k,t.__k.forEach((function(e){e&&(e.__=t)})),C=0;C<d._sb.length;C++)d.__h.push(d._sb[C]);d._sb=[],d.__h.length&&s.push(d);break e}null!=d.componentWillUpdate&&d.componentWillUpdate(k,d.__s,S),null!=d.componentDidUpdate&&d.__h.push((function(){d.componentDidUpdate(h,m,g)}))}if(d.context=S,d.props=k,d.__P=e,d.__e=!1,x=i.__r,F=0,"prototype"in T&&T.prototype.render){for(d.state=d.__s,d.__d=!1,x&&x(t),p=d.render(d.props,d.state,d.context),E=0;E<d._sb.length;E++)d.__h.push(d._sb[E]);d._sb=[]}else do{d.__d=!1,x&&x(t),p=d.render(d.props,d.state,d.context),d.state=d.__s}while(d.__d&&++F<25);d.state=d.__s,null!=d.getChildContext&&(r=y(y({},r),d.getChildContext())),f||null==d.getSnapshotBeforeUpdate||(g=d.getSnapshotBeforeUpdate(h,m)),O(e,v(A=null!=p&&p.type===w&&null==p.key?p.props.children:p)?A:[A],t,n,r,o,a,s,u,l,c),d.base=t.__e,t.__h=null,d.__h.length&&s.push(d),b&&(d.__E=d.__=null)}catch(e){t.__v=null,(l||null!=a)&&(t.__e=u,t.__h=!!l,a[a.indexOf(u)]=null),i.__e(e,t,n)}else null==a&&t.__v===n.__v?(t.__k=n.__k,t.__e=n.__e):t.__e=M(n.__e,t,n,r,o,a,s,l,c);(p=i.diffed)&&p(t)}function B(e,t,n){for(var r=0;r<n.length;r++)N(n[r],n[++r],n[++r]);i.__c&&i.__c(t,e),e.some((function(t){try{e=t.__h,t.__h=[],e.some((function(e){e.call(t)}))}catch(e){i.__e(e,t.__v)}}))}function M(e,t,n,i,o,a,s,u,l){var c,p,f,h=n.props,y=t.props,g=t.type,b=0;if("svg"===g&&(o=!0),null!=a)for(;b<a.length;b++)if((c=a[b])&&"setAttribute"in c==!!g&&(g?c.localName===g:3===c.nodeType)){e=c,a[b]=null;break}if(null==e){if(null===g)return document.createTextNode(y);e=o?document.createElementNS("http://www.w3.org/2000/svg",g):document.createElement(g,y.is&&y),a=null,u=!1}if(null===g)h===y||u&&e.data===y||(e.data=y);else{if(a=a&&r.call(e.childNodes),p=(h=n.props||d).dangerouslySetInnerHTML,f=y.dangerouslySetInnerHTML,!u){if(null!=a)for(h={},b=0;b<e.attributes.length;b++)h[e.attributes[b].name]=e.attributes[b].value;(f||p)&&(f&&(p&&f.__html==p.__html||f.__html===e.innerHTML)||(e.innerHTML=f&&f.__html||""))}if(function(e,t,n,r,i){var o;for(o in n)"children"===o||"key"===o||o in t||R(e,o,null,n[o],r);for(o in t)i&&"function"!=typeof t[o]||"children"===o||"key"===o||"value"===o||"checked"===o||n[o]===t[o]||R(e,o,t[o],n[o],r)}(e,y,h,o,u),f)t.__k=[];else if(O(e,v(b=t.props.children)?b:[b],t,n,i,o&&"foreignObject"!==g,a,s,a?a[0]:n.__k&&P(n,0),u,l),null!=a)for(b=a.length;b--;)null!=a[b]&&m(a[b]);u||("value"in y&&void 0!==(b=y.value)&&(b!==e.value||"progress"===g&&!b||"option"===g&&b!==h.value)&&R(e,"value",b,h.value,!1),"checked"in y&&void 0!==(b=y.checked)&&b!==e.checked&&R(e,"checked",b,h.checked,!1))}return e}function N(e,t,n){try{"function"==typeof e?e(t):e.current=t}catch(e){i.__e(e,n)}}function L(e,t,n){var r,o;if(i.unmount&&i.unmount(e),(r=e.ref)&&(r.current&&r.current!==e.__e||N(r,null,t)),null!=(r=e.__c)){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(e){i.__e(e,t)}r.base=r.__P=null,e.__c=void 0}if(r=e.__k)for(o=0;o<r.length;o++)r[o]&&L(r[o],t,n||"function"!=typeof e.type);n||null==e.__e||m(e.__e),e.__=e.__e=e.__d=void 0}function z(e,t,n){return this.constructor(e,n)}function q(e,t,n){var o,a,s,u;i.__&&i.__(e,t),a=(o="function"==typeof n)?null:n&&n.__k||t.__k,s=[],u=[],j(t,e=(!o&&n||t).__k=g(w,null,[e]),a||d,d,void 0!==t.ownerSVGElement,!o&&n?[n]:a?null:t.firstChild?r.call(t.childNodes):null,s,!o&&n?n:a?a.__e:t.firstChild,o,u),B(s,e,u)}function H(e,t){q(e,t,H)}function V(e,t,n){var i,o,a,s,u=y({},e.props);for(a in e.type&&e.type.defaultProps&&(s=e.type.defaultProps),t)"key"==a?i=t[a]:"ref"==a?o=t[a]:u[a]=void 0===t[a]&&void 0!==s?s[a]:t[a];return arguments.length>2&&(u.children=arguments.length>3?r.call(arguments,2):n),b(e.type,u,i||e.key,o||e.ref,null)}function W(e,t){var n={__c:t="__cC"+p++,__:e,Consumer:function(e,t){return e.children(t)},Provider:function(e){var n,r;return this.getChildContext||(n=[],(r={})[t]=this,this.getChildContext=function(){return r},this.shouldComponentUpdate=function(e){this.props.value!==e.value&&n.some((function(e){e.__e=!0,C(e)}))},this.sub=function(e){n.push(e);var t=e.componentWillUnmount;e.componentWillUnmount=function(){n.splice(n.indexOf(e),1),t&&t.call(e)}}),e.children}};return n.Provider.__=n.Consumer.contextType=n}r=f.slice,i={__e:function(e,t,n,r){for(var i,o,a;t=t.__;)if((i=t.__c)&&!i.__)try{if((o=i.constructor)&&null!=o.getDerivedStateFromError&&(i.setState(o.getDerivedStateFromError(e)),a=i.__d),null!=i.componentDidCatch&&(i.componentDidCatch(e,r||{}),a=i.__d),a)return i.__E=i}catch(t){e=t}throw e}},o=0,a=function(e){return null!=e&&void 0===e.constructor},_.prototype.setState=function(e,t){var n;n=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=y({},this.state),"function"==typeof e&&(e=e(y({},n),this.props)),e&&y(n,e),null!=e&&this.__v&&(t&&this._sb.push(t),C(this))},_.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),C(this))},_.prototype.render=w,s=[],l="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,c=function(e,t){return e.__v.__b-t.__v.__b},x.__r=0,p=0},80888:function(e,t,n){"use strict";var r=n(79047);function i(){}function o(){}o.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,o,a){if(a!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:i};return n.PropTypes=n,n}},52007:function(e,t,n){e.exports=n(80888)()},79047:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},96962:function(e,t){"use strict";var n=Object.prototype.hasOwnProperty;function r(e){try{return decodeURIComponent(e.replace(/\+/g," "))}catch(t){return null}}function i(e){try{return encodeURIComponent(e)}catch(t){return null}}t.stringify=function(e,t){t=t||"";var r,o,a=[];for(o in"string"!==typeof t&&(t="?"),e)if(n.call(e,o)){if((r=e[o])||null!==r&&undefined!==r&&!isNaN(r)||(r=""),o=i(o),r=i(r),null===o||null===r)continue;a.push(o+"="+r)}return a.length?t+a.join("&"):""},t.parse=function(e){for(var t,n=/([^=?#&]+)=?([^&]*)/g,i={};t=n.exec(e);){var o=r(t[1]),a=r(t[2]);null===o||null===a||o in i||(i[o]=a)}return i}},42198:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(u){i=!0,o=u}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")};t.default=function(e){var t=(0,i.useState)(e.count),n=r(t,2),o=n[0],a=n[1],s=(0,i.useState)(e.size),u=r(s,2),l=u[0],c=u[1],p=(0,i.useState)(e.char),d=r(p,2),f=d[0],h=d[1],v=(0,i.useState)(e.color),y=r(v,2),m=y[0],g=y[1],b=(0,i.useState)(e.activeColor),k=r(b,2),w=k[0],_=k[1],P=(0,i.useState)(e.isHalf),S=r(P,2),C=S[0],x=S[1],O=(0,i.useState)(e.edit),F=r(O,2),E=F[0],A=F[1],T=(0,i.useState)(e.emptyIcon),U=r(T,2),R=U[0],D=U[1],I=(0,i.useState)(e.halfIcon),j=r(I,2),B=j[0],M=j[1],N=(0,i.useState)(e.filledIcon),L=r(N,2),z=L[0],q=L[1],H=(0,i.useState)(e.a11y),V=r(H,2),W=V[0],K=V[1];return[{count:o,size:l,char:f,color:m,activeColor:w,isHalf:C,edit:E,emptyIcon:R,halfIcon:B,filledIcon:z,a11y:W},function(e){a(e.count),c(e.size),h(e.char),g(e.color),_(e.activeColor),x(e.isHalf),A(e.edit),D(e.emptyIcon),M(e.halfIcon),q(e.filledIcon),K(e.a11y)}]};var i=n(72791)},55112:function(e,t,n){"use strict";var r=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(u){i=!0,o=u}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},i=n(72791),o=l(i),a=l(n(52007)),s=l(n(42198)),u=l(n(49059));function l(e){return e&&e.__esModule?e:{default:e}}var c={overflow:"hidden",position:"relative"};function p(e,t){return"\n    .react-stars-"+t+":before {\n      position: absolute;\n      overflow: hidden;\n      display: block;\n      z-index: 1;\n      top: 0; left: 0;\n      width: 50%;\n      content: attr(data-forhalf);\n      color: "+e+";\n  }"}function d(e){var t=(0,i.useState)(""),n=r(t,2),a=n[0],l=n[1],d=(0,i.useState)(0),f=r(d,2),h=f[0],v=f[1],y=(0,i.useState)([]),m=r(y,2),g=m[0],b=m[1],k=(0,i.useState)(!1),w=r(k,2),_=w[0],P=w[1],S=(0,s.default)(e),C=r(S,2),x=C[0],O=C[1],F=(0,i.useState)(0),E=r(F,2),A=E[0],T=E[1],U=(0,i.useState)(!1),R=r(U,2),D=R[0],I=R[1],j=(0,i.useState)(""),B=r(j,2),M=B[0],N=B[1];function L(e){"undefined"===typeof e&&(e=x.isHalf?Math.floor(h):Math.round(h));for(var t=[],n=0;n<x.count;n++)t.push({active:n<=e-1});return t}function z(e){if(x.edit){var t=Number(e.currentTarget.getAttribute("data-index"));if(x.isHalf){var n=q(e);I(n),n&&(t+=1),T(t)}else t+=1;!function(e){var t=g.filter((function(e){return e.active}));e!==t.length&&b(L(e))}(t)}}function q(e){var t=e.target.getBoundingClientRect(),n=e.clientX-t.left;return(n=Math.round(Math.abs(n)))>t.width/2}function H(){x.edit&&(V(h),b(L()))}function V(e){x.isHalf&&(I(function(e){return e%1===0}(e)),T(Math.floor(e)))}function W(e){if(x.edit){var t=Number(e.currentTarget.getAttribute("data-index")),n=void 0;if(x.isHalf){var r=q(e);I(r),r&&(t+=1),n=r?t:t+.5,T(t)}else n=t+=1;K(n)}}function K(t){t!==h&&(b(L(t)),v(t),e.onChange(t))}return(0,i.useEffect)((function(){var t,n;!function(){var t="react-stars";N(e.classNames+" "+t)}(),t=e.value,n=e.count,v(t<0||t>n?0:t),b(L(e.value)),O(e),l((Math.random()+"").replace(".","")),P(function(e){return!e.isHalf&&e.emptyIcon&&e.filledIcon||e.isHalf&&e.emptyIcon&&e.halfIcon&&e.filledIcon}(e)),T(Math.floor(e.value)),I(e.isHalf&&e.value%1<.5)}),[]),o.default.createElement("div",{className:"react-stars-wrapper-"+a,style:{display:"flex"}},o.default.createElement("div",{tabIndex:x.a11y&&x.edit?0:null,"aria-label":"add rating by typing an integer from 0 to 5 or pressing arrow keys",onKeyDown:function(e){if(x.a11y||x.edit){var t=e.key,n=h,r=Number(t);r?Number.isInteger(r)&&r>0&&r<=x.count&&(n=r):("ArrowUp"===t||"ArrowRight"===t)&&n<x.count?(e.preventDefault(),n+=x.isHalf?.5:1):("ArrowDown"===t||"ArrowLeft"===t)&&n>.5&&(e.preventDefault(),n-=x.isHalf?.5:1),V(n),K(n)}},className:M,style:c},x.isHalf&&function(){return o.default.createElement("style",{dangerouslySetInnerHTML:{__html:_?(e=x.activeColor,"\n          span.react-stars-half > * {\n          color: "+e+";\n      }"):p(x.activeColor,a)}});var e}(),g.map((function(e,t){return o.default.createElement(u.default,{key:t,index:t,active:e.active,config:x,onMouseOver:z,onMouseLeave:H,onClick:W,halfStarHidden:D,halfStarAt:A,isUsingIcons:_,uniqueness:a})})),o.default.createElement("p",{style:{position:"absolute",left:"-200rem"},role:"status"},h)))}d.propTypes={classNames:a.default.string,edit:a.default.bool,half:a.default.bool,value:a.default.number,count:a.default.number,char:a.default.string,size:a.default.number,color:a.default.string,activeColor:a.default.string,emptyIcon:a.default.element,halfIcon:a.default.element,filledIcon:a.default.element,a11y:a.default.bool},d.defaultProps={edit:!0,half:!1,value:0,count:5,char:"\u2605",size:15,color:"gray",activeColor:"#ffd700",a11y:!0,onChange:function(){}},t.Z=d},49059:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default=function(e){var t=e.index,n=e.active,i=e.config,o=e.onMouseOver,u=e.onMouseLeave,l=e.onClick,c=e.halfStarHidden,p=e.halfStarAt,d=e.isUsingIcons,f=e.uniqueness,h=i.color,v=i.activeColor,y=i.size,m=i.char,g=i.isHalf,b=i.edit,k=i.halfIcon,w=i.emptyIcon,_=i.filledIcon,P="",S=!1;g&&!c&&p===t&&(P=d?"react-stars-half":"react-stars-"+f,S=!0);var C=r({},s,{color:n?v:h,cursor:b?"pointer":"default",fontSize:y+"px"});return a.default.createElement("span",{className:P,style:C,key:t,"data-index":t,"data-forhalf":_?t:m,onMouseOver:o,onMouseMove:o,onMouseLeave:u,onClick:l},d?n?_:!n&&S?k:w:m)};var i,o=n(72791),a=(i=o)&&i.__esModule?i:{default:i};var s={position:"relative",overflow:"hidden",cursor:"pointer",display:"block",float:"left"}},43841:function(e){"use strict";e.exports=function(e,t){if(t=t.split(":")[0],!(e=+e))return!1;switch(t){case"http":case"ws":return 80!==e;case"https":case"wss":return 443!==e;case"ftp":return 21!==e;case"gopher":return 70!==e;case"file":return!1}return 0!==e}},45950:function(e,t,n){"use strict";n.r(t),n.d(t,{DetailedError:function(){return y},HttpStack:function(){return H},Upload:function(){return de},canStoreURLs:function(){return M},defaultOptions:function(){return pe},enableDebugLog:function(){return g},isSupported:function(){return ye}});var r=n(33640),i=n(65915),o=n.n(i);function a(e){return a="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){return!t||"object"!==a(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(e){var t="function"===typeof Map?new Map:void 0;return c=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return p(e,arguments,h(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),f(r,e)},c(e)}function p(e,t,n){return p=d()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&f(i,n.prototype),i},p.apply(null,arguments)}function d(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function f(e,t){return f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},f(e,t)}function h(e){return h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},h(e)}var v=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(o,e);var t,n,r,i=function(e){var t=d();return function(){var n,r=h(e);if(t){var i=h(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l(this,n)}}(o);function o(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(u(this,o),(t=i.call(this,e)).originalRequest=r,t.originalResponse=a,t.causingError=n,null!=n&&(e+=", caused by ".concat(n.toString())),null!=r){var s=r.getHeader("X-Request-ID")||"n/a",l=r.getMethod(),c=r.getURL(),p=a?a.getStatus():"n/a",d=a?a.getBody()||"":"n/a";e+=", originated from request (method: ".concat(l,", url: ").concat(c,", response code: ").concat(p,", response text: ").concat(d,", request id: ").concat(s,")")}return t.message=e,t}return t=o,n&&s(t.prototype,n),r&&s(t,r),t}(c(Error)),y=v,m=!1;function g(){m=!0}function b(e){m&&console.log(e)}function k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k(Object(n),!0).forEach((function(t){_(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function P(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var S={endpoint:null,uploadUrl:null,metadata:{},fingerprint:null,uploadSize:null,onProgress:null,onChunkComplete:null,onSuccess:null,onError:null,_onUploadUrlAvailable:null,overridePatchMethod:!1,headers:{},addRequestId:!1,onBeforeRequest:null,onAfterResponse:null,onShouldRetry:null,chunkSize:1/0,retryDelays:[0,1e3,3e3,5e3],parallelUploads:1,storeFingerprintForResuming:!0,removeFingerprintOnSuccess:!1,uploadLengthDeferred:!1,uploadDataDuringCreation:!1,urlStorage:null,fileReader:null,httpStack:null},C=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),"resume"in n&&console.log("tus: The `resume` option has been removed in tus-js-client v2. Please use the URL storage API instead."),this.options=n,this.options.chunkSize=+this.options.chunkSize,this._urlStorage=this.options.urlStorage,this.file=t,this.url=null,this._req=null,this._fingerprint=null,this._urlStorageKey=null,this._offset=null,this._aborted=!1,this._size=null,this._source=null,this._retryAttempt=0,this._retryTimeout=null,this._offsetBeforeRetry=0,this._parallelUploads=null,this._parallelUploadUrls=null}var t,n,r;return t=e,n=[{key:"findPreviousUploads",value:function(){var e=this;return this.options.fingerprint(this.file,this.options).then((function(t){return e._urlStorage.findUploadsByFingerprint(t)}))}},{key:"resumeFromPreviousUpload",value:function(e){this.url=e.uploadUrl||null,this._parallelUploadUrls=e.parallelUploadUrls||null,this._urlStorageKey=e.urlStorageKey}},{key:"start",value:function(){var e=this,t=this.file;if(t)if(this.options.endpoint||this.options.uploadUrl){var n=this.options.retryDelays;null==n||"[object Array]"===Object.prototype.toString.call(n)?(this.options.parallelUploads>1&&["uploadUrl","uploadSize","uploadLengthDeferred"].forEach((function(t){e.options[t]&&e._emitError(new Error("tus: cannot use the ".concat(t," option when parallelUploads is enabled")))})),this.options.fingerprint(t,this.options).then((function(n){return b(null==n?"No fingerprint was calculated meaning that the upload cannot be stored in the URL storage.":"Calculated fingerprint: ".concat(n)),e._fingerprint=n,e._source?e._source:e.options.fileReader.openFile(t,e.options.chunkSize)})).then((function(t){e._source=t,e.options.parallelUploads>1||null!=e._parallelUploadUrls?e._startParallelUpload():e._startSingleUpload()})).catch((function(t){e._emitError(t)}))):this._emitError(new Error("tus: the `retryDelays` option must either be an array or null"))}else this._emitError(new Error("tus: neither an endpoint or an upload URL is provided"));else this._emitError(new Error("tus: no file or stream to upload provided"))}},{key:"_startParallelUpload",value:function(){var t=this,n=this._size=this._source.size,r=0;this._parallelUploads=[];var i=null!=this._parallelUploadUrls?this._parallelUploadUrls.length:this.options.parallelUploads,o=function(e,t,n){for(var r=Math.floor(e/t),i=[],o=0;o<t;o++)i.push({start:r*o,end:r*(o+1)});return i[t-1].end=e,n&&i.forEach((function(e,t){e.uploadUrl=n[t]||null})),i}(this._source.size,i,this._parallelUploadUrls);this._parallelUploadUrls=new Array(o.length);var a,s=o.map((function(i,a){var s=0;return t._source.slice(i.start,i.end).then((function(u){var l=u.value;return new Promise((function(u,c){var p=w(w({},t.options),{},{uploadUrl:i.uploadUrl||null,storeFingerprintForResuming:!1,removeFingerprintOnSuccess:!1,parallelUploads:1,metadata:{},headers:w(w({},t.options.headers),{},{"Upload-Concat":"partial"}),onSuccess:u,onError:c,onProgress:function(e){r=r-s+e,s=e,t._emitProgress(r,n)},_onUploadUrlAvailable:function(){t._parallelUploadUrls[a]=d.url,t._parallelUploadUrls.filter((function(e){return!!e})).length===o.length&&t._saveUploadInUrlStorage()}}),d=new e(l,p);d.start(),t._parallelUploads.push(d)}))}))}));Promise.all(s).then((function(){(a=t._openRequest("POST",t.options.endpoint)).setHeader("Upload-Concat","final;".concat(t._parallelUploadUrls.join(" ")));var e=x(t.options.metadata);return""!==e&&a.setHeader("Upload-Metadata",e),t._sendRequest(a,null)})).then((function(e){if(O(e.getStatus(),200)){var n=e.getHeader("Location");null!=n?(t.url=T(t.options.endpoint,n),b("Created upload at ".concat(t.url)),t._emitSuccess()):t._emitHttpError(a,e,"tus: invalid or missing Location header")}else t._emitHttpError(a,e,"tus: unexpected response while creating upload")})).catch((function(e){t._emitError(e)}))}},{key:"_startSingleUpload",value:function(){if(this.options.uploadLengthDeferred)this._size=null;else if(null!=this.options.uploadSize){if(this._size=+this.options.uploadSize,isNaN(this._size))return void this._emitError(new Error("tus: cannot convert `uploadSize` option into a number"))}else if(this._size=this._source.size,null==this._size)return void this._emitError(new Error("tus: cannot automatically derive upload's size from input. Specify it manually using the `uploadSize` option or use the `uploadLengthDeferred` option"));return this._aborted=!1,null!=this.url?(b("Resuming upload from previous URL: ".concat(this.url)),void this._resumeUpload()):null!=this.options.uploadUrl?(b("Resuming upload from provided URL: ".concat(this.options.uploadUrl)),this.url=this.options.uploadUrl,void this._resumeUpload()):(b("Creating a new upload"),void this._createUpload())}},{key:"abort",value:function(t){var n=this;if(arguments.length>1&&"function"===typeof arguments[1])throw new Error("tus: the abort function does not accept a callback since v2 anymore; please use the returned Promise instead");return null!=this._parallelUploads&&this._parallelUploads.forEach((function(e){e.abort(t)})),null!==this._req&&(this._req.abort(),this._source.close()),this._aborted=!0,null!=this._retryTimeout&&(clearTimeout(this._retryTimeout),this._retryTimeout=null),t&&null!=this.url?e.terminate(this.url,this.options).then((function(){return n._removeFromUrlStorage()})):Promise.resolve()}},{key:"_emitHttpError",value:function(e,t,n,r){this._emitError(new y(n,r,e,t))}},{key:"_emitError",value:function(e){var t=this;if(!this._aborted){if(null!=this.options.retryDelays&&(null!=this._offset&&this._offset>this._offsetBeforeRetry&&(this._retryAttempt=0),A(e,this._retryAttempt,this.options))){var n=this.options.retryDelays[this._retryAttempt++];return this._offsetBeforeRetry=this._offset,void(this._retryTimeout=setTimeout((function(){t.start()}),n))}if("function"!==typeof this.options.onError)throw e;this.options.onError(e)}}},{key:"_emitSuccess",value:function(){this.options.removeFingerprintOnSuccess&&this._removeFromUrlStorage(),"function"===typeof this.options.onSuccess&&this.options.onSuccess()}},{key:"_emitProgress",value:function(e,t){"function"===typeof this.options.onProgress&&this.options.onProgress(e,t)}},{key:"_emitChunkComplete",value:function(e,t,n){"function"===typeof this.options.onChunkComplete&&this.options.onChunkComplete(e,t,n)}},{key:"_createUpload",value:function(){var e=this;if(this.options.endpoint){var t=this._openRequest("POST",this.options.endpoint);this.options.uploadLengthDeferred?t.setHeader("Upload-Defer-Length",1):t.setHeader("Upload-Length",this._size);var n,r=x(this.options.metadata);""!==r&&t.setHeader("Upload-Metadata",r),this.options.uploadDataDuringCreation&&!this.options.uploadLengthDeferred?(this._offset=0,n=this._addChunkToRequest(t)):n=this._sendRequest(t,null),n.then((function(n){if(O(n.getStatus(),200)){var r=n.getHeader("Location");if(null!=r){if(e.url=T(e.options.endpoint,r),b("Created upload at ".concat(e.url)),"function"===typeof e.options._onUploadUrlAvailable&&e.options._onUploadUrlAvailable(),0===e._size)return e._emitSuccess(),void e._source.close();e._saveUploadInUrlStorage(),e.options.uploadDataDuringCreation?e._handleUploadResponse(t,n):(e._offset=0,e._performUpload())}else e._emitHttpError(t,n,"tus: invalid or missing Location header")}else e._emitHttpError(t,n,"tus: unexpected response while creating upload")})).catch((function(n){e._emitHttpError(t,null,"tus: failed to create upload",n)}))}else this._emitError(new Error("tus: unable to create upload because no endpoint is provided"))}},{key:"_resumeUpload",value:function(){var e=this,t=this._openRequest("HEAD",this.url);this._sendRequest(t,null).then((function(n){var r=n.getStatus();if(!O(r,200))return O(r,400)&&e._removeFromUrlStorage(),423===r?void e._emitHttpError(t,n,"tus: upload is currently locked; retry later"):e.options.endpoint?(e.url=null,void e._createUpload()):void e._emitHttpError(t,n,"tus: unable to resume upload (new upload cannot be created without an endpoint)");var i=parseInt(n.getHeader("Upload-Offset"),10);if(isNaN(i))e._emitHttpError(t,n,"tus: invalid or missing offset value");else{var o=parseInt(n.getHeader("Upload-Length"),10);if(!isNaN(o)||e.options.uploadLengthDeferred){if("function"===typeof e.options._onUploadUrlAvailable&&e.options._onUploadUrlAvailable(),i===o)return e._emitProgress(o,o),void e._emitSuccess();e._offset=i,e._performUpload()}else e._emitHttpError(t,n,"tus: invalid or missing length value")}})).catch((function(n){e._emitHttpError(t,null,"tus: failed to resume upload",n)}))}},{key:"_performUpload",value:function(){var e,t=this;this._aborted||(this.options.overridePatchMethod?(e=this._openRequest("POST",this.url)).setHeader("X-HTTP-Method-Override","PATCH"):e=this._openRequest("PATCH",this.url),e.setHeader("Upload-Offset",this._offset),this._addChunkToRequest(e).then((function(n){O(n.getStatus(),200)?t._handleUploadResponse(e,n):t._emitHttpError(e,n,"tus: unexpected response while uploading chunk")})).catch((function(n){t._aborted||t._emitHttpError(e,null,"tus: failed to upload chunk at offset ".concat(t._offset),n)})))}},{key:"_addChunkToRequest",value:function(e){var t=this,n=this._offset,r=this._offset+this.options.chunkSize;return e.setProgressHandler((function(e){t._emitProgress(n+e,t._size)})),e.setHeader("Content-Type","application/offset+octet-stream"),(r===1/0||r>this._size)&&!this.options.uploadLengthDeferred&&(r=this._size),this._source.slice(n,r).then((function(n){var r=n.value,i=n.done;return t.options.uploadLengthDeferred&&i&&(t._size=t._offset+(r&&r.size?r.size:0),e.setHeader("Upload-Length",t._size)),null===r?t._sendRequest(e):(t._emitProgress(t._offset,t._size),t._sendRequest(e,r))}))}},{key:"_handleUploadResponse",value:function(e,t){var n=parseInt(t.getHeader("Upload-Offset"),10);if(isNaN(n))this._emitHttpError(e,t,"tus: invalid or missing offset value");else{if(this._emitProgress(n,this._size),this._emitChunkComplete(n-this._offset,n,this._size),this._offset=n,n==this._size)return this._emitSuccess(),void this._source.close();this._performUpload()}}},{key:"_openRequest",value:function(e,t){var n=F(e,t,this.options);return this._req=n,n}},{key:"_removeFromUrlStorage",value:function(){var e=this;this._urlStorageKey&&(this._urlStorage.removeUpload(this._urlStorageKey).catch((function(t){e._emitError(t)})),this._urlStorageKey=null)}},{key:"_saveUploadInUrlStorage",value:function(){var e=this;if(this.options.storeFingerprintForResuming&&this._fingerprint){var t={size:this._size,metadata:this.options.metadata,creationTime:(new Date).toString()};this._parallelUploads?t.parallelUploadUrls=this._parallelUploadUrls:t.uploadUrl=this.url,this._urlStorage.addUpload(this._fingerprint,t).then((function(t){return e._urlStorageKey=t})).catch((function(t){e._emitError(t)}))}}},{key:"_sendRequest",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return E(e,t,this.options)}}],r=[{key:"terminate",value:function(t,n){if(arguments.length>1&&"function"===typeof arguments[arguments.length-1])throw new Error("tus: the terminate function does not accept a callback since v2 anymore; please use the returned Promise instead");void 0===n&&(n={});var r=F("DELETE",t,n);return E(r,null,n).then((function(e){if(204!==e.getStatus())throw new y("tus: unexpected response while terminating upload",null,r,e)})).catch((function(i){if(i instanceof y||(i=new y("tus: failed to terminate upload",i,r,null)),!A(i,0,n))throw i;var o=n.retryDelays[0],a=n.retryDelays.slice(1),s=w(w({},n),{},{retryDelays:a});return new Promise((function(e){return setTimeout(e,o)})).then((function(){return e.terminate(t,s)}))}))}}],n&&P(t.prototype,n),r&&P(t,r),e}();function x(e){var t=[];for(var n in e)t.push("".concat(n," ").concat(r.Base64.encode(e[n])));return t.join(",")}function O(e,t){return e>=t&&e<t+100}function F(e,t,n){var r=n.httpStack.createRequest(e,t);r.setHeader("Tus-Resumable","1.0.0");var i=n.headers||{};for(var o in i)r.setHeader(o,i[o]);if(n.addRequestId){var a="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)}));r.setHeader("X-Request-ID",a)}return r}function E(e,t,n){return("function"===typeof n.onBeforeRequest?Promise.resolve(n.onBeforeRequest(e)):Promise.resolve()).then((function(){return e.send(t).then((function(t){return("function"===typeof n.onAfterResponse?Promise.resolve(n.onAfterResponse(e,t)):Promise.resolve()).then((function(){return t}))}))}))}function A(e,t,n){if(null==n.retryDelays||t>=n.retryDelays.length||null==e.originalRequest)return!1;if(n&&"function"===typeof n.onShouldRetry)return n.onShouldRetry(e,t,n);var r=e.originalResponse?e.originalResponse.getStatus():0;return(!O(r,400)||409===r||423===r)&&function(){var e=!0;return"undefined"!==typeof window&&"navigator"in window&&!1===window.navigator.onLine&&(e=!1),e}()}function T(e,t){return new(o())(t,e).toString()}C.defaultOptions=S;var U=C;function R(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var D=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,(n=[{key:"listAllUploads",value:function(){return Promise.resolve([])}},{key:"findUploadsByFingerprint",value:function(e){return Promise.resolve([])}},{key:"removeUpload",value:function(e){return Promise.resolve()}},{key:"addUpload",value:function(e,t){return Promise.resolve(null)}}])&&R(t.prototype,n),r&&R(t,r),e}();function I(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var j=!1;try{j="localStorage"in window;var B="tusSupport";localStorage.setItem(B,localStorage.getItem(B))}catch(me){if(me.code!==me.SECURITY_ERR&&me.code!==me.QUOTA_EXCEEDED_ERR)throw me;j=!1}var M=j,N=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,n=[{key:"findAllUploads",value:function(){var e=this._findEntries("tus::");return Promise.resolve(e)}},{key:"findUploadsByFingerprint",value:function(e){var t=this._findEntries("tus::".concat(e,"::"));return Promise.resolve(t)}},{key:"removeUpload",value:function(e){return localStorage.removeItem(e),Promise.resolve()}},{key:"addUpload",value:function(e,t){var n=Math.round(1e12*Math.random()),r="tus::".concat(e,"::").concat(n);return localStorage.setItem(r,JSON.stringify(t)),Promise.resolve(r)}},{key:"_findEntries",value:function(e){for(var t=[],n=0;n<localStorage.length;n++){var r=localStorage.key(n);if(0===r.indexOf(e))try{var i=JSON.parse(localStorage.getItem(r));i.urlStorageKey=r,t.push(i)}catch(me){}}return t}}],n&&I(t.prototype,n),r&&I(t,r),e}();function L(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function z(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function q(e,t,n){return t&&z(e.prototype,t),n&&z(e,n),e}var H=function(){function e(){L(this,e)}return q(e,[{key:"createRequest",value:function(e,t){return new V(e,t)}},{key:"getName",value:function(){return"XHRHttpStack"}}]),e}(),V=function(){function e(t,n){L(this,e),this._xhr=new XMLHttpRequest,this._xhr.open(t,n,!0),this._method=t,this._url=n,this._headers={}}return q(e,[{key:"getMethod",value:function(){return this._method}},{key:"getURL",value:function(){return this._url}},{key:"setHeader",value:function(e,t){this._xhr.setRequestHeader(e,t),this._headers[e]=t}},{key:"getHeader",value:function(e){return this._headers[e]}},{key:"setProgressHandler",value:function(e){"upload"in this._xhr&&(this._xhr.upload.onprogress=function(t){t.lengthComputable&&e(t.loaded)})}},{key:"send",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return new Promise((function(n,r){e._xhr.onload=function(){n(new W(e._xhr))},e._xhr.onerror=function(e){r(e)},e._xhr.send(t)}))}},{key:"abort",value:function(){return this._xhr.abort(),Promise.resolve()}},{key:"getUnderlyingObject",value:function(){return this._xhr}}]),e}(),W=function(){function e(t){L(this,e),this._xhr=t}return q(e,[{key:"getStatus",value:function(){return this._xhr.status}},{key:"getHeader",value:function(e){return this._xhr.getResponseHeader(e)}},{key:"getBody",value:function(){return this._xhr.responseText}},{key:"getUnderlyingObject",value:function(){return this._xhr}}]),e}(),K=function(){return"undefined"!==typeof navigator&&"string"===typeof navigator.product&&"reactnative"===navigator.product.toLowerCase()};var G=function(){return"undefined"!=typeof window&&("undefined"!=typeof window.PhoneGap||"undefined"!=typeof window.Cordova||"undefined"!=typeof window.cordova)};function Y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var X=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._file=t,this.size=t.size}var t,n,r;return t=e,(n=[{key:"slice",value:function(e,t){if(G())return n=this._file.slice(e,t),new Promise((function(e,t){var r=new FileReader;r.onload=function(){var t=new Uint8Array(r.result);e({value:t})},r.onerror=function(e){t(e)},r.readAsArrayBuffer(n)}));var n,r=this._file.slice(e,t);return Promise.resolve({value:r})}},{key:"close",value:function(){}}])&&Y(t.prototype,n),r&&Y(t,r),e}();function $(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function J(e){return void 0===e?0:void 0!==e.size?e.size:e.length}var Q=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._chunkSize=n,this._buffer=void 0,this._bufferOffset=0,this._reader=t,this._done=!1}var t,n,r;return t=e,(n=[{key:"slice",value:function(e,t){return e<this._bufferOffset?Promise.reject(new Error("Requested data is before the reader's current offset")):this._readUntilEnoughDataOrDone(e,t)}},{key:"_readUntilEnoughDataOrDone",value:function(e,t){var n=this,r=t<=this._bufferOffset+J(this._buffer);if(this._done||r){var i=this._getDataFromBuffer(e,t),o=null==i&&this._done;return Promise.resolve({value:i,done:o})}return this._reader.read().then((function(r){var i=r.value;return r.done?n._done=!0:void 0===n._buffer?n._buffer=i:n._buffer=function(e,t){if(e.concat)return e.concat(t);if(e instanceof Blob)return new Blob([e,t],{type:e.type});if(e.set){var n=new e.constructor(e.length+t.length);return n.set(e),n.set(t,e.length),n}throw new Error("Unknown data type")}(n._buffer,i),n._readUntilEnoughDataOrDone(e,t)}))}},{key:"_getDataFromBuffer",value:function(e,t){e>this._bufferOffset&&(this._buffer=this._buffer.slice(e-this._bufferOffset),this._bufferOffset=e);var n=0===J(this._buffer);return this._done&&n?null:this._buffer.slice(0,t-e)}},{key:"close",value:function(){this._reader.cancel&&this._reader.cancel()}}])&&$(t.prototype,n),r&&$(t,r),e}();function Z(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var ee=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,(n=[{key:"openFile",value:function(e,t){return K()&&e&&"undefined"!==typeof e.uri?(n=e.uri,new Promise((function(e,t){var r=new XMLHttpRequest;r.responseType="blob",r.onload=function(){var t=r.response;e(t)},r.onerror=function(e){t(e)},r.open("GET",n),r.send()}))).then((function(e){return new X(e)})).catch((function(e){throw new Error("tus: cannot fetch `file.uri` as Blob, make sure the uri is correct and accessible. ".concat(e))})):"function"===typeof e.slice&&"undefined"!==typeof e.size?Promise.resolve(new X(e)):"function"===typeof e.read?(t=+t,isFinite(t)?Promise.resolve(new Q(e,t)):Promise.reject(new Error("cannot create source for stream without a finite value for the `chunkSize` option"))):Promise.reject(new Error("source object may only be an instance of File, Blob, or Reader in this environment"));var n}}])&&Z(t.prototype,n),r&&Z(t,r),e}();function te(e){return te="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},te(e)}function ne(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function re(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ie(e,t){return ie=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},ie(e,t)}function oe(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(me){return!1}}();return function(){var n,r=se(e);if(t){var i=se(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return ae(this,n)}}function ae(e,t){return!t||"object"!==te(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function se(e){return se=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},se(e)}function ue(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function le(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ue(Object(n),!0).forEach((function(t){ce(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ue(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ce(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var pe=le(le({},U.defaultOptions),{},{httpStack:new H,fileReader:new ee,urlStorage:M?new N:new D,fingerprint:function(e,t){return K()?Promise.resolve(function(e,t){var n=e.exif?function(e){var t=0;if(0===e.length)return t;for(var n=0;n<e.length;n++){t=(t<<5)-t+e.charCodeAt(n),t&=t}return t}(JSON.stringify(e.exif)):"noexif";return["tus-rn",e.name||"noname",e.size||"nosize",n,t.endpoint].join("/")}(e,t)):Promise.resolve(["tus-br",e.name,e.type,e.size,e.lastModified,t.endpoint].join("-"))}}),de=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ie(e,t)}(o,e);var t,n,r,i=oe(o);function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return ne(this,o),t=le(le({},pe),t),i.call(this,e,t)}return t=o,r=[{key:"terminate",value:function(e,t,n){return t=le(le({},pe),t),U.terminate(e,t,n)}}],(n=null)&&re(t.prototype,n),r&&re(t,r),o}(U),fe=window,he=fe.XMLHttpRequest,ve=fe.Blob,ye=he&&ve&&"function"===typeof ve.prototype.slice},65915:function(e,t,n){"use strict";var r=n(43841),i=n(96962),o=/^[\x00-\x20\u00a0\u1680\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]+/,a=/[\n\r\t]/g,s=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,u=/:\d+$/,l=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\\/]+)?([\S\s]*)/i,c=/^[a-zA-Z]:/;function p(e){return(e||"").toString().replace(o,"")}var d=[["#","hash"],["?","query"],function(e,t){return v(t.protocol)?e.replace(/\\/g,"/"):e},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d*)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],f={hash:1,query:1};function h(e){var t,r=("undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{}).location||{},i={},o=typeof(e=e||r);if("blob:"===e.protocol)i=new m(unescape(e.pathname),{});else if("string"===o)for(t in i=new m(e,{}),f)delete i[t];else if("object"===o){for(t in e)t in f||(i[t]=e[t]);void 0===i.slashes&&(i.slashes=s.test(e.href))}return i}function v(e){return"file:"===e||"ftp:"===e||"http:"===e||"https:"===e||"ws:"===e||"wss:"===e}function y(e,t){e=(e=p(e)).replace(a,""),t=t||{};var n,r=l.exec(e),i=r[1]?r[1].toLowerCase():"",o=!!r[2],s=!!r[3],u=0;return o?s?(n=r[2]+r[3]+r[4],u=r[2].length+r[3].length):(n=r[2]+r[4],u=r[2].length):s?(n=r[3]+r[4],u=r[3].length):n=r[4],"file:"===i?u>=2&&(n=n.slice(2)):v(i)?n=r[4]:i?o&&(n=n.slice(2)):u>=2&&v(t.protocol)&&(n=r[4]),{protocol:i,slashes:o||v(i),slashesCount:u,rest:n}}function m(e,t,n){if(e=(e=p(e)).replace(a,""),!(this instanceof m))return new m(e,t,n);var o,s,u,l,f,g,b=d.slice(),k=typeof t,w=this,_=0;for("object"!==k&&"string"!==k&&(n=t,t=null),n&&"function"!==typeof n&&(n=i.parse),o=!(s=y(e||"",t=h(t))).protocol&&!s.slashes,w.slashes=s.slashes||o&&t.slashes,w.protocol=s.protocol||t.protocol||"",e=s.rest,("file:"===s.protocol&&(2!==s.slashesCount||c.test(e))||!s.slashes&&(s.protocol||s.slashesCount<2||!v(w.protocol)))&&(b[3]=[/(.*)/,"pathname"]);_<b.length;_++)"function"!==typeof(l=b[_])?(u=l[0],g=l[1],u!==u?w[g]=e:"string"===typeof u?~(f="@"===u?e.lastIndexOf(u):e.indexOf(u))&&("number"===typeof l[2]?(w[g]=e.slice(0,f),e=e.slice(f+l[2])):(w[g]=e.slice(f),e=e.slice(0,f))):(f=u.exec(e))&&(w[g]=f[1],e=e.slice(0,f.index)),w[g]=w[g]||o&&l[3]&&t[g]||"",l[4]&&(w[g]=w[g].toLowerCase())):e=l(e,w);n&&(w.query=n(w.query)),o&&t.slashes&&"/"!==w.pathname.charAt(0)&&(""!==w.pathname||""!==t.pathname)&&(w.pathname=function(e,t){if(""===e)return t;for(var n=(t||"/").split("/").slice(0,-1).concat(e.split("/")),r=n.length,i=n[r-1],o=!1,a=0;r--;)"."===n[r]?n.splice(r,1):".."===n[r]?(n.splice(r,1),a++):a&&(0===r&&(o=!0),n.splice(r,1),a--);return o&&n.unshift(""),"."!==i&&".."!==i||n.push(""),n.join("/")}(w.pathname,t.pathname)),"/"!==w.pathname.charAt(0)&&v(w.protocol)&&(w.pathname="/"+w.pathname),r(w.port,w.protocol)||(w.host=w.hostname,w.port=""),w.username=w.password="",w.auth&&(~(f=w.auth.indexOf(":"))?(w.username=w.auth.slice(0,f),w.username=encodeURIComponent(decodeURIComponent(w.username)),w.password=w.auth.slice(f+1),w.password=encodeURIComponent(decodeURIComponent(w.password))):w.username=encodeURIComponent(decodeURIComponent(w.auth)),w.auth=w.password?w.username+":"+w.password:w.username),w.origin="file:"!==w.protocol&&v(w.protocol)&&w.host?w.protocol+"//"+w.host:"null",w.href=w.toString()}m.prototype={set:function(e,t,n){var o=this;switch(e){case"query":"string"===typeof t&&t.length&&(t=(n||i.parse)(t)),o[e]=t;break;case"port":o[e]=t,r(t,o.protocol)?t&&(o.host=o.hostname+":"+t):(o.host=o.hostname,o[e]="");break;case"hostname":o[e]=t,o.port&&(t+=":"+o.port),o.host=t;break;case"host":o[e]=t,u.test(t)?(t=t.split(":"),o.port=t.pop(),o.hostname=t.join(":")):(o.hostname=t,o.port="");break;case"protocol":o.protocol=t.toLowerCase(),o.slashes=!n;break;case"pathname":case"hash":if(t){var a="pathname"===e?"/":"#";o[e]=t.charAt(0)!==a?a+t:t}else o[e]=t;break;case"username":case"password":o[e]=encodeURIComponent(t);break;case"auth":var s=t.indexOf(":");~s?(o.username=t.slice(0,s),o.username=encodeURIComponent(decodeURIComponent(o.username)),o.password=t.slice(s+1),o.password=encodeURIComponent(decodeURIComponent(o.password))):o.username=encodeURIComponent(decodeURIComponent(t))}for(var l=0;l<d.length;l++){var c=d[l];c[4]&&(o[c[1]]=o[c[1]].toLowerCase())}return o.auth=o.password?o.username+":"+o.password:o.username,o.origin="file:"!==o.protocol&&v(o.protocol)&&o.host?o.protocol+"//"+o.host:"null",o.href=o.toString(),o},toString:function(e){e&&"function"===typeof e||(e=i.stringify);var t,n=this,r=n.host,o=n.protocol;o&&":"!==o.charAt(o.length-1)&&(o+=":");var a=o+(n.protocol&&n.slashes||v(n.protocol)?"//":"");return n.username?(a+=n.username,n.password&&(a+=":"+n.password),a+="@"):n.password?(a+=":"+n.password,a+="@"):"file:"!==n.protocol&&v(n.protocol)&&!r&&"/"!==n.pathname&&(a+="@"),(":"===r[r.length-1]||u.test(n.hostname)&&!n.port)&&(r+=":"),a+=r+n.pathname,(t="object"===typeof n.query?e(n.query):n.query)&&(a+="?"!==t.charAt(0)?"?"+t:t),n.hash&&(a+=n.hash),a}},m.extractProtocol=y,m.location=h,m.trimLeft=p,m.qs=i,e.exports=m},10145:function(e){"use strict";function t(e,t){this.text=e=e||"",this.hasWild=~e.indexOf("*"),this.separator=t,this.parts=e.split(t)}t.prototype.match=function(e){var t,n,r=!0,i=this.parts,o=i.length;if("string"==typeof e||e instanceof String)if(this.hasWild||this.text==e){for(n=(e||"").split(this.separator),t=0;r&&t<o;t++)"*"!==i[t]&&(r=t<n.length&&i[t]===n[t]);r=r&&n}else r=!1;else if("function"==typeof e.splice)for(r=[],t=e.length;t--;)this.match(e[t])&&(r[r.length]=e[t]);else if("object"==typeof e)for(var a in r={},e)this.match(a)&&(r[a]=e[a]);return r},e.exports=function(e,n,r){var i=new t(e,r||/[\/\.]/);return"undefined"!=typeof n?i.match(n):i}},55312:function(e,t,n){"use strict";e.exports=n.p+"static/media/index.cd351d7c31d0d3fccf96.cjs"},32514:function(e,t,n){"use strict";var r=n(93913).default,i=n(34575).default,o=n(2205).default,a=n(99842).default,s=function(e){o(n,e);var t=a(n);function n(){var e;return i(this,n),(e=t.call(this,"Authorization required")).name="AuthError",e.isAuthError=!0,e}return r(n)}((0,n(65957).default)(Error));e.exports=s},5984:function(e,t,n){"use strict";var r=n(87757),i=n(48926).default,o=n(81109).default,a=n(63038).default,s=n(34575).default,u=n(93913).default,l=n(16525).default,c=n(29754).default,p=n(2205).default,d=n(99842).default,f=n(90877),h=n(162),v=function(e){p(n,e);var t=d(n);function n(e,r){var i;return s(this,n),(i=t.call(this,e,r)).provider=r.provider,i.id=i.provider,i.name=i.opts.name||i.id.split("-").map((function(e){return e.charAt(0).toUpperCase()+e.slice(1)})).join(" "),i.pluginId=i.opts.pluginId,i.tokenKey="companion-".concat(i.pluginId,"-auth-token"),i.companionKeysParams=i.opts.companionKeysParams,i.preAuthToken=null,i}return u(n,[{key:"headers",value:function(){var e=this;return Promise.all([l(c(n.prototype),"headers",this).call(this),this.getAuthToken()]).then((function(t){var n=a(t,2),r=n[0],i=n[1],s={};return i&&(s["uppy-auth-token"]=i),e.companionKeysParams&&(s["uppy-credentials-params"]=btoa(JSON.stringify({params:e.companionKeysParams}))),o(o({},r),s)}))}},{key:"onReceiveResponse",value:function(e){e=l(c(n.prototype),"onReceiveResponse",this).call(this,e);var t=this.uppy.getPlugin(this.pluginId),r=t.getPluginState().authenticated?401!==e.status:e.status<400;return t.setPluginState({authenticated:r}),e}},{key:"setAuthToken",value:function(e){return this.uppy.getPlugin(this.pluginId).storage.setItem(this.tokenKey,e)}},{key:"getAuthToken",value:function(){return this.uppy.getPlugin(this.pluginId).storage.getItem(this.tokenKey)}},{key:"ensurePreAuth",value:function(){var e=i(r.mark((function e(){return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.companionKeysParams||this.preAuthToken){e.next=5;break}return e.next=3,this.fetchPreAuthToken();case 3:if(this.preAuthToken){e.next=5;break}throw new Error("Could not load authentication data required for third-party login. Please try again later.");case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"authUrl",value:function(e){void 0===e&&(e={});var t=new URLSearchParams(e);return this.preAuthToken&&t.set("uppyPreAuthToken",this.preAuthToken),"".concat(this.hostname,"/").concat(this.id,"/connect?").concat(t)}},{key:"fileUrl",value:function(e){return"".concat(this.hostname,"/").concat(this.id,"/get/").concat(e)}},{key:"fetchPreAuthToken",value:function(){var e=i(r.mark((function e(){var t;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.companionKeysParams){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.post("".concat(this.id,"/preauth/"),{params:this.companionKeysParams});case 5:t=e.sent,this.preAuthToken=t.token,e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),this.uppy.log("[CompanionClient] unable to fetch preAuthToken ".concat(e.t0),"warning");case 12:case"end":return e.stop()}}),e,this,[[2,9]])})));return function(){return e.apply(this,arguments)}}()},{key:"list",value:function(e){return this.get("".concat(this.id,"/list/").concat(e||""))}},{key:"logout",value:function(){var e=this;return this.get("".concat(this.id,"/logout")).then((function(t){return Promise.all([t,e.uppy.getPlugin(e.pluginId).storage.removeItem(e.tokenKey)])})).then((function(e){return a(e,1)[0]}))}}],[{key:"initPlugin",value:function(e,t,n){if(e.type="acquirer",e.files=[],n&&(e.opts=o(o({},n),t)),t.serverUrl||t.serverPattern)throw new Error("`serverUrl` and `serverPattern` have been renamed to `companionUrl` and `companionAllowedHosts` respectively in the 0.30.5 release. Please consult the docs (for example, https://uppy.io/docs/instagram/ for the Instagram plugin) and use the updated options.`");if(t.companionAllowedHosts){var r=t.companionAllowedHosts;if("string"!==typeof r&&!Array.isArray(r)&&!(r instanceof RegExp))throw new TypeError("".concat(e.id,': the option "companionAllowedHosts" must be one of string, Array, RegExp'));e.opts.companionAllowedHosts=r}else/^(?!https?:\/\/).*$/i.test(t.companionUrl)?e.opts.companionAllowedHosts="https://".concat(t.companionUrl.replace(/^\/\//,"")):e.opts.companionAllowedHosts=new URL(t.companionUrl).origin;e.storage=e.opts.storage||f}}]),n}(h);e.exports=v},162:function(e,t,n){"use strict";var r=n(87757),i=n(63038).default,o=n(59713).default,a=n(81109).default,s=n(34575).default,u=n(93913).default,l=n(48926).default;function c(e,t){if(!Object.prototype.hasOwnProperty.call(e,t))throw new TypeError("attempted to use private field on non-instance");return e}var p=0;function d(e){return"__private_"+p+++"_"+e}var f=n(71933),h=n(86153),v=n(32514);function y(e){return m.apply(this,arguments)}function m(){return(m=l(r.mark((function e(t){var n,i,o;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(401!==t.status){e.next=2;break}throw new v;case 2:if(n=t.json(),!(t.status<200||t.status>300)){e.next=14;break}return i="Failed request with status: ".concat(t.status,". ").concat(t.statusText),e.prev=5,e.next=8,n;case 8:o=e.sent,i=o.message?"".concat(i," message: ").concat(o.message):i,i=o.requestId?"".concat(i," request-Id: ").concat(o.requestId):i;case 11:throw e.prev=11,new Error(i);case 14:return e.abrupt("return",n);case 15:case"end":return e.stop()}}),e,null,[[5,,11,14]])})))).apply(this,arguments)}var g=d("companionHeaders"),b=d("getPostResponseFunc"),k=d("getUrl"),w=d("errorHandler"),_=function(e){function t(e,n){var r=this;s(this,t),Object.defineProperty(this,w,{value:S}),Object.defineProperty(this,k,{value:P}),Object.defineProperty(this,g,{writable:!0,value:void 0}),Object.defineProperty(this,b,{writable:!0,value:function(e){return function(t){return e?t:r.onReceiveResponse(t)}}}),this.uppy=e,this.opts=n,this.onReceiveResponse=this.onReceiveResponse.bind(this),this.allowedHeaders=["accept","content-type","uppy-auth-token"],this.preflightDone=!1,c(this,g)[g]=null==n?void 0:n.companionHeaders}return u(t,[{key:"setCompanionHeaders",value:function(e){c(this,g)[g]=e}},{key:e,value:function(){return c(this,g)[g]}},{key:"hostname",get:function(){var e=this.uppy.getState().companion,t=this.opts.companionUrl;return(e&&e[t]?e[t]:t).replace(/\/$/,"")}},{key:"headers",value:function(){return Promise.resolve(a(a({},t.defaultHeaders),c(this,g)[g]))}},{key:"onReceiveResponse",value:function(e){var t=this.uppy.getState().companion||{},n=this.opts.companionUrl,r=e.headers;return r.has("i-am")&&r.get("i-am")!==t[n]&&this.uppy.setState({companion:a(a({},t),{},o({},n,r.get("i-am")))}),e}},{key:"preflight",value:function(e){var t=this;return this.preflightDone?Promise.resolve(this.allowedHeaders.slice()):fetch(c(this,k)[k](e),{method:"OPTIONS"}).then((function(e){return e.headers.has("access-control-allow-headers")&&(t.allowedHeaders=e.headers.get("access-control-allow-headers").split(",").map((function(e){return e.trim().toLowerCase()}))),t.preflightDone=!0,t.allowedHeaders.slice()})).catch((function(e){return t.uppy.log("[CompanionClient] unable to make preflight request ".concat(e),"warning"),t.preflightDone=!0,t.allowedHeaders.slice()}))}},{key:"preflightAndHeaders",value:function(e){var t=this;return Promise.all([this.preflight(e),this.headers()]).then((function(e){var n=i(e,2),r=n[0],o=n[1];return Object.keys(o).forEach((function(e){r.includes(e.toLowerCase())||(t.uppy.log("[CompanionClient] excluding disallowed header ".concat(e)),delete o[e])})),o}))}},{key:"get",value:function(e,t){var n=this;return this.preflightAndHeaders(e).then((function(t){return f(c(n,k)[k](e),{method:"get",headers:t,credentials:n.opts.companionCookiesRule||"same-origin"})})).then(c(this,b)[b](t)).then(y).catch(c(this,w)[w]("get",e))}},{key:"post",value:function(e,t,n){var r=this,i="post";return this.preflightAndHeaders(e).then((function(n){return f(c(r,k)[k](e),{method:i,headers:n,credentials:r.opts.companionCookiesRule||"same-origin",body:JSON.stringify(t)})})).then(c(this,b)[b](n)).then(y).catch(c(this,w)[w](i,e))}},{key:"delete",value:function(e,t,n){var r=this,i="delete";return this.preflightAndHeaders(e).then((function(n){return f("".concat(r.hostname,"/").concat(e),{method:i,headers:n,credentials:r.opts.companionCookiesRule||"same-origin",body:t?JSON.stringify(t):null})})).then(c(this,b)[b](n)).then(y).catch(c(this,w)[w](i,e))}}]),t}(Symbol.for("uppy test: getCompanionHeaders"));function P(e){return/^(https?:|)\/\//.test(e)?e:"".concat(this.hostname,"/").concat(e)}function S(e,t){var n=this;return function(r){var i;return null!=(i=r)&&i.isAuthError||(r=new h("Could not ".concat(e," ").concat(c(n,k)[k](t)),{cause:r})),Promise.reject(r)}}_.VERSION="2.2.2",_.defaultHeaders={Accept:"application/json","Content-Type":"application/json","Uppy-Versions":"@uppy/companion-client=".concat(_.VERSION)},e.exports=_},39488:function(e,t,n){"use strict";var r=n(34575).default,i=n(93913).default,o=n(2205).default,a=n(99842).default,s=n(162),u=function(e){o(n,e);var t=a(n);function n(e,i){var o;return r(this,n),(o=t.call(this,e,i)).provider=i.provider,o.id=o.provider,o.name=o.opts.name||o.id.split("-").map((function(e){return e.charAt(0).toUpperCase()+e.slice(1)})).join(" "),o.pluginId=o.opts.pluginId,o}return i(n,[{key:"fileUrl",value:function(e){return"".concat(this.hostname,"/search/").concat(this.id,"/get/").concat(e)}},{key:"search",value:function(e,t){return this.get("search/".concat(this.id,"/list?q=").concat(encodeURIComponent(e)).concat(t?"&".concat(t):""))}}]),n}(s);e.exports=u},3798:function(e,t,n){"use strict";var r=n(34575).default,i=n(93913).default;function o(e,t){if(!Object.prototype.hasOwnProperty.call(e,t))throw new TypeError("attempted to use private field on non-instance");return e}var a=0;function s(e){return"__private_"+a+++"_"+e}var u=n(15336),l=s("queued"),c=s("emitter"),p=s("isOpen"),d=s("socket"),f=s("handleMessage"),h=function(e,t){function n(e){var t=this;r(this,n),Object.defineProperty(this,l,{writable:!0,value:[]}),Object.defineProperty(this,c,{writable:!0,value:u()}),Object.defineProperty(this,p,{writable:!0,value:!1}),Object.defineProperty(this,d,{writable:!0,value:void 0}),Object.defineProperty(this,f,{writable:!0,value:function(e){try{var n=JSON.parse(e.data);t.emit(n.action,n.payload)}catch(r){console.log(r)}}}),this.opts=e,e&&!1===e.autoOpen||this.open()}return i(n,[{key:"isOpen",get:function(){return o(this,p)[p]}},{key:e,value:function(){return o(this,d)[d]}},{key:t,value:function(){return o(this,l)[l]}},{key:"open",value:function(){var e=this;o(this,d)[d]=new WebSocket(this.opts.target),o(this,d)[d].onopen=function(){for(o(e,p)[p]=!0;o(e,l)[l].length>0&&o(e,p)[p];){var t=o(e,l)[l].shift();e.send(t.action,t.payload)}},o(this,d)[d].onclose=function(){o(e,p)[p]=!1},o(this,d)[d].onmessage=o(this,f)[f]}},{key:"close",value:function(){var e;null==(e=o(this,d)[d])||e.close()}},{key:"send",value:function(e,t){o(this,p)[p]?o(this,d)[d].send(JSON.stringify({action:e,payload:t})):o(this,l)[l].push({action:e,payload:t})}},{key:"on",value:function(e,t){o(this,c)[c].on(e,t)}},{key:"emit",value:function(e,t){o(this,c)[c].emit(e,t)}},{key:"once",value:function(e,t){o(this,c)[c].once(e,t)}}]),n}(Symbol.for("uppy test: getSocket"),Symbol.for("uppy test: getQueued"));e.exports=h},37143:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Socket=t.SearchProvider=t.RequestClient=t.Provider=void 0;var r=n(162);t.RequestClient=r;var i=n(5984);t.Provider=i;var o=n(39488);t.SearchProvider=o;var a=n(3798);t.Socket=a},90877:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getItem=function(e){return Promise.resolve(localStorage.getItem(e))},t.removeItem=function(e){return new Promise((function(t){localStorage.removeItem(e),t()}))},t.setItem=function(e,t){return new Promise((function(n){localStorage.setItem(e,t),n()}))}},20760:function(e,t,n){"use strict";var r=n(87757),i=n(48926).default,o=n(59713).default,a=n(81109).default,s=n(93913).default,u=n(34575).default,l=n(81506).default,c=n(2205).default,p=n(99842).default,d=n(58620),f=n(65025),h=n(55312),v=n(84707);function y(e,t){if(!Object.prototype.hasOwnProperty.call(e,t))throw new TypeError("attempted to use private field on non-instance");return e}var m=0;function g(e){return"__private_"+m+++"_"+e}var b=n(62454),k=n(46775),w=n(19009),_=n(92176),P=n(74894),S=n(5005),C=n(85781),x=n(3916),O=n(90170),F=n(55606),E=n(8963),A=C.default||C;function T(){var e={};return e.promise=new Promise((function(t,n){e.resolve=t,e.reject=n})),e}function U(){return(0,d.h)("svg",{"aria-hidden":"true",focusable:"false",width:"30",height:"30",viewBox:"0 0 30 30"},(0,d.h)("path",{d:"M15 30c8.284 0 15-6.716 15-15 0-8.284-6.716-15-15-15C6.716 0 0 6.716 0 15c0 8.284 6.716 15 15 15zm4.258-12.676v6.846h-8.426v-6.846H5.204l9.82-12.364 9.82 12.364H19.26z"}))}var R=g("openFileEditorWhenFilesAdded"),D=g("attachRenderFunctionToTarget"),I=g("isTargetSupported"),j=g("getAcquirers"),B=g("getProgressIndicators"),M=g("getEditors"),N=function(e){c(n,e);var t=p(n);function n(e,s){var c,p;u(this,n),c=t.call(this,e,s),p=l(c),c.removeTarget=function(e){var t=c.getPluginState().targets.filter((function(t){return t.id!==e.id}));c.setPluginState({targets:t})},c.addTarget=function(e){var t=e.id||e.constructor.name,n=e.title||t,r=e.type;if("acquirer"===r||"progressindicator"===r||"editor"===r){var i={id:t,name:n,type:r},o=c.getPluginState().targets.slice();return o.push(i),c.setPluginState({targets:o}),c.el}c.uppy.log("Dashboard: can only be targeted by plugins of types: acquirer, progressindicator, editor","error")},c.hideAllPanels=function(){var e=c.getPluginState(),t={activePickerPanel:!1,showAddFilesPanel:!1,activeOverlayType:null,fileCardFor:null,showFileEditor:!1};e.activePickerPanel===t.activePickerPanel&&e.showAddFilesPanel===t.showAddFilesPanel&&e.showFileEditor===t.showFileEditor&&e.activeOverlayType===t.activeOverlayType||c.setPluginState(t)},c.showPanel=function(e){var t=c.getPluginState().targets.filter((function(t){return"acquirer"===t.type&&t.id===e}))[0];c.setPluginState({activePickerPanel:t,activeOverlayType:"PickerPanel"})},c.canEditFile=function(e){var t=c.getPluginState().targets;return y(l(c),M)[M](t).some((function(t){return c.uppy.getPlugin(t.id).canEditFile(e)}))},c.openFileEditor=function(e){var t=c.getPluginState().targets,n=y(l(c),M)[M](t);c.setPluginState({showFileEditor:!0,fileCardFor:e.id||null,activeOverlayType:"FileEditor"}),n.forEach((function(t){c.uppy.getPlugin(t.id).selectFile(e)}))},c.saveFileEditor=function(){var e=c.getPluginState().targets;y(l(c),M)[M](e).forEach((function(e){c.uppy.getPlugin(e.id).save()})),c.hideAllPanels()},c.openModal=function(){var e=T(),t=e.promise,n=e.resolve;if(c.savedScrollPosition=window.pageYOffset,c.savedActiveElement=document.activeElement,c.opts.disablePageScrollWhenModalOpen&&document.body.classList.add("uppy-Dashboard-isFixed"),c.opts.animateOpenClose&&c.getPluginState().isClosing){c.el.addEventListener("animationend",(function e(){c.setPluginState({isHidden:!1}),c.el.removeEventListener("animationend",e,!1),n()}),!1)}else c.setPluginState({isHidden:!1}),n();return c.opts.browserBackButtonClose&&c.updateBrowserHistory(),document.addEventListener("keydown",c.handleKeyDownInModal),c.uppy.emit("dashboard:modal-open"),t},c.closeModal=function(e){void 0===e&&(e={});var t=e.manualClose,n=void 0===t||t,r=p.getPluginState(),i=r.isHidden,o=r.isClosing;if(!i&&!o){var a,s=T(),u=s.promise,l=s.resolve;if(p.opts.disablePageScrollWhenModalOpen&&document.body.classList.remove("uppy-Dashboard-isFixed"),p.opts.animateOpenClose){p.setPluginState({isClosing:!0});p.el.addEventListener("animationend",(function e(){p.setPluginState({isHidden:!0,isClosing:!1}),p.superFocus.cancel(),p.savedActiveElement.focus(),p.el.removeEventListener("animationend",e,!1),l()}),!1)}else p.setPluginState({isHidden:!0}),p.superFocus.cancel(),p.savedActiveElement.focus(),l();if(document.removeEventListener("keydown",p.handleKeyDownInModal),n)if(p.opts.browserBackButtonClose)null!=(a=history.state)&&a[p.modalName]&&history.back();return p.uppy.emit("dashboard:modal-closed"),u}},c.isModalOpen=function(){return!c.getPluginState().isHidden||!1},c.requestCloseModal=function(){return c.opts.onRequestCloseModal?c.opts.onRequestCloseModal():c.closeModal()},c.setDarkModeCapability=function(e){var t=c.uppy.getState().capabilities;c.uppy.setState({capabilities:a(a({},t),{},{darkMode:e})})},c.handleSystemDarkModeChange=function(e){var t=e.matches;c.uppy.log("[Dashboard] Dark mode is ".concat(t?"on":"off")),c.setDarkModeCapability(t)},c.toggleFileCard=function(e,t){var n=c.uppy.getFile(t);e?c.uppy.emit("dashboard:file-edit-start",n):c.uppy.emit("dashboard:file-edit-complete",n),c.setPluginState({fileCardFor:e?t:null,activeOverlayType:e?"FileCard":null})},c.toggleAddFilesPanel=function(e){c.setPluginState({showAddFilesPanel:e,activeOverlayType:e?"AddFiles":null})},c.addFiles=function(e){var t=e.map((function(e){return{source:c.id,name:e.name,type:e.type,data:e,meta:{relativePath:e.relativePath||e.webkitRelativePath||null}}}));try{c.uppy.addFiles(t)}catch(n){c.uppy.log(n)}},c.startListeningToResize=function(){c.resizeObserver=new ResizeObserver((function(e){var t=e[0].contentRect,n=t.width,r=t.height;c.uppy.log("[Dashboard] resized: ".concat(n," / ").concat(r),"debug"),c.setPluginState({containerWidth:n,containerHeight:r,areInsidesReadyToBeVisible:!0})})),c.resizeObserver.observe(c.el.querySelector(".uppy-Dashboard-inner")),c.makeDashboardInsidesVisibleAnywayTimeout=setTimeout((function(){var e=c.getPluginState(),t=!c.opts.inline&&e.isHidden;e.areInsidesReadyToBeVisible||t||(c.uppy.log("[Dashboard] resize event didn't fire on time: defaulted to mobile layout","debug"),c.setPluginState({areInsidesReadyToBeVisible:!0}))}),1e3)},c.stopListeningToResize=function(){c.resizeObserver.disconnect(),clearTimeout(c.makeDashboardInsidesVisibleAnywayTimeout)},c.recordIfFocusedOnUppyRecently=function(e){c.el.contains(e.target)?c.ifFocusedOnUppyRecently=!0:(c.ifFocusedOnUppyRecently=!1,c.superFocus.cancel())},c.disableAllFocusableElements=function(e){var t=P(c.el.querySelectorAll(x));e?t.forEach((function(e){var t=e.getAttribute("tabindex");t&&(e.dataset.inertTabindex=t),e.setAttribute("tabindex","-1")})):t.forEach((function(e){"inertTabindex"in e.dataset?e.setAttribute("tabindex",e.dataset.inertTabindex):e.removeAttribute("tabindex")})),c.dashboardIsDisabled=e},c.updateBrowserHistory=function(){var e;null!=(e=history.state)&&e[c.modalName]||history.pushState(a(a({},history.state),{},o({},c.modalName,!0)),""),window.addEventListener("popstate",c.handlePopState,!1)},c.handlePopState=function(e){var t;!c.isModalOpen()||e.state&&e.state[c.modalName]||c.closeModal({manualClose:!1}),!c.isModalOpen()&&null!=(t=e.state)&&t[c.modalName]&&history.back()},c.handleKeyDownInModal=function(e){27===e.keyCode&&c.requestCloseModal(e),9===e.keyCode&&v.forModal(e,c.getPluginState().activeOverlayType,c.el)},c.handleClickOutside=function(){c.opts.closeModalOnClickOutside&&c.requestCloseModal()},c.handlePaste=function(e){c.uppy.iteratePlugins((function(t){"acquirer"===t.type&&(null==t.handleRootPaste||t.handleRootPaste(e))}));var t=P(e.clipboardData.files);t.length>0&&(c.uppy.log("[Dashboard] Files pasted"),c.addFiles(t))},c.handleInputChange=function(e){e.preventDefault();var t=P(e.target.files);t.length>0&&(c.uppy.log("[Dashboard] Files selected through input"),c.addFiles(t))},c.handleDragOver=function(e){var t,n;e.preventDefault(),e.stopPropagation();var r=function(){var t=!0;return c.uppy.iteratePlugins((function(n){null!=n.canHandleRootDrop&&n.canHandleRootDrop(e)&&(t=!0)})),t}(),i=e.dataTransfer.types.some((function(e){return"Files"===e}));if(!r&&!i||c.opts.disabled||c.opts.disableLocalFiles&&(i||!r)||!c.uppy.getState().allowNewUpload)return e.dataTransfer.dropEffect="none",void clearTimeout(c.removeDragOverClassTimeout);e.dataTransfer.dropEffect="copy",clearTimeout(c.removeDragOverClassTimeout),c.setPluginState({isDraggingOver:!0}),null==(t=(n=c.opts).onDragOver)||t.call(n,e)},c.handleDragLeave=function(e){var t,n;e.preventDefault(),e.stopPropagation(),clearTimeout(c.removeDragOverClassTimeout),c.removeDragOverClassTimeout=setTimeout((function(){c.setPluginState({isDraggingOver:!1})}),50),null==(t=(n=c.opts).onDragLeave)||t.call(n,e)},c.handleDrop=function(){var e=i(r.mark((function e(t){var n,i,o,a,s;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),t.stopPropagation(),clearTimeout(c.removeDragOverClassTimeout),c.setPluginState({isDraggingOver:!1}),c.uppy.iteratePlugins((function(e){"acquirer"===e.type&&(null==e.handleRootDrop||e.handleRootDrop(t))})),o=!1,a=function(e){c.uppy.log(e,"error"),o||(c.uppy.info(e.message,"error"),o=!0)},e.next=9,S(t.dataTransfer,{logDropError:a});case 9:(s=e.sent).length>0&&(c.uppy.log("[Dashboard] Files dropped"),c.addFiles(s)),null==(n=(i=c.opts).onDrop)||n.call(i,t);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),c.handleRequestThumbnail=function(e){c.opts.waitForThumbnailsBeforeUpload||c.uppy.emit("thumbnail:request",e)},c.handleCancelThumbnail=function(e){c.opts.waitForThumbnailsBeforeUpload||c.uppy.emit("thumbnail:cancel",e)},c.handleKeyDownInInline=function(e){9===e.keyCode&&v.forInline(e,c.getPluginState().activeOverlayType,c.el)},c.handlePasteOnBody=function(e){c.el.contains(document.activeElement)&&c.handlePaste(e)},c.handleComplete=function(e){var t=e.failed;c.opts.closeAfterFinish&&0===t.length&&c.requestCloseModal()},c.handleCancelRestore=function(){c.uppy.emit("restore-canceled")},Object.defineProperty(l(c),R,{writable:!0,value:function(e){var t=e[0];c.canEditFile(t)&&c.openFileEditor(t)}}),c.initEvents=function(){if(c.opts.trigger&&!c.opts.inline){var e=_(c.opts.trigger);e?e.forEach((function(e){return e.addEventListener("click",c.openModal)})):c.uppy.log("Dashboard modal trigger not found. Make sure `trigger` is set in Dashboard options, unless you are planning to call `dashboard.openModal()` method yourself","warning")}c.startListeningToResize(),document.addEventListener("paste",c.handlePasteOnBody),c.uppy.on("plugin-remove",c.removeTarget),c.uppy.on("file-added",c.hideAllPanels),c.uppy.on("dashboard:modal-closed",c.hideAllPanels),c.uppy.on("file-editor:complete",c.hideAllPanels),c.uppy.on("complete",c.handleComplete),document.addEventListener("focus",c.recordIfFocusedOnUppyRecently,!0),document.addEventListener("click",c.recordIfFocusedOnUppyRecently,!0),c.opts.inline&&c.el.addEventListener("keydown",c.handleKeyDownInInline),c.opts.autoOpenFileEditor&&c.uppy.on("files-added",y(l(c),R)[R])},c.removeEvents=function(){var e=_(c.opts.trigger);!c.opts.inline&&e&&e.forEach((function(e){return e.removeEventListener("click",c.openModal)})),c.stopListeningToResize(),document.removeEventListener("paste",c.handlePasteOnBody),window.removeEventListener("popstate",c.handlePopState,!1),c.uppy.off("plugin-remove",c.removeTarget),c.uppy.off("file-added",c.hideAllPanels),c.uppy.off("dashboard:modal-closed",c.hideAllPanels),c.uppy.off("file-editor:complete",c.hideAllPanels),c.uppy.off("complete",c.handleComplete),document.removeEventListener("focus",c.recordIfFocusedOnUppyRecently),document.removeEventListener("click",c.recordIfFocusedOnUppyRecently),c.opts.inline&&c.el.removeEventListener("keydown",c.handleKeyDownInInline),c.opts.autoOpenFileEditor&&c.uppy.off("files-added",y(l(c),R)[R])},c.superFocusOnEachUpdate=function(){var e=c.el.contains(document.activeElement),t=document.activeElement===document.body||null===document.activeElement,n=0===c.uppy.getState().info.length,r=!c.opts.inline;n&&(r||e||t&&c.ifFocusedOnUppyRecently)?c.superFocus(c.el,c.getPluginState().activeOverlayType):c.superFocus.cancel()},c.afterUpdate=function(){!c.opts.disabled||c.dashboardIsDisabled?(!c.opts.disabled&&c.dashboardIsDisabled&&c.disableAllFocusableElements(!1),c.superFocusOnEachUpdate()):c.disableAllFocusableElements(!0)},c.saveFileCard=function(e,t){c.uppy.setFileMeta(t,e),c.toggleFileCard(!1,t)},Object.defineProperty(l(c),D,{writable:!0,value:function(e){var t=c.uppy.getPlugin(e.id);return a(a({},e),{},{icon:t.icon||c.opts.defaultPickerIcon,render:t.render})}}),Object.defineProperty(l(c),I,{writable:!0,value:function(e){var t=c.uppy.getPlugin(e.id);return"function"!==typeof t.isSupported||t.isSupported()}}),Object.defineProperty(l(c),j,{writable:!0,value:A((function(e){return e.filter((function(e){return"acquirer"===e.type&&y(l(c),I)[I](e)})).map(y(l(c),D)[D])}))}),Object.defineProperty(l(c),B,{writable:!0,value:A((function(e){return e.filter((function(e){return"progressindicator"===e.type})).map(y(l(c),D)[D])}))}),Object.defineProperty(l(c),M,{writable:!0,value:A((function(e){return e.filter((function(e){return"editor"===e.type})).map(y(l(c),D)[D])}))}),c.render=function(e){var t,n=c.getPluginState(),r=e.files,i=e.capabilities,o=e.allowNewUpload,a=c.uppy.getObjectOfFilesPerState(),s=a.newFiles,u=a.uploadStartedFiles,p=a.completeFiles,d=a.erroredFiles,f=a.inProgressFiles,h=a.inProgressNotPausedFiles,v=a.processingFiles,m=a.isUploadStarted,g=a.isAllComplete,b=a.isAllErrored,k=a.isAllPaused,w=y(l(c),j)[j](n.targets),_=y(l(c),B)[B](n.targets),P=y(l(c),M)[M](n.targets);return t="auto"===c.opts.theme?i.darkMode?"dark":"light":c.opts.theme,["files","folders","both"].indexOf(c.opts.fileManagerSelectionType)<0&&(c.opts.fileManagerSelectionType="files",console.warn('Unsupported option for "fileManagerSelectionType". Using default of "'.concat(c.opts.fileManagerSelectionType,'".'))),F({state:e,isHidden:n.isHidden,files:r,newFiles:s,uploadStartedFiles:u,completeFiles:p,erroredFiles:d,inProgressFiles:f,inProgressNotPausedFiles:h,processingFiles:v,isUploadStarted:m,isAllComplete:g,isAllErrored:b,isAllPaused:k,totalFileCount:Object.keys(r).length,totalProgress:e.totalProgress,allowNewUpload:o,acquirers:w,theme:t,disabled:c.opts.disabled,disableLocalFiles:c.opts.disableLocalFiles,direction:c.opts.direction,activePickerPanel:n.activePickerPanel,showFileEditor:n.showFileEditor,saveFileEditor:c.saveFileEditor,disableAllFocusableElements:c.disableAllFocusableElements,animateOpenClose:c.opts.animateOpenClose,isClosing:n.isClosing,progressindicators:_,editors:P,autoProceed:c.uppy.opts.autoProceed,id:c.id,closeModal:c.requestCloseModal,handleClickOutside:c.handleClickOutside,handleInputChange:c.handleInputChange,handlePaste:c.handlePaste,inline:c.opts.inline,showPanel:c.showPanel,hideAllPanels:c.hideAllPanels,i18n:c.i18n,i18nArray:c.i18nArray,uppy:c.uppy,note:c.opts.note,recoveredState:e.recoveredState,metaFields:n.metaFields,resumableUploads:i.resumableUploads||!1,individualCancellation:i.individualCancellation,isMobileDevice:i.isMobileDevice,fileCardFor:n.fileCardFor,toggleFileCard:c.toggleFileCard,toggleAddFilesPanel:c.toggleAddFilesPanel,showAddFilesPanel:n.showAddFilesPanel,saveFileCard:c.saveFileCard,openFileEditor:c.openFileEditor,canEditFile:c.canEditFile,width:c.opts.width,height:c.opts.height,showLinkToFileUploadResult:c.opts.showLinkToFileUploadResult,fileManagerSelectionType:c.opts.fileManagerSelectionType,proudlyDisplayPoweredByUppy:c.opts.proudlyDisplayPoweredByUppy,hideCancelButton:c.opts.hideCancelButton,hideRetryButton:c.opts.hideRetryButton,hidePauseResumeButton:c.opts.hidePauseResumeButton,showRemoveButtonAfterComplete:c.opts.showRemoveButtonAfterComplete,containerWidth:n.containerWidth,containerHeight:n.containerHeight,areInsidesReadyToBeVisible:n.areInsidesReadyToBeVisible,isTargetDOMEl:c.isTargetDOMEl,parentElement:c.el,allowedFileTypes:c.uppy.opts.restrictions.allowedFileTypes,maxNumberOfFiles:c.uppy.opts.restrictions.maxNumberOfFiles,requiredMetaFields:c.uppy.opts.restrictions.requiredMetaFields,showSelectedFiles:c.opts.showSelectedFiles,handleCancelRestore:c.handleCancelRestore,handleRequestThumbnail:c.handleRequestThumbnail,handleCancelThumbnail:c.handleCancelThumbnail,isDraggingOver:n.isDraggingOver,handleDragOver:c.handleDragOver,handleDragLeave:c.handleDragLeave,handleDrop:c.handleDrop})},c.discoverProviderPlugins=function(){c.uppy.iteratePlugins((function(e){e&&!e.target&&e.opts&&e.opts.target===c.constructor&&c.addTarget(e)}))},c.install=function(){c.setPluginState({isHidden:!0,fileCardFor:null,activeOverlayType:null,showAddFilesPanel:!1,activePickerPanel:!1,showFileEditor:!1,metaFields:c.opts.metaFields,targets:[],areInsidesReadyToBeVisible:!1,isDraggingOver:!1});var e=c.opts,t=e.inline,n=e.closeAfterFinish;if(t&&n)throw new Error("[Dashboard] `closeAfterFinish: true` cannot be used on an inline Dashboard, because an inline Dashboard cannot be closed at all. Either set `inline: false`, or disable the `closeAfterFinish` option.");var r=c.uppy.opts,i=r.allowMultipleUploads,o=r.allowMultipleUploadBatches;(i||o)&&n&&c.uppy.log("[Dashboard] When using `closeAfterFinish`, we recommended setting the `allowMultipleUploadBatches` option to `false` in the Uppy constructor. See https://uppy.io/docs/uppy/#allowMultipleUploads-true","warning");var a=c.opts.target;a&&c.mount(a,l(c)),(c.opts.plugins||[]).forEach((function(e){var t=c.uppy.getPlugin(e);t&&t.mount(l(c),t)})),c.opts.disableStatusBar||c.uppy.use(b,{id:"".concat(c.id,":StatusBar"),target:l(c),hideUploadButton:c.opts.hideUploadButton,hideRetryButton:c.opts.hideRetryButton,hidePauseResumeButton:c.opts.hidePauseResumeButton,hideCancelButton:c.opts.hideCancelButton,showProgressDetails:c.opts.showProgressDetails,hideAfterFinish:c.opts.hideProgressAfterFinish,locale:c.opts.locale,doneButtonHandler:c.opts.doneButtonHandler}),c.opts.disableInformer||c.uppy.use(k,{id:"".concat(c.id,":Informer"),target:l(c)}),c.opts.disableThumbnailGenerator||c.uppy.use(w,{id:"".concat(c.id,":ThumbnailGenerator"),thumbnailWidth:c.opts.thumbnailWidth,thumbnailHeight:c.opts.thumbnailHeight,thumbnailType:c.opts.thumbnailType,waitForThumbnailsBeforeUpload:c.opts.waitForThumbnailsBeforeUpload,lazy:!c.opts.waitForThumbnailsBeforeUpload}),c.darkModeMediaQuery="undefined"!==typeof window&&window.matchMedia?window.matchMedia("(prefers-color-scheme: dark)"):null;var s=!!c.darkModeMediaQuery&&c.darkModeMediaQuery.matches;c.uppy.log("[Dashboard] Dark mode is ".concat(s?"on":"off")),c.setDarkModeCapability(s),"auto"===c.opts.theme&&c.darkModeMediaQuery.addListener(c.handleSystemDarkModeChange),c.discoverProviderPlugins(),c.initEvents()},c.uninstall=function(){if(!c.opts.disableInformer){var e=c.uppy.getPlugin("".concat(c.id,":Informer"));e&&c.uppy.removePlugin(e)}if(!c.opts.disableStatusBar){var t=c.uppy.getPlugin("".concat(c.id,":StatusBar"));t&&c.uppy.removePlugin(t)}if(!c.opts.disableThumbnailGenerator){var n=c.uppy.getPlugin("".concat(c.id,":ThumbnailGenerator"));n&&c.uppy.removePlugin(n)}(c.opts.plugins||[]).forEach((function(e){var t=c.uppy.getPlugin(e);t&&t.unmount()})),"auto"===c.opts.theme&&c.darkModeMediaQuery.removeListener(c.handleSystemDarkModeChange),c.unmount(),c.removeEvents()},c.id=c.opts.id||"Dashboard",c.title="Dashboard",c.type="orchestrator",c.modalName="uppy-Dashboard-".concat((0,h.nanoid)()),c.defaultLocale=E;var d={target:"body",metaFields:[],trigger:null,inline:!1,width:750,height:550,thumbnailWidth:280,thumbnailType:"image/jpeg",waitForThumbnailsBeforeUpload:!1,defaultPickerIcon:U,showLinkToFileUploadResult:!1,showProgressDetails:!1,hideUploadButton:!1,hideCancelButton:!1,hideRetryButton:!1,hidePauseResumeButton:!1,hideProgressAfterFinish:!1,doneButtonHandler:function(){c.uppy.reset(),c.requestCloseModal()},note:null,closeModalOnClickOutside:!1,closeAfterFinish:!1,disableStatusBar:!1,disableInformer:!1,disableThumbnailGenerator:!1,disablePageScrollWhenModalOpen:!0,animateOpenClose:!0,fileManagerSelectionType:"files",proudlyDisplayPoweredByUppy:!0,onRequestCloseModal:function(){return c.closeModal()},showSelectedFiles:!0,showRemoveButtonAfterComplete:!1,browserBackButtonClose:!1,theme:"light",autoOpenFileEditor:!1,disabled:!1,disableLocalFiles:!1};return c.opts=a(a({},d),s),c.i18nInit(),c.superFocus=O(),c.ifFocusedOnUppyRecently=!1,c.makeDashboardInsidesVisibleAnywayTimeout=null,c.removeDragOverClassTimeout=null,c}return s(n)}(f.UIPlugin);N.VERSION="2.4.3",e.exports=N},57711:function(e,t,n){"use strict";var r,i=n(319).default,o=n(34575).default,a=n(93913).default,s=n(2205).default,u=n(99842).default,l=n(58620);r=Symbol.for("uppy test: disable unused locale key warning");var c=function(e,t){s(r,e);var n=u(r);function r(){var e;return o(this,r),(e=n.apply(this,arguments)).triggerFileInputClick=function(){e.fileInput.click()},e.triggerFolderInputClick=function(){e.folderInput.click()},e.onFileInputChange=function(t){e.props.handleInputChange(t),t.target.value=null},e.renderHiddenInput=function(t,n){return(0,l.h)("input",{className:"uppy-Dashboard-input",hidden:!0,"aria-hidden":"true",tabIndex:-1,webkitdirectory:t,type:"file",name:"files[]",multiple:1!==e.props.maxNumberOfFiles,onChange:e.onFileInputChange,accept:e.props.allowedFileTypes,ref:n})},e.renderMyDeviceAcquirer=function(){return(0,l.h)("div",{className:"uppy-DashboardTab",role:"presentation","data-uppy-acquirer-id":"MyDevice"},(0,l.h)("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-DashboardTab-btn",role:"tab",tabIndex:0,"data-uppy-super-focusable":!0,onClick:e.triggerFileInputClick},(0,l.h)("svg",{"aria-hidden":"true",focusable:"false",width:"32",height:"32",viewBox:"0 0 32 32"},(0,l.h)("g",{fill:"none",fillRule:"evenodd"},(0,l.h)("rect",{className:"uppy-ProviderIconBg",width:"32",height:"32",rx:"16",fill:"#2275D7"}),(0,l.h)("path",{d:"M21.973 21.152H9.863l-1.108-5.087h14.464l-1.246 5.087zM9.935 11.37h3.958l.886 1.444a.673.673 0 0 0 .585.316h6.506v1.37H9.935v-3.13zm14.898 3.44a.793.793 0 0 0-.616-.31h-.978v-2.126c0-.379-.275-.613-.653-.613H15.75l-.886-1.445a.673.673 0 0 0-.585-.316H9.232c-.378 0-.667.209-.667.587V14.5h-.782a.793.793 0 0 0-.61.303.795.795 0 0 0-.155.663l1.45 6.633c.078.36.396.618.764.618h13.354c.36 0 .674-.246.76-.595l1.631-6.636a.795.795 0 0 0-.144-.675z",fill:"#FFF"}))),(0,l.h)("div",{className:"uppy-DashboardTab-name"},e.props.i18n("myDevice"))))},e.renderBrowseButton=function(t,n){var r=e.props.acquirers.length;return(0,l.h)("button",{type:"button",className:"uppy-u-reset uppy-Dashboard-browse",onClick:n,"data-uppy-super-focusable":0===r},t)},e.renderDropPasteBrowseTagline=function(){var t=e.props.acquirers.length,n=e.renderBrowseButton(e.props.i18n("browseFiles"),e.triggerFileInputClick),r=e.renderBrowseButton(e.props.i18n("browseFolders"),e.triggerFolderInputClick),i=e.props.fileManagerSelectionType,o=i.charAt(0).toUpperCase()+i.slice(1);return(0,l.h)("div",{class:"uppy-Dashboard-AddFiles-title"},e.props.disableLocalFiles?e.props.i18n("importFiles"):t>0?e.props.i18nArray("dropPasteImport".concat(o),{browseFiles:n,browseFolders:r,browse:n}):e.props.i18nArray("dropPaste".concat(o),{browseFiles:n,browseFolders:r,browse:n}))},e.renderAcquirer=function(t){return(0,l.h)("div",{className:"uppy-DashboardTab",role:"presentation","data-uppy-acquirer-id":t.id},(0,l.h)("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-DashboardTab-btn",role:"tab",tabIndex:0,"data-cy":t.id,"aria-controls":"uppy-DashboardContent-panel--".concat(t.id),"aria-selected":e.props.activePickerPanel.id===t.id,"data-uppy-super-focusable":!0,onClick:function(){return e.props.showPanel(t.id)}},t.icon(),(0,l.h)("div",{className:"uppy-DashboardTab-name"},t.name)))},e.renderAcquirers=function(t,n){var r=i(t),o=r.splice(t.length-2,t.length);return(0,l.h)("div",{className:"uppy-Dashboard-AddFiles-list",role:"tablist"},!n&&e.renderMyDeviceAcquirer(),r.map((function(t){return e.renderAcquirer(t)})),(0,l.h)("span",{role:"presentation",style:{"white-space":"nowrap"}},o.map((function(t){return e.renderAcquirer(t)}))))},e}return a(r,[{key:t,value:function(){this.props.i18nArray("dropPasteBoth"),this.props.i18nArray("dropPasteFiles"),this.props.i18nArray("dropPasteFolders"),this.props.i18nArray("dropPasteImportBoth"),this.props.i18nArray("dropPasteImportFiles"),this.props.i18nArray("dropPasteImportFolders")}},{key:"renderPoweredByUppy",value:function(){var e=(0,this.props.i18nArray)("poweredBy",{uppy:(0,l.h)("span",null,(0,l.h)("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon uppy-Dashboard-poweredByIcon",width:"11",height:"11",viewBox:"0 0 11 11"},(0,l.h)("path",{d:"M7.365 10.5l-.01-4.045h2.612L5.5.806l-4.467 5.65h2.604l.01 4.044h3.718z",fillRule:"evenodd"})),(0,l.h)("span",{className:"uppy-Dashboard-poweredByUppy"},"Uppy"))});return(0,l.h)("a",{tabIndex:"-1",href:"https://uppy.io",rel:"noreferrer noopener",target:"_blank",className:"uppy-Dashboard-poweredBy"},e)}},{key:"render",value:function(){var e=this;return(0,l.h)("div",{className:"uppy-Dashboard-AddFiles"},this.renderHiddenInput(!1,(function(t){e.fileInput=t})),this.renderHiddenInput(!0,(function(t){e.folderInput=t})),this.renderDropPasteBrowseTagline(),this.props.acquirers.length>0&&this.renderAcquirers(this.props.acquirers,this.props.disableLocalFiles),(0,l.h)("div",{className:"uppy-Dashboard-AddFiles-info"},this.props.note&&(0,l.h)("div",{className:"uppy-Dashboard-note"},this.props.note),this.props.proudlyDisplayPoweredByUppy&&this.renderPoweredByUppy(this.props)))}}]),r}(l.Component,r);e.exports=c},68219:function(e,t,n){"use strict";var r=n(58620),i=n(81694),o=n(57711);e.exports=function(e){return(0,r.h)("div",{className:i("uppy-Dashboard-AddFilesPanel",e.className),"data-uppy-panelType":"AddFiles","aria-hidden":e.showAddFilesPanel},(0,r.h)("div",{className:"uppy-DashboardContent-bar"},(0,r.h)("div",{className:"uppy-DashboardContent-title",role:"heading","aria-level":"1"},e.i18n("addingMoreFiles")),(0,r.h)("button",{className:"uppy-DashboardContent-back",type:"button",onClick:function(){return e.toggleAddFilesPanel(!1)}},e.i18n("back"))),(0,r.h)(o,e))}},55606:function(e,t,n){"use strict";var r=n(58620);function i(){return i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i.apply(this,arguments)}var o=n(81694),a=n(8880),s=n(65039),u=n(57711),l=n(68219),c=n(52081),p=n(13970),d=n(60360),f=n(70921),h=n(43205);e.exports=function(e){var t=0===e.totalFileCount,n=e.containerWidth>576,v=o({"uppy-Dashboard":!0,"uppy-Dashboard--isDisabled":e.disabled,"uppy-Dashboard--animateOpenClose":e.animateOpenClose,"uppy-Dashboard--isClosing":e.isClosing,"uppy-Dashboard--isDraggingOver":e.isDraggingOver,"uppy-Dashboard--modal":!e.inline,"uppy-size--md":e.containerWidth>576,"uppy-size--lg":e.containerWidth>700,"uppy-size--xl":e.containerWidth>900,"uppy-size--height-md":e.containerHeight>400,"uppy-Dashboard--isAddFilesPanelVisible":e.showAddFilesPanel,"uppy-Dashboard--isInnerWrapVisible":e.areInsidesReadyToBeVisible}),y=1;e.containerWidth>900?y=5:e.containerWidth>700?y=4:e.containerWidth>576&&(y=3);var m=e.showSelectedFiles&&!t,g=e.recoveredState?Object.keys(e.recoveredState.files).length:null,b=e.files?Object.keys(e.files).filter((function(t){return e.files[t].isGhost})).length:null;return(0,r.h)("div",{className:v,"data-uppy-theme":e.theme,"data-uppy-num-acquirers":e.acquirers.length,"data-uppy-drag-drop-supported":!e.disableLocalFiles&&a(),"aria-hidden":e.inline?"false":e.isHidden,"aria-disabled":e.disabled,"aria-label":e.inline?e.i18n("dashboardTitle"):e.i18n("dashboardWindowTitle"),onPaste:e.handlePaste,onDragOver:e.handleDragOver,onDragLeave:e.handleDragLeave,onDrop:e.handleDrop},(0,r.h)("div",{"aria-hidden":"true",className:"uppy-Dashboard-overlay",tabIndex:-1,onClick:e.handleClickOutside}),(0,r.h)("div",{className:"uppy-Dashboard-inner","aria-modal":!e.inline&&"true",role:!e.inline&&"dialog",style:{width:e.inline&&e.width?e.width:"",height:e.inline&&e.height?e.height:""}},e.inline?null:(0,r.h)("button",{className:"uppy-u-reset uppy-Dashboard-close",type:"button","aria-label":e.i18n("closeModal"),title:e.i18n("closeModal"),onClick:e.closeModal},(0,r.h)("span",{"aria-hidden":"true"},"\xd7")),(0,r.h)("div",{className:"uppy-Dashboard-innerWrap"},(0,r.h)("div",{className:"uppy-Dashboard-dropFilesHereHint"},e.i18n("dropHint")),m&&(0,r.h)(d,e),g&&(0,r.h)("div",{className:"uppy-Dashboard-serviceMsg"},(0,r.h)("svg",{className:"uppy-Dashboard-serviceMsg-icon","aria-hidden":"true",focusable:"false",width:"21",height:"16",viewBox:"0 0 24 19"},(0,r.h)("g",{transform:"translate(0 -1)",fill:"none",fillRule:"evenodd"},(0,r.h)("path",{d:"M12.857 1.43l10.234 17.056A1 1 0 0122.234 20H1.766a1 1 0 01-.857-1.514L11.143 1.429a1 1 0 011.714 0z",fill:"#FFD300"}),(0,r.h)("path",{fill:"#000",d:"M11 6h2l-.3 8h-1.4z"}),(0,r.h)("circle",{fill:"#000",cx:"12",cy:"17",r:"1"}))),(0,r.h)("strong",{className:"uppy-Dashboard-serviceMsg-title"},e.i18n("sessionRestored")),(0,r.h)("div",{className:"uppy-Dashboard-serviceMsg-text"},b>0?e.i18n("recoveredXFiles",{smart_count:b}):e.i18n("recoveredAllFiles"))),m?(0,r.h)(s,i({},e,{itemsPerRow:y})):(0,r.h)(u,i({},e,{isSizeMD:n})),(0,r.h)(h,null,e.showAddFilesPanel?(0,r.h)(l,i({key:"AddFiles"},e,{isSizeMD:n})):null),(0,r.h)(h,null,e.fileCardFor?(0,r.h)(f,i({key:"FileCard"},e)):null),(0,r.h)(h,null,e.activePickerPanel?(0,r.h)(c,i({key:"Picker"},e)):null),(0,r.h)(h,null,e.showFileEditor?(0,r.h)(p,i({key:"Editor"},e)):null),(0,r.h)("div",{className:"uppy-Dashboard-progressindicators"},e.progressindicators.map((function(t){return e.uppy.getPlugin(t.id).render(e.state)}))))))}},13970:function(e,t,n){"use strict";var r=n(58620),i=n(81694);e.exports=function(e){var t=e.files[e.fileCardFor];return(0,r.h)("div",{className:i("uppy-DashboardContent-panel",e.className),role:"tabpanel","data-uppy-panelType":"FileEditor",id:"uppy-DashboardContent-panel--editor"},(0,r.h)("div",{className:"uppy-DashboardContent-bar"},(0,r.h)("div",{className:"uppy-DashboardContent-title",role:"heading","aria-level":"1"},e.i18nArray("editing",{file:(0,r.h)("span",{className:"uppy-DashboardContent-titleFile"},t.meta?t.meta.name:t.name)})),(0,r.h)("button",{className:"uppy-DashboardContent-back",type:"button",onClick:e.hideAllPanels},e.i18n("cancel")),(0,r.h)("button",{className:"uppy-DashboardContent-save",type:"button",onClick:e.saveFileEditor},e.i18n("save"))),(0,r.h)("div",{className:"uppy-DashboardContent-panelBody"},e.editors.map((function(t){return e.uppy.getPlugin(t.id).render(e.state)}))))}},70921:function(e,t,n){"use strict";var r=n(59713).default,i=n(81109).default,o=n(34575).default,a=n(93913).default,s=n(2205).default,u=n(99842).default,l=n(58620),c=n(55312),p=n(81694),d=n(17419),f=n(33982),h=n(64785),v=function(e){s(n,e);var t=u(n);function n(e){var a;o(this,n),(a=t.call(this,e)).form=document.createElement("form"),a.updateMeta=function(e,t){a.setState((function(n){var o=n.formState;return{formState:i(i({},o),{},r({},t,e))}}))},a.handleSave=function(e){e.preventDefault();var t=a.props.fileCardFor;a.props.saveFileCard(a.state.formState,t)},a.handleCancel=function(){var e=a.props.files[a.props.fileCardFor];a.props.uppy.emit("file-editor:cancel",e),a.props.toggleFileCard(!1)},a.saveOnEnter=function(e){if(13===e.keyCode){e.stopPropagation(),e.preventDefault();var t=a.props.files[a.props.fileCardFor];a.props.saveFileCard(a.state.formState,t.id)}},a.renderMetaFields=function(){var e=a.getMetaFields()||[],t={text:"uppy-u-reset uppy-c-textInput uppy-Dashboard-FileCard-input"};return e.map((function(e){var n="uppy-Dashboard-FileCard-input-".concat(e.id),r=a.props.requiredMetaFields.includes(e.id);return(0,l.h)("fieldset",{key:e.id,className:"uppy-Dashboard-FileCard-fieldset"},(0,l.h)("label",{className:"uppy-Dashboard-FileCard-label",htmlFor:n},e.name),void 0!==e.render?e.render({value:a.state.formState[e.id],onChange:function(t){return a.updateMeta(t,e.id)},fieldCSSClasses:t,required:r,form:a.form.id},l.h):(0,l.h)("input",{className:t.text,id:n,form:a.form.id,type:e.type||"text",required:r,value:a.state.formState[e.id],placeholder:e.placeholder,onKeyUp:"form"in HTMLInputElement.prototype?void 0:a.saveOnEnter,onKeyDown:"form"in HTMLInputElement.prototype?void 0:a.saveOnEnter,onKeyPress:"form"in HTMLInputElement.prototype?void 0:a.saveOnEnter,onInput:function(t){return a.updateMeta(t.target.value,e.id)},"data-uppy-super-focusable":!0}))}))};var s=a.props.files[a.props.fileCardFor],u=a.getMetaFields()||[],p={};return u.forEach((function(e){p[e.id]=s.meta[e.id]||""})),a.state={formState:p},a.form.id=(0,c.nanoid)(),a}return a(n,[{key:"componentWillMount",value:function(){this.form.addEventListener("submit",this.handleSave),document.body.appendChild(this.form)}},{key:"componentWillUnmount",value:function(){this.form.removeEventListener("submit",this.handleSave),document.body.removeChild(this.form)}},{key:"getMetaFields",value:function(){return"function"===typeof this.props.metaFields?this.props.metaFields(this.props.files[this.props.fileCardFor]):this.props.metaFields}},{key:"render",value:function(){var e=this,t=this.props.files[this.props.fileCardFor],n=this.props.canEditFile(t);return(0,l.h)("div",{className:p("uppy-Dashboard-FileCard",this.props.className),"data-uppy-panelType":"FileCard",onDragOver:f,onDragLeave:f,onDrop:f,onPaste:f},(0,l.h)("div",{className:"uppy-DashboardContent-bar"},(0,l.h)("div",{className:"uppy-DashboardContent-title",role:"heading","aria-level":"1"},this.props.i18nArray("editing",{file:(0,l.h)("span",{className:"uppy-DashboardContent-titleFile"},t.meta?t.meta.name:t.name)})),(0,l.h)("button",{className:"uppy-DashboardContent-back",type:"button",form:this.form.id,title:this.props.i18n("finishEditingFile"),onClick:this.handleCancel},this.props.i18n("cancel"))),(0,l.h)("div",{className:"uppy-Dashboard-FileCard-inner"},(0,l.h)("div",{className:"uppy-Dashboard-FileCard-preview",style:{backgroundColor:d(t.type).color}},(0,l.h)(h,{file:t}),n&&(0,l.h)("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-Dashboard-FileCard-edit",onClick:function(n){e.handleSave(n),e.props.openFileEditor(t)},form:this.form.id},this.props.i18n("editFile"))),(0,l.h)("div",{className:"uppy-Dashboard-FileCard-info"},this.renderMetaFields()),(0,l.h)("div",{className:"uppy-Dashboard-FileCard-actions"},(0,l.h)("button",{className:"uppy-u-reset uppy-c-btn uppy-c-btn-primary uppy-Dashboard-FileCard-actionsBtn",type:"form"in HTMLButtonElement.prototype?"submit":"button",onClick:"form"in HTMLButtonElement.prototype?void 0:this.handleSave,form:this.form.id},this.props.i18n("saveChanges")),(0,l.h)("button",{className:"uppy-u-reset uppy-c-btn uppy-c-btn-link uppy-Dashboard-FileCard-actionsBtn",type:"button",onClick:this.handleCancel,form:this.form.id},this.props.i18n("cancel")))))}}]),n}(l.Component);e.exports=v},17269:function(e,t,n){"use strict";var r=n(58620),i=n(34189);function o(e){var t=e.file,n=e.uploadInProgressOrComplete,i=e.metaFields,o=e.canEditFile,a=e.i18n,s=e.onClick;return!n&&i&&i.length>0||!n&&o(t)?(0,r.h)("button",{className:"uppy-u-reset uppy-Dashboard-Item-action uppy-Dashboard-Item-action--edit",type:"button","aria-label":a("editFileWithFilename",{file:t.meta.name}),title:a("editFileWithFilename",{file:t.meta.name}),onClick:function(){return s()}},(0,r.h)("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"14",height:"14",viewBox:"0 0 14 14"},(0,r.h)("g",{fillRule:"evenodd"},(0,r.h)("path",{d:"M1.5 10.793h2.793A1 1 0 0 0 5 10.5L11.5 4a1 1 0 0 0 0-1.414L9.707.793a1 1 0 0 0-1.414 0l-6.5 6.5A1 1 0 0 0 1.5 8v2.793zm1-1V8L9 1.5l1.793 1.793-6.5 6.5H2.5z",fillRule:"nonzero"}),(0,r.h)("rect",{x:"1",y:"12.293",width:"11",height:"1",rx:".5"}),(0,r.h)("path",{fillRule:"nonzero",d:"M6.793 2.5L9.5 5.207l.707-.707L7.5 1.793z"})))):null}function a(e){var t=e.i18n,n=e.onClick,i=e.file;return(0,r.h)("button",{className:"uppy-u-reset uppy-Dashboard-Item-action uppy-Dashboard-Item-action--remove",type:"button","aria-label":t("removeFile",{file:i.meta.name}),title:t("removeFile",{file:i.meta.name}),onClick:function(){return n()}},(0,r.h)("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"18",height:"18",viewBox:"0 0 18 18"},(0,r.h)("path",{d:"M9 0C4.034 0 0 4.034 0 9s4.034 9 9 9 9-4.034 9-9-4.034-9-9-9z"}),(0,r.h)("path",{fill:"#FFF",d:"M13 12.222l-.778.778L9 9.778 5.778 13 5 12.222 8.222 9 5 5.778 5.778 5 9 8.222 12.222 5l.778.778L9.778 9z"})))}function s(e){var t=e.i18n;return(0,r.h)("button",{className:"uppy-u-reset uppy-Dashboard-Item-action uppy-Dashboard-Item-action--copyLink",type:"button","aria-label":t("copyLink"),title:t("copyLink"),onClick:function(t){return function(e,t){i(t.file.uploadURL,t.i18n("copyLinkToClipboardFallback")).then((function(){t.uppy.log("Link copied to clipboard."),t.uppy.info(t.i18n("copyLinkToClipboardSuccess"),"info",3e3)})).catch(t.uppy.log).then((function(){return e.target.focus({preventScroll:!0})}))}(t,e)}},(0,r.h)("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"14",height:"14",viewBox:"0 0 14 12"},(0,r.h)("path",{d:"M7.94 7.703a2.613 2.613 0 0 1-.626 2.681l-.852.851a2.597 2.597 0 0 1-1.849.766A2.616 2.616 0 0 1 2.764 7.54l.852-.852a2.596 2.596 0 0 1 2.69-.625L5.267 7.099a1.44 1.44 0 0 0-.833.407l-.852.851a1.458 1.458 0 0 0 1.03 2.486c.39 0 .755-.152 1.03-.426l.852-.852c.231-.231.363-.522.406-.824l1.04-1.038zm4.295-5.937A2.596 2.596 0 0 0 10.387 1c-.698 0-1.355.272-1.849.766l-.852.851a2.614 2.614 0 0 0-.624 2.688l1.036-1.036c.041-.304.173-.6.407-.833l.852-.852c.275-.275.64-.426 1.03-.426a1.458 1.458 0 0 1 1.03 2.486l-.852.851a1.442 1.442 0 0 1-.824.406l-1.04 1.04a2.596 2.596 0 0 0 2.683-.628l.851-.85a2.616 2.616 0 0 0 0-3.697zm-6.88 6.883a.577.577 0 0 0 .82 0l3.474-3.474a.579.579 0 1 0-.819-.82L5.355 7.83a.579.579 0 0 0 0 .819z"})))}e.exports=function(e){var t=e.uppy,n=e.file,i=e.uploadInProgressOrComplete,u=e.canEditFile,l=e.metaFields,c=e.showLinkToFileUploadResult,p=e.showRemoveButton,d=e.i18n,f=e.toggleFileCard,h=e.openFileEditor;return(0,r.h)("div",{className:"uppy-Dashboard-Item-actionWrapper"},(0,r.h)(o,{i18n:d,file:n,uploadInProgressOrComplete:i,canEditFile:u,metaFields:l,onClick:function(){l&&l.length>0?f(!0,n.id):h(n)}}),c&&n.uploadURL?(0,r.h)(s,{file:n,uppy:t,i18n:d}):null,p?(0,r.h)(a,{i18n:d,file:n,uppy:t,onClick:function(){return e.uppy.removeFile(n.id,"removed-by-user")}}):null)}},24357:function(e,t,n){"use strict";var r=n(58620),i=n(39968),o=n(43159),a=n(55440),s=function(e){var t=e.file,n=e.onClick;return t.error?(0,r.h)("button",{className:"uppy-u-reset uppy-Dashboard-Item-errorDetails","aria-label":t.error,"data-microtip-position":"bottom","data-microtip-size":"medium",onClick:n,type:"button"},"?"):null};e.exports=function(e){var t=e.file;return(0,r.h)("div",{className:"uppy-Dashboard-Item-fileInfo","data-uppy-file-source":t.source},(0,r.h)("div",{className:"uppy-Dashboard-Item-fileName"},function(e){var t=e.file.meta,n=t.author,i=t.name;return(0,r.h)("div",{className:"uppy-Dashboard-Item-name",title:i},o(i,e.containerWidth<=352?35:e.containerWidth<=576?60:n?20:30))}(e),(0,r.h)(s,{file:e.file,onClick:function(){return alert(e.file.error)}})),(0,r.h)("div",{className:"uppy-Dashboard-Item-status"},function(e){var t=e.file.meta.author,n=e.file.remote.providerName;return t?(0,r.h)("div",{className:"uppy-Dashboard-Item-author"},(0,r.h)("a",{href:"".concat(t.url,"?utm_source=Companion&utm_medium=referral"),target:"_blank",rel:"noopener noreferrer"},o(t.name,13)),n?(0,r.h)(r.Fragment,null," ".concat("\xb7"," "),n," ".concat("\xb7"," ")):null):null}(e),function(e){return e.file.size&&(0,r.h)("div",{className:"uppy-Dashboard-Item-statusSize"},i(e.file.size))}(e),function(e){return e.file.isGhost&&(0,r.h)("span",null," \u2022 ",(0,r.h)("button",{className:"uppy-u-reset uppy-c-btn uppy-Dashboard-Item-reSelect",type:"button",onClick:e.toggleAddFilesPanel},e.i18n("reSelect")))}(e)),(0,r.h)(a,{file:e.file,i18n:e.i18n,toggleFileCard:e.toggleFileCard,metaFields:e.metaFields}))}},86739:function(e,t,n){"use strict";var r=n(58620),i=n(64785),o=n(55440),a=n(17419);e.exports=function(e){return(0,r.h)("div",{className:"uppy-Dashboard-Item-previewInnerWrap",style:{backgroundColor:a(e.file.type).color}},e.showLinkToFileUploadResult&&e.file.uploadURL&&(0,r.h)("a",{className:"uppy-Dashboard-Item-previewLink",href:e.file.uploadURL,rel:"noreferrer noopener",target:"_blank","aria-label":e.file.meta.name},(0,r.h)("span",{hidden:!0},e.file.meta.name)),(0,r.h)(i,{file:e.file}),(0,r.h)(o,{file:e.file,i18n:e.i18n,toggleFileCard:e.toggleFileCard,metaFields:e.metaFields}))}},75321:function(e,t,n){"use strict";var r=n(58620);function i(e){return e.isUploaded?e.i18n("uploadComplete"):e.error?e.i18n("retryUpload"):e.resumableUploads?e.file.isPaused?e.i18n("resumeUpload"):e.i18n("pauseUpload"):e.individualCancellation?e.i18n("cancelUpload"):""}function o(e){return(0,r.h)("div",{className:"uppy-Dashboard-Item-progress"},(0,r.h)("button",{className:"uppy-u-reset uppy-Dashboard-Item-progressIndicator",type:"button","aria-label":i(e),title:i(e),onClick:function(){return function(e){e.isUploaded||(!e.error||e.hideRetryButton?e.resumableUploads&&!e.hidePauseResumeButton?e.uppy.pauseResume(e.file.id):e.individualCancellation&&!e.hideCancelButton&&e.uppy.removeFile(e.file.id):e.uppy.retryUpload(e.file.id))}(e)}},e.children))}function a(e){var t=e.children;return(0,r.h)("svg",{"aria-hidden":"true",focusable:"false",width:"70",height:"70",viewBox:"0 0 36 36",className:"uppy-c-icon uppy-Dashboard-Item-progressIcon--circle"},t)}function s(e){var t=e.progress,n=2*Math.PI*15;return(0,r.h)("g",null,(0,r.h)("circle",{className:"uppy-Dashboard-Item-progressIcon--bg",r:"15",cx:"18",cy:"18","stroke-width":"2",fill:"none"}),(0,r.h)("circle",{className:"uppy-Dashboard-Item-progressIcon--progress",r:"15",cx:"18",cy:"18",transform:"rotate(-90, 18, 18)",fill:"none","stroke-width":"2","stroke-dasharray":n,"stroke-dashoffset":n-n/100*t}))}e.exports=function(e){return e.file.progress.uploadStarted?e.isUploaded?(0,r.h)("div",{className:"uppy-Dashboard-Item-progress"},(0,r.h)("div",{className:"uppy-Dashboard-Item-progressIndicator"},(0,r.h)(a,null,(0,r.h)("circle",{r:"15",cx:"18",cy:"18",fill:"#1bb240"}),(0,r.h)("polygon",{className:"uppy-Dashboard-Item-progressIcon--check",transform:"translate(2, 3)",points:"14 22.5 7 15.2457065 8.99985857 13.1732815 14 18.3547104 22.9729883 9 25 11.1005634"})))):e.recoveredState?void 0:e.error&&!e.hideRetryButton?(0,r.h)(o,e,(0,r.h)("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon uppy-Dashboard-Item-progressIcon--retry",width:"28",height:"31",viewBox:"0 0 16 19"},(0,r.h)("path",{d:"M16 11a8 8 0 1 1-8-8v2a6 6 0 1 0 6 6h2z"}),(0,r.h)("path",{d:"M7.9 3H10v2H7.9z"}),(0,r.h)("path",{d:"M8.536.5l3.535 3.536-1.414 1.414L7.12 1.914z"}),(0,r.h)("path",{d:"M10.657 2.621l1.414 1.415L8.536 7.57 7.12 6.157z"}))):e.resumableUploads&&!e.hidePauseResumeButton?(0,r.h)(o,e,(0,r.h)(a,null,(0,r.h)(s,{progress:e.file.progress.percentage}),e.file.isPaused?(0,r.h)("polygon",{className:"uppy-Dashboard-Item-progressIcon--play",transform:"translate(3, 3)",points:"12 20 12 10 20 15"}):(0,r.h)("g",{className:"uppy-Dashboard-Item-progressIcon--pause",transform:"translate(14.5, 13)"},(0,r.h)("rect",{x:"0",y:"0",width:"2",height:"10",rx:"0"}),(0,r.h)("rect",{x:"5",y:"0",width:"2",height:"10",rx:"0"})))):e.resumableUploads||!e.individualCancellation||e.hideCancelButton?(0,r.h)("div",{className:"uppy-Dashboard-Item-progress"},(0,r.h)("div",{className:"uppy-Dashboard-Item-progressIndicator"},(0,r.h)(a,null,(0,r.h)(s,{progress:e.file.progress.percentage})))):(0,r.h)(o,e,(0,r.h)(a,null,(0,r.h)(s,{progress:e.file.progress.percentage}),(0,r.h)("polygon",{className:"cancel",transform:"translate(2, 2)",points:"19.8856516 11.0625 16 14.9481516 12.1019737 11.0625 11.0625 12.1143484 14.9481516 16 11.0625 19.8980263 12.1019737 20.9375 16 17.0518484 19.8856516 20.9375 20.9375 19.8980263 17.0518484 16 20.9375 12"}))):null}},55440:function(e,t,n){"use strict";var r=n(58620);e.exports=function(e){var t=e.file,n=e.toggleFileCard,i=e.i18n,o=e.metaFields,a=t.missingRequiredMetaFields;if(null==a||!a.length)return null;var s=a.map((function(e){return function(e,t){return t.filter((function(t){return t.id===e}))[0].name}(e,o)})).join(", ");return(0,r.h)("div",{className:"uppy-Dashboard-Item-errorMessage"},i("missingRequiredMetaFields",{smart_count:a.length,fields:s})," ",(0,r.h)("button",{type:"button",class:"uppy-u-reset uppy-Dashboard-Item-errorMessageBtn",onClick:function(){return n(!0,t.id)}},i("editFile")))}},86900:function(e,t,n){"use strict";var r=n(34575).default,i=n(93913).default,o=n(2205).default,a=n(99842).default,s=n(58620),u=n(81694),l=n(97202),c=n(86739),p=n(75321),d=n(24357),f=n(17269),h=function(e){o(n,e);var t=a(n);function n(){return r(this,n),t.apply(this,arguments)}return i(n,[{key:"componentDidMount",value:function(){var e=this.props.file;e.preview||this.props.handleRequestThumbnail(e)}},{key:"shouldComponentUpdate",value:function(e){return!l(this.props,e)}},{key:"componentDidUpdate",value:function(){var e=this.props.file;e.preview||this.props.handleRequestThumbnail(e)}},{key:"componentWillUnmount",value:function(){var e=this.props.file;e.preview||this.props.handleCancelThumbnail(e)}},{key:"render",value:function(){var e=this.props.file,t=e.progress.preprocess||e.progress.postprocess,n=e.progress.uploadComplete&&!t&&!e.error,r=e.progress.uploadStarted||t,i=e.progress.uploadStarted&&!e.progress.uploadComplete||t,o=e.error||!1,a=e.isGhost,l=(this.props.individualCancellation||!i)&&!n;n&&this.props.showRemoveButtonAfterComplete&&(l=!0);var h=u({"uppy-Dashboard-Item":!0,"is-inprogress":i&&!this.props.recoveredState,"is-processing":t,"is-complete":n,"is-error":!!o,"is-resumable":this.props.resumableUploads,"is-noIndividualCancellation":!this.props.individualCancellation,"is-ghost":a});return(0,s.h)("div",{className:h,id:"uppy_".concat(e.id),role:this.props.role},(0,s.h)("div",{className:"uppy-Dashboard-Item-preview"},(0,s.h)(c,{file:e,showLinkToFileUploadResult:this.props.showLinkToFileUploadResult,i18n:this.props.i18n,toggleFileCard:this.props.toggleFileCard,metaFields:this.props.metaFields}),(0,s.h)(p,{uppy:this.props.uppy,file:e,error:o,isUploaded:n,hideRetryButton:this.props.hideRetryButton,hideCancelButton:this.props.hideCancelButton,hidePauseResumeButton:this.props.hidePauseResumeButton,recoveredState:this.props.recoveredState,showRemoveButtonAfterComplete:this.props.showRemoveButtonAfterComplete,resumableUploads:this.props.resumableUploads,individualCancellation:this.props.individualCancellation,i18n:this.props.i18n})),(0,s.h)("div",{className:"uppy-Dashboard-Item-fileInfoAndButtons"},(0,s.h)(d,{file:e,id:this.props.id,acquirers:this.props.acquirers,containerWidth:this.props.containerWidth,i18n:this.props.i18n,toggleAddFilesPanel:this.props.toggleAddFilesPanel,toggleFileCard:this.props.toggleFileCard,metaFields:this.props.metaFields}),(0,s.h)(f,{file:e,metaFields:this.props.metaFields,showLinkToFileUploadResult:this.props.showLinkToFileUploadResult,showRemoveButton:l,canEditFile:this.props.canEditFile,uploadInProgressOrComplete:r,toggleFileCard:this.props.toggleFileCard,openFileEditor:this.props.openFileEditor,uppy:this.props.uppy,i18n:this.props.i18n})))}}]),n}(s.Component);e.exports=h},65039:function(e,t,n){"use strict";var r=n(58620);function i(){return i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i.apply(this,arguments)}var o=n(81694),a=n(86900),s=n(36407);e.exports=function(e){var t=0===e.totalFileCount,n=o("uppy-Dashboard-files",{"uppy-Dashboard-files--noFiles":t}),u=1===e.itemsPerRow?71:200,l={id:e.id,error:e.error,i18n:e.i18n,uppy:e.uppy,acquirers:e.acquirers,resumableUploads:e.resumableUploads,individualCancellation:e.individualCancellation,hideRetryButton:e.hideRetryButton,hidePauseResumeButton:e.hidePauseResumeButton,hideCancelButton:e.hideCancelButton,showLinkToFileUploadResult:e.showLinkToFileUploadResult,showRemoveButtonAfterComplete:e.showRemoveButtonAfterComplete,isWide:e.isWide,metaFields:e.metaFields,recoveredState:e.recoveredState,toggleFileCard:e.toggleFileCard,handleRequestThumbnail:e.handleRequestThumbnail,handleCancelThumbnail:e.handleCancelThumbnail},c=Object.keys(e.files);e.recoveredState&&c.sort((function(t,n){return e.files[n].isGhost-e.files[t].isGhost}));var p=function(e,t){var n=[],r=[];return e.forEach((function(e){r.length<t?r.push(e):(n.push(r),r=[e])})),r.length&&n.push(r),n}(c,e.itemsPerRow);return(0,r.h)(s,{class:n,role:"list",data:p,renderRow:function(t){return(0,r.h)("div",{role:"presentation",key:t[0]},t.map((function(t){return(0,r.h)(a,i({key:t,uppy:e.uppy},l,{role:"listitem",openFileEditor:e.openFileEditor,canEditFile:e.canEditFile,toggleAddFilesPanel:e.toggleAddFilesPanel,file:e.files[t]}))})))},rowHeight:u})}},64785:function(e,t,n){"use strict";var r=n(58620),i=n(17419);e.exports=function(e){var t=e.file;if(t.preview)return(0,r.h)("img",{className:"uppy-Dashboard-Item-previewImg",alt:t.name,src:t.preview});var n=i(t.type),o=n.color,a=n.icon;return(0,r.h)("div",{className:"uppy-Dashboard-Item-previewIconWrap"},(0,r.h)("span",{className:"uppy-Dashboard-Item-previewIcon",style:{color:o}},a),(0,r.h)("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-Dashboard-Item-previewIconBg",width:"58",height:"76",viewBox:"0 0 58 76"},(0,r.h)("rect",{fill:"#FFF",width:"58",height:"76",rx:"3",fillRule:"evenodd"})))}},52081:function(e,t,n){"use strict";var r=n(58620),i=n(81694),o=n(33982);e.exports=function(e){var t=e.activePickerPanel,n=e.className,a=e.hideAllPanels,s=e.i18n,u=e.state,l=e.uppy;return(0,r.h)("div",{className:i("uppy-DashboardContent-panel",n),role:"tabpanel","data-uppy-panelType":"PickerPanel",id:"uppy-DashboardContent-panel--".concat(t.id),onDragOver:o,onDragLeave:o,onDrop:o,onPaste:o},(0,r.h)("div",{className:"uppy-DashboardContent-bar"},(0,r.h)("div",{className:"uppy-DashboardContent-title",role:"heading","aria-level":"1"},s("importFrom",{name:t.name})),(0,r.h)("button",{className:"uppy-DashboardContent-back",type:"button",onClick:a},s("cancel"))),(0,r.h)("div",{className:"uppy-DashboardContent-panelBody"},l.getPlugin(t.id).render(u)))}},60360:function(e,t,n){"use strict";var r=n(58620),i="error",o="waiting",a="preprocessing",s="uploading",u="postprocessing",l="complete",c="paused";function p(e){var t=e.files,n=e.i18n,r=e.isAllComplete,p=e.isAllErrored,d=e.isAllPaused,f=e.inProgressNotPausedFiles,h=e.newFiles,v=e.processingFiles,y=function(e,t,n,r){if(void 0===r&&(r={}),e)return i;if(t)return l;if(n)return c;for(var p=o,d=Object.keys(r),f=0;f<d.length;f++){var h=r[d[f]].progress;if(h.uploadStarted&&!h.uploadComplete)return s;h.preprocess&&p!==s&&(p=a),h.postprocess&&p!==s&&p!==a&&(p=u)}return p}(p,r,d,t);switch(y){case"uploading":return n("uploadingXFiles",{smart_count:f.length});case"preprocessing":case"postprocessing":return n("processingXFiles",{smart_count:v.length});case"paused":return n("uploadPaused");case"waiting":return n("xFilesSelected",{smart_count:h.length});case"complete":return n("uploadComplete")}}e.exports=function(e){var t=e.i18n,n=e.isAllComplete,i=e.hideCancelButton,o=e.maxNumberOfFiles,a=e.toggleAddFilesPanel,s=e.uppy,u=e.allowNewUpload;return u&&o&&(u=e.totalFileCount<e.maxNumberOfFiles),(0,r.h)("div",{className:"uppy-DashboardContent-bar"},n||i?(0,r.h)("div",null):(0,r.h)("button",{className:"uppy-DashboardContent-back",type:"button",onClick:function(){return s.cancelAll()}},t("cancel")),(0,r.h)("div",{className:"uppy-DashboardContent-title",role:"heading","aria-level":"1"},(0,r.h)(p,e)),u?(0,r.h)("button",{className:"uppy-DashboardContent-addMore",type:"button","aria-label":t("addMoreFiles"),title:t("addMoreFiles"),onClick:function(){return a(!0)}},(0,r.h)("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"15",height:"15",viewBox:"0 0 15 15"},(0,r.h)("path",{d:"M8 6.5h6a.5.5 0 0 1 .5.5v.5a.5.5 0 0 1-.5.5H8v6a.5.5 0 0 1-.5.5H7a.5.5 0 0 1-.5-.5V8h-6a.5.5 0 0 1-.5-.5V7a.5.5 0 0 1 .5-.5h6v-6A.5.5 0 0 1 7 0h.5a.5.5 0 0 1 .5.5v6z"})),(0,r.h)("span",{className:"uppy-DashboardContent-addMoreCaption"},t("addMore"))):(0,r.h)("div",null))}},43205:function(e,t,n){"use strict";var r=n(34575).default,i=n(93913).default,o=n(2205).default,a=n(99842).default,s=n(58620),u=n(81694),l="uppy-transition-slideDownUp",c=function(e){o(n,e);var t=a(n);function n(e){var i;return r(this,n),(i=t.call(this,e)).state={cachedChildren:null,className:""},i}return i(n,[{key:"componentWillUpdate",value:function(e){var t=this,n=this.state.cachedChildren,r=(0,s.toChildArray)(e.children)[0];if(n===r)return null;var i={cachedChildren:r};r&&!n&&(i.className="".concat(l,"-enter"),cancelAnimationFrame(this.animationFrame),clearTimeout(this.leaveTimeout),this.leaveTimeout=void 0,this.animationFrame=requestAnimationFrame((function(){t.setState({className:"".concat(l,"-enter ").concat(l,"-enter-active")}),t.enterTimeout=setTimeout((function(){t.setState({className:""})}),250)}))),n&&!r&&void 0===this.leaveTimeout&&(i.cachedChildren=n,i.className="".concat(l,"-leave"),cancelAnimationFrame(this.animationFrame),clearTimeout(this.enterTimeout),this.enterTimeout=void 0,this.animationFrame=requestAnimationFrame((function(){t.setState({className:"".concat(l,"-leave ").concat(l,"-leave-active")}),t.leaveTimeout=setTimeout((function(){t.setState({cachedChildren:null,className:""})}),250)}))),this.setState(i)}},{key:"render",value:function(){var e=this.state,t=e.cachedChildren,n=e.className;return t?(0,s.cloneElement)(t,{className:u(n,t.props.className)}):null}}]),n}(s.Component);e.exports=c},36407:function(e,t,n){"use strict";var r=n(81109).default,i=n(6479).default,o=n(34575).default,a=n(93913).default,s=n(2205).default,u=n(99842).default,l=["data","rowHeight","renderRow","overscanCount"],c=n(58620);function p(){return p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},p.apply(this,arguments)}var d={position:"relative",width:"100%",minHeight:"100%"},f={position:"absolute",top:0,left:0,width:"100%",overflow:"visible"},h=function(e){s(n,e);var t=u(n);function n(e){var r;return o(this,n),(r=t.call(this,e)).handleScroll=function(){r.setState({offset:r.base.scrollTop})},r.handleResize=function(){r.resize()},r.focusElement=null,r.state={offset:0,height:0},r}return a(n,[{key:"componentDidMount",value:function(){this.resize(),window.addEventListener("resize",this.handleResize)}},{key:"componentWillUpdate",value:function(){this.base.contains(document.activeElement)&&(this.focusElement=document.activeElement)}},{key:"componentDidUpdate",value:function(){this.focusElement&&this.focusElement.parentNode&&document.activeElement!==this.focusElement&&this.focusElement.focus(),this.focusElement=null,this.resize()}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.handleResize)}},{key:"resize",value:function(){this.state.height!==this.base.offsetHeight&&this.setState({height:this.base.offsetHeight})}},{key:"render",value:function(e){var t=e.data,n=e.rowHeight,o=e.renderRow,a=e.overscanCount,s=void 0===a?10:a,u=i(e,l),h=this.state,v=h.offset,y=h.height,m=Math.floor(v/n),g=Math.floor(y/n);s&&(m=Math.max(0,m-m%s),g+=s);var b=m+g+4,k=t.slice(m,b),w=r(r({},d),{},{height:t.length*n}),_=r(r({},f),{},{top:m*n});return(0,c.h)("div",p({onScroll:this.handleScroll},u),(0,c.h)("div",{role:"presentation",style:w},(0,c.h)("div",{role:"presentation",style:_},k.map(o))))}}]),n}(c.Component);e.exports=h},15465:function(e,t,n){"use strict";e.exports=n(20760)},8963:function(e){"use strict";e.exports={strings:{closeModal:"Close Modal",addMoreFiles:"Add more files",addingMoreFiles:"Adding more files",importFrom:"Import from %{name}",dashboardWindowTitle:"Uppy Dashboard Window (Press escape to close)",dashboardTitle:"Uppy Dashboard",copyLinkToClipboardSuccess:"Link copied to clipboard.",copyLinkToClipboardFallback:"Copy the URL below",copyLink:"Copy link",back:"Back",removeFile:"Remove file",editFile:"Edit file",editing:"Editing %{file}",finishEditingFile:"Finish editing file",saveChanges:"Save changes",myDevice:"My Device",dropHint:"Drop your files here",uploadComplete:"Upload complete",uploadPaused:"Upload paused",resumeUpload:"Resume upload",pauseUpload:"Pause upload",retryUpload:"Retry upload",cancelUpload:"Cancel upload",xFilesSelected:{0:"%{smart_count} file selected",1:"%{smart_count} files selected"},uploadingXFiles:{0:"Uploading %{smart_count} file",1:"Uploading %{smart_count} files"},processingXFiles:{0:"Processing %{smart_count} file",1:"Processing %{smart_count} files"},poweredBy:"Powered by %{uppy}",addMore:"Add more",editFileWithFilename:"Edit file %{file}",save:"Save",cancel:"Cancel",dropPasteFiles:"Drop files here or %{browseFiles}",dropPasteFolders:"Drop files here or %{browseFolders}",dropPasteBoth:"Drop files here, %{browseFiles} or %{browseFolders}",dropPasteImportFiles:"Drop files here, %{browseFiles} or import from:",dropPasteImportFolders:"Drop files here, %{browseFolders} or import from:",dropPasteImportBoth:"Drop files here, %{browseFiles}, %{browseFolders} or import from:",importFiles:"Import files from:",browseFiles:"browse files",browseFolders:"browse folders",recoveredXFiles:{0:"We could not fully recover 1 file. Please re-select it and resume the upload.",1:"We could not fully recover %{smart_count} files. Please re-select them and resume the upload."},recoveredAllFiles:"We restored all files. You can now resume the upload.",sessionRestored:"Session restored",reSelect:"Re-select",missingRequiredMetaFields:{0:"Missing required meta field: %{fields}.",1:"Missing required meta fields: %{fields}."}}}},34189:function(e){"use strict";e.exports=function(e,t){return t||(t="Copy the URL below"),new Promise((function(n){var r=document.createElement("textarea");r.setAttribute("style",{position:"fixed",top:0,left:0,width:"2em",height:"2em",padding:0,border:"none",outline:"none",boxShadow:"none",background:"transparent"}),r.value=e,document.body.appendChild(r),r.select();var i=function(){document.body.removeChild(r),window.prompt(t,e),n()};try{return document.execCommand("copy")?(document.body.removeChild(r),n()):i()}catch(o){return document.body.removeChild(r),i()}}))}},90170:function(e,t,n){"use strict";var r=n(95095),i=n(3916),o=n(54963);e.exports=function(){var e=!1;return r((function(t,n){var r=o(t,n),a=r.contains(document.activeElement);if(!a||!e){var s=r.querySelector("[data-uppy-super-focusable]");if(!a||s)if(s)s.focus({preventScroll:!0}),e=!0;else{var u=r.querySelector(i);null==u||u.focus({preventScroll:!0}),e=!1}}}),260)}},54963:function(e){"use strict";e.exports=function(e,t){if(t){var n=e.querySelector('[data-uppy-paneltype="'.concat(t,'"]'));if(n)return n}return e}},17419:function(e,t,n){"use strict";var r=n(58620);e.exports=function(e){var t={color:"#838999",icon:(0,r.h)("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"25",height:"25",viewBox:"0 0 25 25"},(0,r.h)("g",{fill:"#A7AFB7",fillRule:"nonzero"},(0,r.h)("path",{d:"M5.5 22a.5.5 0 0 1-.5-.5v-18a.5.5 0 0 1 .5-.5h10.719a.5.5 0 0 1 .367.16l3.281 3.556a.5.5 0 0 1 .133.339V21.5a.5.5 0 0 1-.5.5h-14zm.5-1h13V7.25L16 4H6v17z"}),(0,r.h)("path",{d:"M15 4v3a1 1 0 0 0 1 1h3V7h-3V4h-1z"})))};if(!e)return t;var n=e.split("/")[0],i=e.split("/")[1];return"text"===n?{color:"#5a5e69",icon:(0,r.h)("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"25",height:"25",viewBox:"0 0 25 25"},(0,r.h)("path",{d:"M4.5 7h13a.5.5 0 1 1 0 1h-13a.5.5 0 0 1 0-1zm0 3h15a.5.5 0 1 1 0 1h-15a.5.5 0 1 1 0-1zm0 3h15a.5.5 0 1 1 0 1h-15a.5.5 0 1 1 0-1zm0 3h10a.5.5 0 1 1 0 1h-10a.5.5 0 1 1 0-1z",fill:"#5A5E69",fillRule:"nonzero"}))}:"image"===n?{color:"#686de0",icon:(0,r.h)("svg",{"aria-hidden":"true",focusable:"false",width:"25",height:"25",viewBox:"0 0 25 25"},(0,r.h)("g",{fill:"#686DE0",fillRule:"evenodd"},(0,r.h)("path",{d:"M5 7v10h15V7H5zm0-1h15a1 1 0 0 1 1 1v10a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1z",fillRule:"nonzero"}),(0,r.h)("path",{d:"M6.35 17.172l4.994-5.026a.5.5 0 0 1 .707 0l2.16 2.16 3.505-3.505a.5.5 0 0 1 .707 0l2.336 2.31-.707.72-1.983-1.97-3.505 3.505a.5.5 0 0 1-.707 0l-2.16-2.159-3.938 3.939-1.409.026z",fillRule:"nonzero"}),(0,r.h)("circle",{cx:"7.5",cy:"9.5",r:"1.5"})))}:"audio"===n?{color:"#068dbb",icon:(0,r.h)("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"25",height:"25",viewBox:"0 0 25 25"},(0,r.h)("path",{d:"M9.5 18.64c0 1.14-1.145 2-2.5 2s-2.5-.86-2.5-2c0-1.14 1.145-2 2.5-2 .557 0 1.079.145 1.5.396V7.25a.5.5 0 0 1 .379-.485l9-2.25A.5.5 0 0 1 18.5 5v11.64c0 1.14-1.145 2-2.5 2s-2.5-.86-2.5-2c0-1.14 1.145-2 2.5-2 .557 0 1.079.145 1.5.396V8.67l-8 2v7.97zm8-11v-2l-8 2v2l8-2zM7 19.64c.855 0 1.5-.484 1.5-1s-.645-1-1.5-1-1.5.484-1.5 1 .645 1 1.5 1zm9-2c.855 0 1.5-.484 1.5-1s-.645-1-1.5-1-1.5.484-1.5 1 .645 1 1.5 1z",fill:"#049BCF",fillRule:"nonzero"}))}:"video"===n?{color:"#19af67",icon:(0,r.h)("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"25",height:"25",viewBox:"0 0 25 25"},(0,r.h)("path",{d:"M16 11.834l4.486-2.691A1 1 0 0 1 22 10v6a1 1 0 0 1-1.514.857L16 14.167V17a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V9a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v2.834zM15 9H5v8h10V9zm1 4l5 3v-6l-5 3z",fill:"#19AF67",fillRule:"nonzero"}))}:"application"===n&&"pdf"===i?{color:"#e25149",icon:(0,r.h)("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"25",height:"25",viewBox:"0 0 25 25"},(0,r.h)("path",{d:"M9.766 8.295c-.691-1.843-.539-3.401.747-3.726 1.643-.414 2.505.938 2.39 3.299-.039.79-.194 1.662-.537 3.148.324.49.66.967 1.055 1.51.17.231.382.488.629.757 1.866-.128 3.653.114 4.918.655 1.487.635 2.192 1.685 1.614 2.84-.566 1.133-1.839 1.084-3.416.249-1.141-.604-2.457-1.634-3.51-2.707a13.467 13.467 0 0 0-2.238.426c-1.392 4.051-4.534 6.453-5.707 4.572-.986-1.58 1.38-4.206 4.914-5.375.097-.322.185-.656.264-1.001.08-.353.306-1.31.407-1.737-.678-1.059-1.2-2.031-1.53-2.91zm2.098 4.87c-.033.144-.068.287-.104.427l.033-.01-.012.038a14.065 14.065 0 0 1 1.02-.197l-.032-.033.052-.004a7.902 7.902 0 0 1-.208-.271c-.197-.27-.38-.526-.555-.775l-.006.028-.002-.003c-.076.323-.148.632-.186.8zm5.77 2.978c1.143.605 1.832.632 2.054.187.26-.519-.087-1.034-1.113-1.473-.911-.39-2.175-.608-3.55-.608.845.766 1.787 1.459 2.609 1.894zM6.559 18.789c.14.223.693.16 1.425-.413.827-.648 1.61-1.747 2.208-3.206-2.563 1.064-4.102 2.867-3.633 3.62zm5.345-10.97c.088-1.793-.351-2.48-1.146-2.28-.473.119-.564 1.05-.056 2.405.213.566.52 1.188.908 1.859.18-.858.268-1.453.294-1.984z",fill:"#E2514A",fillRule:"nonzero"}))}:"application"===n&&-1!==["zip","x-7z-compressed","x-rar-compressed","x-tar","x-gzip","x-apple-diskimage"].indexOf(i)?{color:"#00C469",icon:(0,r.h)("svg",{"aria-hidden":"true",focusable:"false",width:"25",height:"25",viewBox:"0 0 25 25"},(0,r.h)("path",{d:"M10.45 2.05h1.05a.5.5 0 0 1 .5.5v.024a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5V2.55a.5.5 0 0 1 .5-.5zm2.05 1.024h1.05a.5.5 0 0 1 .5.5V3.6a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5v-.001zM10.45 0h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5V.5a.5.5 0 0 1 .5-.5zm2.05 1.025h1.05a.5.5 0 0 1 .5.5v.024a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.024a.5.5 0 0 1 .5-.5zm-2.05 3.074h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5zm2.05 1.025h1.05a.5.5 0 0 1 .5.5v.024a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.024a.5.5 0 0 1 .5-.5zm-2.05 1.024h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5zm2.05 1.025h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5zm-2.05 1.025h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5zm2.05 1.025h1.05a.5.5 0 0 1 .5.5v.024a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.024a.5.5 0 0 1 .5-.5zm-1.656 3.074l-.82 5.946c.52.302 1.174.458 1.976.458.803 0 1.455-.156 1.975-.458l-.82-5.946h-2.311zm0-1.025h2.312c.512 0 .946.378 1.015.885l.82 5.946c.056.412-.142.817-.501 1.026-.686.398-1.515.597-2.49.597-.974 0-1.804-.199-2.49-.597a1.025 1.025 0 0 1-.5-1.026l.819-5.946c.07-.507.503-.885 1.015-.885zm.545 6.6a.5.5 0 0 1-.397-.561l.143-.999a.5.5 0 0 1 .495-.429h.74a.5.5 0 0 1 .495.43l.143.998a.5.5 0 0 1-.397.561c-.404.08-.819.08-1.222 0z",fill:"#00C469",fillRule:"nonzero"}))}:t}},33982:function(e){"use strict";e.exports=function(e){var t=e.target.tagName;"INPUT"!==t&&"TEXTAREA"!==t?(e.preventDefault(),e.stopPropagation()):e.stopPropagation()}},84707:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.forInline=function(e,t,n){null===t||s(e,t,n)},t.forModal=s;var r=n(74894),i=n(3916),o=n(54963);function a(e,t){var n=t[0];n&&(n.focus(),e.preventDefault())}function s(e,t,n){var s=o(n,t),u=r(s.querySelectorAll(i)),l=u.indexOf(document.activeElement);!function(e){return e.contains(document.activeElement)}(s)?a(e,u):e.shiftKey&&0===l?function(e,t){var n=t[t.length-1];n&&(n.focus(),e.preventDefault())}(e,u):e.shiftKey||l!==u.length-1||a(e,u)}},87851:function(e,t,n){"use strict";var r=n(34575).default,i=n(93913).default,o=n(2205).default,a=n(99842).default,s=n(58620),u=function(e){o(n,e);var t=a(n);function n(){var e;return r(this,n),(e=t.apply(this,arguments)).ref=(0,s.createRef)(),e}return i(n,[{key:"componentWillEnter",value:function(e){this.ref.current.style.opacity="1",this.ref.current.style.transform="none",setTimeout(e,300)}},{key:"componentWillLeave",value:function(e){this.ref.current.style.opacity="0",this.ref.current.style.transform="translateY(350%)",setTimeout(e,300)}},{key:"render",value:function(){var e=this.props.children;return(0,s.h)("div",{className:"uppy-Informer-animated",ref:this.ref},e)}}]),n}(s.Component);e.exports=u},72953:function(e,t,n){"use strict";var r=n(81109).default,i=n(34575).default,o=n(93913).default,a=n(2205).default,s=n(99842).default,u=n(58620),l=n(65025),c=n(87851),p=n(84466),d=function(e){a(n,e);var t=s(n);function n(e,o){var a;i(this,n),(a=t.call(this,e,o)).render=function(e){return(0,u.h)("div",{className:"uppy uppy-Informer"},(0,u.h)(p,null,e.info.map((function(e){return(0,u.h)(c,{key:e.message},(0,u.h)("p",{role:"alert"},e.message," ",e.details&&(0,u.h)("span",{"aria-label":e.details,"data-microtip-position":"top-left","data-microtip-size":"medium",role:"tooltip",onClick:function(){return alert("".concat(e.message," \n\n ").concat(e.details))}},"?")))}))))},a.type="progressindicator",a.id=a.opts.id||"Informer",a.title="Informer";return a.opts=r(r({},{}),o),a}return o(n,[{key:"install",value:function(){var e=this.opts.target;e&&this.mount(e,this)}}]),n}(l.UIPlugin);d.VERSION="2.1.1",e.exports=d},84466:function(e,t,n){"use strict";var r=n(6479).default,i=n(34575).default,o=n(93913).default,a=n(81506).default,s=n(2205).default,u=n(99842).default,l=["childFactory","transitionLeave","transitionName","transitionAppear","transitionEnter","transitionLeaveTimeout","transitionEnterTimeout","transitionAppearTimeout","component"],c=n(58620);function p(e,t){var n;return null!=(n=null==e?void 0:e.key)?n:t}function d(e,t){var n=e._ptgLinkedRefs||(e._ptgLinkedRefs={});return n[t]||(n[t]=function(n){e.refs[t]=n})}function f(e){for(var t={},n=0;n<e.length;n++){if(null!=e[n])t[p(e[n],n.toString(36))]=e[n]}return t}function h(e,t){e=e||{},t=t||{};var n=function(n){return t.hasOwnProperty(n)?t[n]:e[n]},r={},i=[];for(var o in e)t.hasOwnProperty(o)?i.length&&(r[o]=i,i=[]):i.push(o);var a={};for(var s in t){if(r.hasOwnProperty(s))for(var u=0;u<r[s].length;u++){var l=r[s][u];a[r[s][u]]=n(l)}a[s]=n(s)}for(var c=0;c<i.length;c++)a[i[c]]=n(i[c]);return a}var v=function(e){s(n,e);var t=u(n);function n(e,r){var o;return i(this,n),(o=t.call(this,e,r)).refs={},o.state={children:f((0,c.toChildArray)((0,c.toChildArray)(o.props.children))||[])},o.performAppear=o.performAppear.bind(a(o)),o.performEnter=o.performEnter.bind(a(o)),o.performLeave=o.performLeave.bind(a(o)),o}return o(n,[{key:"componentWillMount",value:function(){this.currentlyTransitioningKeys={},this.keysToAbortLeave=[],this.keysToEnter=[],this.keysToLeave=[]}},{key:"componentDidMount",value:function(){var e=this.state.children;for(var t in e)e[t]&&this.performAppear(t)}},{key:"componentWillReceiveProps",value:function(e){var t,n=f((0,c.toChildArray)(e.children)||[]),r=this.state.children;for(t in this.setState((function(e){return{children:h(e.children,n)}})),n)if(n.hasOwnProperty(t)){var i=r&&r.hasOwnProperty(t);n[t]&&i&&this.currentlyTransitioningKeys[t]?(this.keysToEnter.push(t),this.keysToAbortLeave.push(t)):!n[t]||i||this.currentlyTransitioningKeys[t]||this.keysToEnter.push(t)}for(t in r)if(r.hasOwnProperty(t)){var o=n&&n.hasOwnProperty(t);!r[t]||o||this.currentlyTransitioningKeys[t]||this.keysToLeave.push(t)}}},{key:"componentDidUpdate",value:function(){var e=this.keysToEnter;this.keysToEnter=[],e.forEach(this.performEnter);var t=this.keysToLeave;this.keysToLeave=[],t.forEach(this.performLeave)}},{key:"_finishAbort",value:function(e){var t=this.keysToAbortLeave.indexOf(e);-1!==t&&this.keysToAbortLeave.splice(t,1)}},{key:"performAppear",value:function(e){this.currentlyTransitioningKeys[e]=!0;var t=this.refs[e];t.componentWillAppear?t.componentWillAppear(this._handleDoneAppearing.bind(this,e)):this._handleDoneAppearing(e)}},{key:"_handleDoneAppearing",value:function(e){var t=this.refs[e];t.componentDidAppear&&t.componentDidAppear(),delete this.currentlyTransitioningKeys[e],this._finishAbort(e);var n=f((0,c.toChildArray)(this.props.children)||[]);n&&n.hasOwnProperty(e)||this.performLeave(e)}},{key:"performEnter",value:function(e){this.currentlyTransitioningKeys[e]=!0;var t=this.refs[e];t.componentWillEnter?t.componentWillEnter(this._handleDoneEntering.bind(this,e)):this._handleDoneEntering(e)}},{key:"_handleDoneEntering",value:function(e){var t=this.refs[e];t.componentDidEnter&&t.componentDidEnter(),delete this.currentlyTransitioningKeys[e],this._finishAbort(e);var n=f((0,c.toChildArray)(this.props.children)||[]);n&&n.hasOwnProperty(e)||this.performLeave(e)}},{key:"performLeave",value:function(e){if(-1===this.keysToAbortLeave.indexOf(e)){this.currentlyTransitioningKeys[e]=!0;var t=this.refs[e];t.componentWillLeave?t.componentWillLeave(this._handleDoneLeaving.bind(this,e)):this._handleDoneLeaving(e)}}},{key:"_handleDoneLeaving",value:function(e){if(-1===this.keysToAbortLeave.indexOf(e)){var t=this.refs[e];t.componentDidLeave&&t.componentDidLeave(),delete this.currentlyTransitioningKeys[e];var n,r,i=f((0,c.toChildArray)(this.props.children)||[]);if(i&&i.hasOwnProperty(e))this.performEnter(e);else{var o=(n={},r=this.state.children,Object.assign(n,r));delete o[e],this.setState({children:o})}}}},{key:"render",value:function(e,t){var n=e.childFactory,i=(e.transitionLeave,e.transitionName,e.transitionAppear,e.transitionEnter,e.transitionLeaveTimeout,e.transitionEnterTimeout,e.transitionAppearTimeout,e.component),o=r(e,l),a=t.children,s=[];for(var u in a)if(a.hasOwnProperty(u)){var p=a[u];if(p){var f=d(this,u),h=(0,c.cloneElement)(n(p),{ref:f,key:u});s.push(h)}}return(0,c.h)(i,o,s)}}]),n}(c.Component);v.defaultProps={component:"span",childFactory:function(e){return e}},e.exports=v},46775:function(e,t,n){"use strict";e.exports=n(72953)},19009:function(e,t,n){"use strict";var r=n(63038).default,i=n(81109).default,o=n(34575).default,a=n(93913).default,s=n(2205).default,u=n(99842).default,l=n(65025),c=n(33677),p=n(24442),d=n(50455),f=n(85093),h=n(31387);var v=function(e){s(n,e);var t=u(n);function n(e,r){var a;o(this,n),(a=t.call(this,e,r)).onFileAdded=function(e){!e.preview&&e.data&&f(e.type)&&!e.isRemote&&a.addToQueue(e.id)},a.onCancelRequest=function(e){var t=a.queue.indexOf(e.id);-1!==t&&a.queue.splice(t,1)},a.onFileRemoved=function(e){var t=a.queue.indexOf(e.id);-1!==t&&a.queue.splice(t,1),e.preview&&d(e.preview)&&URL.revokeObjectURL(e.preview)},a.onRestored=function(){a.uppy.getFiles().filter((function(e){return e.isRestored})).forEach((function(e){e.preview&&!d(e.preview)||a.addToQueue(e.id)}))},a.onAllFilesRemoved=function(){a.queue=[]},a.waitUntilAllProcessed=function(e){e.forEach((function(e){var t=a.uppy.getFile(e);a.uppy.emit("preprocess-progress",t,{mode:"indeterminate",message:a.i18n("generatingThumbnails")})}));var t=function(){e.forEach((function(e){var t=a.uppy.getFile(e);a.uppy.emit("preprocess-complete",t)}))};return new Promise((function(e){a.queueProcessing?a.uppy.once("thumbnail:all-generated",(function(){t(),e()})):(t(),e())}))},a.type="modifier",a.id=a.opts.id||"ThumbnailGenerator",a.title="Thumbnail Generator",a.queue=[],a.queueProcessing=!1,a.defaultThumbnailDimension=200,a.thumbnailType=a.opts.thumbnailType||"image/jpeg",a.defaultLocale=h;if(a.opts=i(i({},{thumbnailWidth:null,thumbnailHeight:null,waitForThumbnailsBeforeUpload:!1,lazy:!1}),r),a.i18nInit(),a.opts.lazy&&a.opts.waitForThumbnailsBeforeUpload)throw new Error("ThumbnailGenerator: The `lazy` and `waitForThumbnailsBeforeUpload` options are mutually exclusive. Please ensure at most one of them is set to `true`.");return a}return a(n,[{key:"createThumbnail",value:function(e,t,n){var i=this,o=URL.createObjectURL(e.data),a=new Promise((function(e,t){var n=new Image;n.src=o,n.addEventListener("load",(function(){URL.revokeObjectURL(o),e(n)})),n.addEventListener("error",(function(e){URL.revokeObjectURL(o),t(e.error||new Error("Could not create thumbnail"))}))})),s=(0,c.rotation)(e.data).catch((function(){return 1}));return Promise.all([a,s]).then((function(e){var o=r(e,2),a=o[0],s=o[1],u=i.getProportionalDimensions(a,t,n,s.deg),l=i.rotateImage(a,s),c=i.resizeImage(l,u.width,u.height);return i.canvasToBlob(c,i.thumbnailType,80)})).then((function(e){return URL.createObjectURL(e)}))}},{key:"getProportionalDimensions",value:function(e,t,n,r){var i=e.width/e.height;return 90!==r&&270!==r||(i=e.height/e.width),null!=t?{width:t,height:Math.round(t/i)}:null!=n?{width:Math.round(n*i),height:n}:{width:this.defaultThumbnailDimension,height:Math.round(this.defaultThumbnailDimension/i)}}},{key:"resizeImage",value:function(e,t,n){var r=this.protect(e),i=Math.ceil(Math.log2(r.width/t));i<1&&(i=1);for(var o=t*Math.pow(2,i-1),a=n*Math.pow(2,i-1);i--;){var s=document.createElement("canvas");s.width=o,s.height=a,s.getContext("2d").drawImage(r,0,0,o,a),r=s,o=Math.round(o/2),a=Math.round(a/2)}return r}},{key:"setPreviewURL",value:function(e,t){this.uppy.setFileState(e,{preview:t})}},{key:"addToQueue",value:function(e){this.queue.push(e),!1===this.queueProcessing&&this.processQueue()}},{key:"processQueue",value:function(){var e=this;if(this.queueProcessing=!0,this.queue.length>0){var t=this.uppy.getFile(this.queue.shift());return t?this.requestThumbnail(t).catch((function(){})).then((function(){return e.processQueue()})):(this.uppy.log("[ThumbnailGenerator] file was removed before a thumbnail could be generated, but not removed from the queue. This is probably a bug","error"),Promise.resolve())}return this.queueProcessing=!1,this.uppy.log("[ThumbnailGenerator] Emptied thumbnail queue"),this.uppy.emit("thumbnail:all-generated"),Promise.resolve()}},{key:"requestThumbnail",value:function(e){var t=this;return f(e.type)&&!e.isRemote?this.createThumbnail(e,this.opts.thumbnailWidth,this.opts.thumbnailHeight).then((function(n){t.setPreviewURL(e.id,n),t.uppy.log("[ThumbnailGenerator] Generated thumbnail for ".concat(e.id)),t.uppy.emit("thumbnail:generated",t.uppy.getFile(e.id),n)})).catch((function(n){t.uppy.log("[ThumbnailGenerator] Failed thumbnail for ".concat(e.id,":"),"warning"),t.uppy.log(n,"warning"),t.uppy.emit("thumbnail:error",t.uppy.getFile(e.id),n)})):Promise.resolve()}},{key:"install",value:function(){this.uppy.on("file-removed",this.onFileRemoved),this.uppy.on("cancel-all",this.onAllFilesRemoved),this.opts.lazy?(this.uppy.on("thumbnail:request",this.onFileAdded),this.uppy.on("thumbnail:cancel",this.onCancelRequest)):(this.uppy.on("file-added",this.onFileAdded),this.uppy.on("restored",this.onRestored)),this.opts.waitForThumbnailsBeforeUpload&&this.uppy.addPreProcessor(this.waitUntilAllProcessed)}},{key:"uninstall",value:function(){this.uppy.off("file-removed",this.onFileRemoved),this.uppy.off("cancel-all",this.onAllFilesRemoved),this.opts.lazy?(this.uppy.off("thumbnail:request",this.onFileAdded),this.uppy.off("thumbnail:cancel",this.onCancelRequest)):(this.uppy.off("file-added",this.onFileAdded),this.uppy.off("restored",this.onRestored)),this.opts.waitForThumbnailsBeforeUpload&&this.uppy.removePreProcessor(this.waitUntilAllProcessed)}}]),n}(l.UIPlugin);v.VERSION="2.2.2",e.exports=v,v.prototype.canvasToBlob=function(e,t,n){try{e.getContext("2d").getImageData(0,0,1,1)}catch(r){if(18===r.code)return Promise.reject(new Error("cannot read image, probably an svg with external resources"))}return e.toBlob?new Promise((function(r){e.toBlob(r,t,n)})).then((function(e){if(null===e)throw new Error("cannot read image, probably an svg with external resources");return e})):Promise.resolve().then((function(){return p(e.toDataURL(t,n),{})})).then((function(e){if(null===e)throw new Error("could not extract blob, probably an old browser");return e}))},v.prototype.protect=function(e){var t=e.width/e.height,n=5e6,r=4096,i=Math.floor(Math.sqrt(n*t)),o=Math.floor(n/Math.sqrt(n*t));if(i>r&&(i=r,o=Math.round(i/t)),o>r&&(o=r,i=Math.round(t*o)),e.width>i){var a=document.createElement("canvas");return a.width=i,a.height=o,a.getContext("2d").drawImage(e,0,0,i,o),a}return e},v.prototype.rotateImage=function(e,t){var n=e.width,r=e.height;90!==t.deg&&270!==t.deg||(n=e.height,r=e.width);var i=document.createElement("canvas");i.width=n,i.height=r;var o=i.getContext("2d");return o.translate(n/2,r/2),t.canvas&&(o.rotate(t.rad),o.scale(t.scaleX,t.scaleY)),o.drawImage(e,-e.width/2,-e.height/2,e.width,e.height),i}},31387:function(e){"use strict";e.exports={strings:{generatingThumbnails:"Generating thumbnails..."}}},8275:function(e,t,n){"use strict";var r=n(81109).default,i=n(87757),o=n(48926).default,a=n(34575).default,s=n(93913).default,u=n(81506).default,l=n(2205).default,c=n(99842).default,p=n(65025),d=n(58620),f=n(74894),h=n(8880),v=n(5005),y=n(3576),m=function(e){l(n,e);var t=c(n);function n(e,s){var l;a(this,n),(l=t.call(this,e,s)).handleDrop=function(){var e=o(i.mark((function e(t){var n,r,o,a;return i.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),t.stopPropagation(),clearTimeout(l.removeDragOverClassTimeout),l.setPluginState({isDraggingOver:!1}),o=function(e){l.uppy.log(e,"error")},e.next=7,v(t.dataTransfer,{logDropError:o});case 7:(a=e.sent).length>0&&(l.uppy.log("[DragDrop] Files dropped"),l.addFiles(a)),null==(n=(r=l.opts).onDrop)||n.call(r,t);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),l.type="acquirer",l.id=l.opts.id||"DragDrop",l.title="Drag & Drop",l.defaultLocale=y;return l.opts=r(r({},{target:null,inputName:"files[]",width:"100%",height:"100%",note:null}),s),l.i18nInit(),l.isDragDropSupported=h(),l.removeDragOverClassTimeout=null,l.onInputChange=l.onInputChange.bind(u(l)),l.handleDragOver=l.handleDragOver.bind(u(l)),l.handleDragLeave=l.handleDragLeave.bind(u(l)),l.handleDrop=l.handleDrop.bind(u(l)),l.addFiles=l.addFiles.bind(u(l)),l.render=l.render.bind(u(l)),l}return s(n,[{key:"addFiles",value:function(e){var t=this,n=e.map((function(e){return{source:t.id,name:e.name,type:e.type,data:e,meta:{relativePath:e.relativePath||null}}}));try{this.uppy.addFiles(n)}catch(r){this.uppy.log(r)}}},{key:"onInputChange",value:function(e){var t=f(e.target.files);t.length>0&&(this.uppy.log("[DragDrop] Files selected through input"),this.addFiles(t)),e.target.value=null}},{key:"handleDragOver",value:function(e){var t,n;e.preventDefault(),e.stopPropagation();var r=e.dataTransfer.types.some((function(e){return"Files"===e})),i=this.uppy.getState().allowNewUpload;if(!r||!i)return e.dataTransfer.dropEffect="none",void clearTimeout(this.removeDragOverClassTimeout);e.dataTransfer.dropEffect="copy",clearTimeout(this.removeDragOverClassTimeout),this.setPluginState({isDraggingOver:!0}),null==(t=(n=this.opts).onDragOver)||t.call(n,e)}},{key:"handleDragLeave",value:function(e){var t,n,r=this;e.preventDefault(),e.stopPropagation(),clearTimeout(this.removeDragOverClassTimeout),this.removeDragOverClassTimeout=setTimeout((function(){r.setPluginState({isDraggingOver:!1})}),50),null==(t=(n=this.opts).onDragLeave)||t.call(n,e)}},{key:"renderHiddenFileInput",value:function(){var e=this,t=this.uppy.opts.restrictions;return(0,d.h)("input",{className:"uppy-DragDrop-input",type:"file",hidden:!0,ref:function(t){e.fileInputRef=t},name:this.opts.inputName,multiple:1!==t.maxNumberOfFiles,accept:t.allowedFileTypes,onChange:this.onInputChange})}},{key:"renderLabel",value:function(){return(0,d.h)("div",{className:"uppy-DragDrop-label"},this.i18nArray("dropHereOr",{browse:(0,d.h)("span",{className:"uppy-DragDrop-browse"},this.i18n("browse"))}))}},{key:"renderNote",value:function(){return(0,d.h)("span",{className:"uppy-DragDrop-note"},this.opts.note)}},{key:"render",value:function(){var e=this,t="uppy-u-reset\n      uppy-DragDrop-container\n      ".concat(this.isDragDropSupported?"uppy-DragDrop--isDragDropSupported":"","\n      ").concat(this.getPluginState().isDraggingOver?"uppy-DragDrop--isDraggingOver":"","\n    "),r={width:this.opts.width,height:this.opts.height};return(0,d.h)("button",{type:"button",className:t,style:r,onClick:function(){return e.fileInputRef.click()},onDragOver:this.handleDragOver,onDragLeave:this.handleDragLeave,onDrop:this.handleDrop},this.renderHiddenFileInput(),(0,d.h)("div",{className:"uppy-DragDrop-inner"},n.renderArrowSvg(),this.renderLabel(),this.renderNote()))}},{key:"install",value:function(){var e=this.opts.target;this.setPluginState({isDraggingOver:!1}),e&&this.mount(e,this)}},{key:"uninstall",value:function(){this.unmount()}}],[{key:"renderArrowSvg",value:function(){return(0,d.h)("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon uppy-DragDrop-arrow",width:"16",height:"16",viewBox:"0 0 16 16"},(0,d.h)("path",{d:"M11 10V0H5v10H2l6 6 6-6h-3zm0 0",fillRule:"evenodd"}))}}]),n}(p.UIPlugin);m.VERSION="2.1.2",e.exports=m},15581:function(e,t,n){"use strict";e.exports=n(8275)},3576:function(e){"use strict";e.exports={strings:{dropHereOr:"Drop here or %{browse}",browse:"browse"}}},11793:function(e,t,n){"use strict";var r=n(81109).default,i=n(34575).default,o=n(93913).default,a=n(81506).default,s=n(2205).default,u=n(99842).default,l=n(65025),c=n(58620),p=n(74894),d=n(80513),f=function(e){s(n,e);var t=u(n);function n(e,o){var s;i(this,n),(s=t.call(this,e,o)).id=s.opts.id||"FileInput",s.title="File Input",s.type="acquirer",s.defaultLocale=d;return s.opts=r(r({},{target:null,pretty:!0,inputName:"files[]"}),o),s.i18nInit(),s.render=s.render.bind(a(s)),s.handleInputChange=s.handleInputChange.bind(a(s)),s.handleClick=s.handleClick.bind(a(s)),s}return o(n,[{key:"addFiles",value:function(e){var t=this,n=e.map((function(e){return{source:t.id,name:e.name,type:e.type,data:e}}));try{this.uppy.addFiles(n)}catch(r){this.uppy.log(r)}}},{key:"handleInputChange",value:function(e){this.uppy.log("[FileInput] Something selected through input...");var t=p(e.target.files);this.addFiles(t),e.target.value=null}},{key:"handleClick",value:function(){this.input.click()}},{key:"render",value:function(){var e=this,t=this.uppy.opts.restrictions,n=t.allowedFileTypes?t.allowedFileTypes.join(","):null;return(0,c.h)("div",{className:"uppy-FileInput-container"},(0,c.h)("input",{className:"uppy-FileInput-input",style:this.opts.pretty&&{width:"0.1px",height:"0.1px",opacity:0,overflow:"hidden",position:"absolute",zIndex:-1},type:"file",name:this.opts.inputName,onChange:this.handleInputChange,multiple:1!==t.maxNumberOfFiles,accept:n,ref:function(t){e.input=t}}),this.opts.pretty&&(0,c.h)("button",{className:"uppy-FileInput-btn",type:"button",onClick:this.handleClick},this.i18n("chooseFiles")))}},{key:"install",value:function(){var e=this.opts.target;e&&this.mount(e,this)}},{key:"uninstall",value:function(){this.unmount()}}]),n}(l.UIPlugin);f.VERSION="2.1.2",e.exports=f},92236:function(e,t,n){"use strict";e.exports=n(11793)},80513:function(e){"use strict";e.exports={strings:{chooseFiles:"Choose files"}}},49321:function(e,t,n){"use strict";var r=n(81109).default,i=n(34575).default,o=n(93913).default,a=n(81506).default,s=n(2205).default,u=n(99842).default,l=n(58620),c=function(e){s(n,e);var t=u(n);function n(e,o){var s;i(this,n),(s=t.call(this,e,o)).id=s.opts.id||"ProgressBar",s.title="Progress Bar",s.type="progressindicator";return s.opts=r(r({},{target:"body",fixed:!1,hideAfterFinish:!0}),o),s.render=s.render.bind(a(s)),s}return o(n,[{key:"render",value:function(e){var t=e.totalProgress||0,n=(0===t||100===t)&&this.opts.hideAfterFinish;return(0,l.h)("div",{className:"uppy uppy-ProgressBar",style:{position:this.opts.fixed?"fixed":"initial"},"aria-hidden":n},(0,l.h)("div",{className:"uppy-ProgressBar-inner",style:{width:"".concat(t,"%")}}),(0,l.h)("div",{className:"uppy-ProgressBar-percentage"},t))}},{key:"install",value:function(){var e=this.opts.target;e&&this.mount(e,this)}},{key:"uninstall",value:function(){this.unmount()}}]),n}(n(65025).UIPlugin);c.VERSION="2.1.2",e.exports=c},30878:function(e,t,n){"use strict";e.exports=n(49321)},52602:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CancelBtn=function(e){var t=e.i18n,n=e.uppy;return(0,r.h)("button",{type:"button",className:"uppy-u-reset uppy-StatusBar-actionCircleBtn",title:t("cancel"),"aria-label":t("cancel"),onClick:function(){return n.cancelAll()},"data-cy":"cancel","data-uppy-super-focusable":!0},(0,r.h)("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"16",height:"16",viewBox:"0 0 16 16"},(0,r.h)("g",{fill:"none",fillRule:"evenodd"},(0,r.h)("circle",{fill:"#888",cx:"8",cy:"8",r:"8"}),(0,r.h)("path",{fill:"#FFF",d:"M9.283 8l2.567 2.567-1.283 1.283L8 9.283 5.433 11.85 4.15 10.567 6.717 8 4.15 5.433 5.433 4.15 8 6.717l2.567-2.567 1.283 1.283z"}))))},t.DoneBtn=function(e){var t=e.i18n,n=e.doneButtonHandler;return(0,r.h)("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-StatusBar-actionBtn uppy-StatusBar-actionBtn--done",onClick:n,"data-uppy-super-focusable":!0},t("done"))},t.LoadingSpinner=c,t.PauseResumeButton=function(e){var t=e.isAllPaused,n=e.i18n,i=e.isAllComplete,o=e.resumableUploads,a=e.uppy,s=n(t?"resume":"pause");return(0,r.h)("button",{title:s,"aria-label":s,className:"uppy-u-reset uppy-StatusBar-actionCircleBtn",type:"button",onClick:function(){return i?null:o?t?a.resumeAll():a.pauseAll():a.cancelAll()},"data-uppy-super-focusable":!0},(0,r.h)("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"16",height:"16",viewBox:"0 0 16 16"},(0,r.h)("g",{fill:"none",fillRule:"evenodd"},(0,r.h)("circle",{fill:"#888",cx:"8",cy:"8",r:"8"}),(0,r.h)("path",{fill:"#FFF",d:t?"M6 4.25L11.5 8 6 11.75z":"M5 4.5h2v7H5v-7zm4 0h2v7H9v-7z"}))))},t.ProgressBarComplete=function(e){var t=e.i18n;return(0,r.h)("div",{className:"uppy-StatusBar-content",role:"status",title:t("complete")},(0,r.h)("div",{className:"uppy-StatusBar-status"},(0,r.h)("div",{className:"uppy-StatusBar-statusPrimary"},(0,r.h)("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-StatusBar-statusIndicator uppy-c-icon",width:"15",height:"11",viewBox:"0 0 15 11"},(0,r.h)("path",{d:"M.414 5.843L1.627 4.63l3.472 3.472L13.202 0l1.212 1.213L5.1 10.528z"})),t("complete"))))},t.ProgressBarError=function(e){var t=e.error,n=e.i18n,i=e.complete,o=e.numUploads;return(0,r.h)("div",{className:"uppy-StatusBar-content",title:n("uploadFailed")},(0,r.h)("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-StatusBar-statusIndicator uppy-c-icon",width:"11",height:"11",viewBox:"0 0 11 11"},(0,r.h)("path",{d:"M4.278 5.5L0 1.222 1.222 0 5.5 4.278 9.778 0 11 1.222 6.722 5.5 11 9.778 9.778 11 5.5 6.722 1.222 11 0 9.778z"})),(0,r.h)("div",{className:"uppy-StatusBar-status"},(0,r.h)("div",{className:"uppy-StatusBar-statusPrimary"},n("uploadFailed"),(0,r.h)("button",{className:"uppy-u-reset uppy-StatusBar-details","aria-label":n("showErrorDetails"),"data-microtip-position":"top-right","data-microtip-size":"medium",onClick:function(){var e="".concat(n("uploadFailed")," \n\n ").concat(t);alert(e)},type:"button"},"?")),(0,r.h)(d,{i18n:n,complete:i,numUploads:o})))},t.ProgressBarProcessing=function(e){var t=e.progress,n=t.value,i=t.mode,o=t.message,a=Math.round(100*n);return(0,r.h)("div",{className:"uppy-StatusBar-content"},(0,r.h)(c,null),"determinate"===i?"".concat(a,"% ").concat("\xb7"," "):"",o)},t.ProgressBarUploading=function(e){var t=e.i18n,n=e.supportsUploadProgress,i=e.totalProgress,o=e.showProgressDetails,a=e.isUploadStarted,s=e.isAllComplete,u=e.isAllPaused,l=e.newFiles,p=e.numUploads,v=e.complete,y=e.totalUploadedSize,m=e.totalSize,g=e.totalETA,b=e.startUpload,k=l&&a;if(!a||s)return null;var w=t(u?"paused":"uploading");return(0,r.h)("div",{className:"uppy-StatusBar-content","aria-label":w,title:w},u?null:(0,r.h)(c,null),(0,r.h)("div",{className:"uppy-StatusBar-status"},(0,r.h)("div",{className:"uppy-StatusBar-statusPrimary"},n?"".concat(w,": ").concat(i,"%"):w),u||k||!o?null:n?(0,r.h)(h,{numUploads:p,complete:v,totalUploadedSize:y,totalSize:m,totalETA:g,i18n:t}):(0,r.h)(d,{i18n:t,complete:v,numUploads:p}),k?(0,r.h)(f,{i18n:t,newFiles:l,startUpload:b}):null))},t.ProgressDetails=p,t.RetryBtn=function(e){var t=e.i18n,n=e.uppy;return(0,r.h)("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-StatusBar-actionBtn uppy-StatusBar-actionBtn--retry","aria-label":t("retryUpload"),onClick:function(){return n.retryAll()},"data-uppy-super-focusable":!0},(0,r.h)("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"8",height:"10",viewBox:"0 0 8 10"},(0,r.h)("path",{d:"M4 2.408a2.75 2.75 0 1 0 2.75 2.75.626.626 0 0 1 1.25.018v.023a4 4 0 1 1-4-4.041V.25a.25.25 0 0 1 .389-.208l2.299 1.533a.25.25 0 0 1 0 .416l-2.3 1.533A.25.25 0 0 1 4 3.316v-.908z"})),t("retry"))},t.UploadBtn=function(e){var t=e.newFiles,n=e.isUploadStarted,o=e.recoveredState,a=e.i18n,s=e.uploadState,l=e.isSomeGhost,c=e.startUpload,p=i("uppy-u-reset","uppy-c-btn","uppy-StatusBar-actionBtn","uppy-StatusBar-actionBtn--upload",{"uppy-c-btn-primary":s===u.STATE_WAITING},{"uppy-StatusBar-actionBtn--disabled":l}),d=a(t&&n&&!o?"uploadXNewFiles":"uploadXFiles",{smart_count:t});return(0,r.h)("button",{type:"button",className:p,"aria-label":a("uploadXFiles",{smart_count:t}),onClick:c,disabled:l,"data-uppy-super-focusable":!0},d)};var r=n(58620),i=n(81694),o=n(33881),a=n(39968),s=n(55566),u=n(96503),l=function(){return" ".concat("\xb7"," ")};function c(){return(0,r.h)("svg",{className:"uppy-StatusBar-spinner","aria-hidden":"true",focusable:"false",width:"14",height:"14"},(0,r.h)("path",{d:"M13.983 6.547c-.12-2.509-1.64-4.893-3.939-5.936-2.48-1.127-5.488-.656-7.556 1.094C.524 3.367-.398 6.048.162 8.562c.556 2.495 2.46 4.52 4.94 5.183 2.932.784 5.61-.602 7.256-3.015-1.493 1.993-3.745 3.309-6.298 2.868-2.514-.434-4.578-2.349-5.153-4.84a6.226 6.226 0 0 1 2.98-6.778C6.34.586 9.74 1.1 11.373 3.493c.407.596.693 1.282.842 1.988.127.598.073 1.197.161 1.794.078.525.543 1.257 1.15.864.525-.341.49-1.05.456-1.592-.007-.15.02.3 0 0",fillRule:"evenodd"}))}function p(e){var t=e.numUploads,n=e.complete,i=e.totalUploadedSize,o=e.totalSize,u=e.totalETA,c=e.i18n,p=t>1;return(0,r.h)("div",{className:"uppy-StatusBar-statusSecondary"},p&&c("filesUploadedOfTotal",{complete:n,smart_count:t}),(0,r.h)("span",{className:"uppy-StatusBar-additionalInfo"},p&&l(),c("dataUploadedOfTotal",{complete:a(i),total:a(o)}),l(),c("xTimeLeft",{time:s(u)})))}function d(e){var t=e.i18n,n=e.complete,i=e.numUploads;return(0,r.h)("div",{className:"uppy-StatusBar-statusSecondary"},t("filesUploadedOfTotal",{complete:n,smart_count:i}))}function f(e){var t=e.i18n,n=e.newFiles,o=e.startUpload,a=i("uppy-u-reset","uppy-c-btn","uppy-StatusBar-actionBtn","uppy-StatusBar-actionBtn--uploadNewlyAdded");return(0,r.h)("div",{className:"uppy-StatusBar-statusSecondary"},(0,r.h)("div",{className:"uppy-StatusBar-statusSecondaryHint"},t("xMoreFilesAdded",{smart_count:n})),(0,r.h)("button",{type:"button",className:a,"aria-label":t("uploadXFiles",{smart_count:n}),onClick:o},t("upload")))}var h=o(p,500,{leading:!0,trailing:!0})},24622:function(e,t,n){"use strict";var r=n(58620),i=n(52602),o=n(81694),a=n(96503),s=n(84290),u=a.STATE_ERROR,l=a.STATE_WAITING,c=a.STATE_PREPROCESSING,p=a.STATE_UPLOADING,d=a.STATE_POSTPROCESSING,f=a.STATE_COMPLETE;e.exports=function(e){var t=e.newFiles,n=e.allowNewUpload,a=e.isUploadInProgress,h=e.isAllPaused,v=e.resumableUploads,y=e.error,m=e.hideUploadButton,g=e.hidePauseResumeButton,b=e.hideCancelButton,k=e.hideRetryButton,w=e.recoveredState,_=e.uploadState,P=e.totalProgress,S=e.files,C=e.supportsUploadProgress,x=e.hideAfterFinish,O=e.isSomeGhost,F=e.doneButtonHandler,E=e.isUploadStarted,A=e.i18n,T=e.startUpload,U=e.uppy,R=e.isAllComplete,D=e.showProgressDetails,I=e.numUploads,j=e.complete,B=e.totalSize,M=e.totalETA,N=e.totalUploadedSize,L=function(){switch(_){case d:case c:var e=s(S);return"determinate"===e.mode?100*e.value:P;case u:return null;case p:return C?P:null;default:return P}}(),z=function(){if(w)return!1;switch(_){case l:return m||0===t;case f:return x;default:return!1}}(),q=null!=L?L:100,H=!y&&t&&!a&&!h&&n&&!m,V=!b&&_!==l&&_!==f,W=v&&!g&&_===p,K=y&&!R&&!k,G=F&&_===f,Y=o("uppy-StatusBar-progress",{"is-indeterminate":function(){switch(_){case d:case c:return"indeterminate"===s(S).mode;case p:return!C;default:return!1}}()}),X=o("uppy-StatusBar","is-".concat(_),{"has-ghosts":O});return(0,r.h)("div",{className:X,"aria-hidden":z},(0,r.h)("div",{className:Y,style:{width:"".concat(q,"%")},role:"progressbar","aria-label":"".concat(q,"%"),"aria-valuetext":"".concat(q,"%"),"aria-valuemin":"0","aria-valuemax":"100","aria-valuenow":L}),function(){switch(_){case c:case d:return(0,r.h)(i.ProgressBarProcessing,{progress:s(S)});case f:return(0,r.h)(i.ProgressBarComplete,{i18n:A});case u:return(0,r.h)(i.ProgressBarError,{error:y,i18n:A,numUploads:I,complete:j});case p:return(0,r.h)(i.ProgressBarUploading,{i18n:A,supportsUploadProgress:C,totalProgress:P,showProgressDetails:D,isUploadStarted:E,isAllComplete:R,isAllPaused:h,newFiles:t,numUploads:I,complete:j,totalUploadedSize:N,totalSize:B,totalETA:M,startUpload:T});default:return null}}(),(0,r.h)("div",{className:"uppy-StatusBar-actions"},w||H?(0,r.h)(i.UploadBtn,{newFiles:t,isUploadStarted:E,recoveredState:w,i18n:A,isSomeGhost:O,startUpload:T,uploadState:_}):null,K?(0,r.h)(i.RetryBtn,{i18n:A,uppy:U}):null,W?(0,r.h)(i.PauseResumeButton,{isAllPaused:h,i18n:A,isAllComplete:R,resumableUploads:v,uppy:U}):null,V?(0,r.h)(i.CancelBtn,{i18n:A,uppy:U}):null,G?(0,r.h)(i.DoneBtn,{i18n:A,doneButtonHandler:F}):null))}},96503:function(e){"use strict";e.exports={STATE_ERROR:"error",STATE_WAITING:"waiting",STATE_PREPROCESSING:"preprocessing",STATE_UPLOADING:"uploading",STATE_POSTPROCESSING:"postprocessing",STATE_COMPLETE:"complete"}},4626:function(e,t,n){"use strict";var r=n(81109).default,i=n(34575).default,o=n(93913).default,a=n(81506).default,s=n(2205).default,u=n(99842).default,l=n(65025),c=n(543),p=n(85826),d=n(71515),f=n(96503),h=n(24622),v=n(85425);function y(e){var t=function(e){var t=0;return e.forEach((function(e){t+=c(e.progress)})),t}(e);if(0===t)return 0;var n=e.reduce((function(e,t){return e+p(t.progress)}),0);return Math.round(n/t*10)/10}function m(e,t,n,r){if(e&&!t)return f.STATE_ERROR;if(t)return f.STATE_COMPLETE;if(n)return f.STATE_WAITING;for(var i=f.STATE_WAITING,o=Object.keys(r),a=0;a<o.length;a++){var s=r[o[a]].progress;if(s.uploadStarted&&!s.uploadComplete)return f.STATE_UPLOADING;s.preprocess&&i!==f.STATE_UPLOADING&&(i=f.STATE_PREPROCESSING),s.postprocess&&i!==f.STATE_UPLOADING&&i!==f.STATE_PREPROCESSING&&(i=f.STATE_POSTPROCESSING)}return i}var g=function(e){s(n,e);var t=u(n);function n(e,o){var s;i(this,n),(s=t.call(this,e,o)).startUpload=function(){if(!s.uppy.getState().recoveredState)return s.uppy.upload().catch((function(){}));s.uppy.emit("restore-confirmed")},s.id=s.opts.id||"StatusBar",s.title="StatusBar",s.type="progressindicator",s.defaultLocale=v;return s.opts=r(r({},{target:"body",hideUploadButton:!1,hideRetryButton:!1,hidePauseResumeButton:!1,hideCancelButton:!1,showProgressDetails:!1,hideAfterFinish:!0,doneButtonHandler:null}),o),s.i18nInit(),s.render=s.render.bind(a(s)),s.install=s.install.bind(a(s)),s}return o(n,[{key:"render",value:function(e){var t=e.capabilities,n=e.files,r=e.allowNewUpload,i=e.totalProgress,o=e.error,a=e.recoveredState,s=this.uppy.getObjectOfFilesPerState(),u=s.newFiles,l=s.startedFiles,c=s.completeFiles,p=s.inProgressNotPausedFiles,d=s.isUploadStarted,f=s.isAllComplete,v=s.isAllErrored,g=s.isAllPaused,b=s.isUploadInProgress,k=s.isSomeGhost,w=a?Object.values(n):u,_=y(p),P=!!t.resumableUploads,S=!1!==t.uploadProgress,C=0,x=0;return l.forEach((function(e){C+=e.progress.bytesTotal||0,x+=e.progress.bytesUploaded||0})),h({error:o,uploadState:m(o,f,a,e.files||{}),allowNewUpload:r,totalProgress:i,totalSize:C,totalUploadedSize:x,isAllComplete:!1,isAllPaused:g,isAllErrored:v,isUploadStarted:d,isUploadInProgress:b,isSomeGhost:k,recoveredState:a,complete:c.length,newFiles:w.length,numUploads:l.length,totalETA:_,files:n,i18n:this.i18n,uppy:this.uppy,startUpload:this.startUpload,doneButtonHandler:this.opts.doneButtonHandler,resumableUploads:P,supportsUploadProgress:S,showProgressDetails:this.opts.showProgressDetails,hideUploadButton:this.opts.hideUploadButton,hideRetryButton:this.opts.hideRetryButton,hidePauseResumeButton:this.opts.hidePauseResumeButton,hideCancelButton:this.opts.hideCancelButton,hideAfterFinish:this.opts.hideAfterFinish,isTargetDOMEl:this.isTargetDOMEl})}},{key:"onMount",value:function(){var e=this.el;d(e)||(e.dir="ltr")}},{key:"install",value:function(){var e=this.opts.target;e&&this.mount(e,this)}},{key:"uninstall",value:function(){this.unmount()}}]),n}(l.UIPlugin);g.VERSION="2.2.2",e.exports=g},84290:function(e){"use strict";e.exports=function(e){for(var t,n,r=[],i=0,o=Object.values(e);i<o.length;i++){var a=o[i].progress,s=a.preprocess,u=a.postprocess;if(null==n&&(s||u)){var l=s||u;t=l.mode,n=l.message}"determinate"===(null==s?void 0:s.mode)&&r.push(s.value),"determinate"===(null==u?void 0:u.mode)&&r.push(u.value)}return{mode:t,message:n,value:r.reduce((function(e,t){return e+t/r.length}),0)}}},62454:function(e,t,n){"use strict";e.exports=n(4626)},85425:function(e){"use strict";e.exports={strings:{uploading:"Uploading",complete:"Complete",uploadFailed:"Upload failed",paused:"Paused",retry:"Retry",cancel:"Cancel",pause:"Pause",resume:"Resume",done:"Done",filesUploadedOfTotal:{0:"%{complete} of %{smart_count} file uploaded",1:"%{complete} of %{smart_count} files uploaded"},dataUploadedOfTotal:"%{complete} of %{total}",xTimeLeft:"%{time} left",uploadXFiles:{0:"Upload %{smart_count} file",1:"Upload %{smart_count} files"},uploadXNewFiles:{0:"Upload +%{smart_count} file",1:"Upload +%{smart_count} files"},upload:"Upload",retryUpload:"Retry upload",xMoreFilesAdded:{0:"%{smart_count} more file added",1:"%{smart_count} more files added"},showErrorDetails:"Show error details"}}},28533:function(e,t,n){"use strict";var r=n(81109).default,i=n(34575).default,o=n(93913).default;var a=0;function s(e){return"__private_"+a+++"_"+e}var u=s("publish"),l=function(){function e(){i(this,e),Object.defineProperty(this,u,{value:c}),this.state={},this.callbacks=[]}return o(e,[{key:"getState",value:function(){return this.state}},{key:"setState",value:function(e){var t=r({},this.state),n=r(r({},this.state),e);this.state=n,function(e,t){if(!Object.prototype.hasOwnProperty.call(e,t))throw new TypeError("attempted to use private field on non-instance");return e}(this,u)[u](t,n,e)}},{key:"subscribe",value:function(e){var t=this;return this.callbacks.push(e),function(){t.callbacks.splice(t.callbacks.indexOf(e),1)}}}]),e}();function c(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.callbacks.forEach((function(e){e.apply(void 0,t)}))}l.VERSION="2.1.1",e.exports=function(){return new l}},63386:function(e,t,n){"use strict";var r=n(45950);e.exports=function(e){return function(t,n){if("undefined"!==typeof window&&("undefined"!==typeof window.PhoneGap||"undefined"!==typeof window.Cordova||"undefined"!==typeof window.cordova)||"undefined"!==typeof navigator&&"string"===typeof navigator.product&&"reactnative"===navigator.product.toLowerCase())return r.defaultOptions.fingerprint(t,n);var i=["tus",e.id,n.endpoint].join("-");return Promise.resolve(i)}}},83843:function(e,t,n){"use strict";var r=n(87757),i=n(81109).default,o=n(48926).default,a=n(34575).default,s=n(93913).default,u=n(81506).default,l=n(2205).default,c=n(99842).default,p=n(45950),d=n(37143),f=n(96877);function h(e,t){if(!Object.prototype.hasOwnProperty.call(e,t))throw new TypeError("attempted to use private field on non-instance");return e}var v=0;function y(e){return"__private_"+v+++"_"+e}var m=n(93870),g=n(73132),b=n(8888),k=n(84566),w=n(57198),_=n(33394),P=n(87111),S=n(62850),C=n(63386),x={endpoint:"",uploadUrl:null,metadata:{},uploadSize:null,onProgress:null,onChunkComplete:null,onSuccess:null,onError:null,overridePatchMethod:!1,headers:{},addRequestId:!1,chunkSize:1/0,retryDelays:[100,1e3,3e3,5e3],parallelUploads:1,removeFingerprintOnSuccess:!1,uploadLengthDeferred:!1,uploadDataDuringCreation:!1},O=y("retryDelayIterator"),F=y("queueRequestSocketToken"),E=y("requestSocketToken"),A=function(e){l(n,e);var t=c(n);function n(e,s){var l,c,p;a(this,n),l=t.call(this,e,s),Object.defineProperty(u(l),O,{writable:!0,value:void 0}),Object.defineProperty(u(l),F,{writable:!0,value:void 0}),Object.defineProperty(u(l),E,{writable:!0,value:function(){var e=o(r.mark((function e(t){var n,o,a,s;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.remote.providerOptions.provider?d.Provider:d.RequestClient,o=new n(l.uppy,t.remote.providerOptions),a=i({},l.opts),t.tus&&Object.assign(a,t.tus),e.next=6,o.post(t.remote.url,i(i({},t.remote.body),{},{endpoint:a.endpoint,uploadUrl:a.uploadUrl,protocol:"tus",size:t.data.size,headers:a.headers,metadata:t.meta}));case 6:return s=e.sent,e.abrupt("return",s.token);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}),l.type="uploader",l.id=l.opts.id||"Tus",l.title="Tus";var v={useFastRemoteRetry:!0,limit:20,retryDelays:x.retryDelays,withCredentials:!1};if(l.opts=i(i({},v),s),"autoRetry"in s)throw new Error("The `autoRetry` option was deprecated and has been removed.");return l.requests=null!=(c=l.opts.rateLimitedQueue)?c:new f.RateLimitedQueue(l.opts.limit),h(u(l),O)[O]=null==(p=l.opts.retryDelays)?void 0:p.values(),l.uploaders=Object.create(null),l.uploaderEvents=Object.create(null),l.uploaderSockets=Object.create(null),l.handleResetProgress=l.handleResetProgress.bind(u(l)),l.handleUpload=l.handleUpload.bind(u(l)),h(u(l),F)[F]=l.requests.wrapPromiseFunction(h(u(l),E)[E]),l}return s(n,[{key:"handleResetProgress",value:function(){var e=i({},this.uppy.getState().files);Object.keys(e).forEach((function(t){if(e[t].tus&&e[t].tus.uploadUrl){var n=i({},e[t].tus);delete n.uploadUrl,e[t]=i(i({},e[t]),{},{tus:n})}})),this.uppy.setState({files:e})}},{key:"resetUploaderReferences",value:function(e,t){if(void 0===t&&(t={}),this.uploaders[e]){var n=this.uploaders[e];n.abort(),t.abort&&n.abort(!0),this.uploaders[e]=null}this.uploaderEvents[e]&&(this.uploaderEvents[e].remove(),this.uploaderEvents[e]=null),this.uploaderSockets[e]&&(this.uploaderSockets[e].close(),this.uploaderSockets[e]=null)}},{key:"upload",value:function(e){var t=this,n=this;return this.resetUploaderReferences(e.id),new Promise((function(r,o){var a,s,u;t.uppy.emit("upload-started",e);var l=i(i({},t.opts),e.tus||{});"function"===typeof l.headers&&(l.headers=l.headers(e));var c=i(i({},x),l);c.fingerprint=C(e),c.onBeforeRequest=function(n){var r;if(n.getUnderlyingObject().withCredentials=!!l.withCredentials,"function"===typeof l.onBeforeRequest&&(r=l.onBeforeRequest(n,e)),S(a,"shouldBeRequeued")){if(!a.shouldBeRequeued)return Promise.reject();var i,o=new Promise((function(e){i=e}));return a=t.requests.run((function(){return e.isPaused&&a.abort(),i(),function(){}})),Promise.all([o,r])}return r},c.onError=function(n){var r;t.uppy.log(n);var i=n.originalRequest?n.originalRequest.getUnderlyingObject():null;P(i)&&(n=new _(n,i)),t.resetUploaderReferences(e.id),null==(r=a)||r.abort(),t.uppy.emit("upload-error",e,n),o(n)},c.onProgress=function(n,r){t.onReceiveUploadUrl(e,u.url),t.uppy.emit("upload-progress",e,{uploader:t,bytesUploaded:n,bytesTotal:r})},c.onSuccess=function(){var n={uploadURL:u.url};t.resetUploaderReferences(e.id),a.done(),t.uppy.emit("upload-success",e,n),u.url&&t.uppy.log("Download ".concat(u.file.name," from ").concat(u.url)),r(u)};var d=function(e){var n,r=null==e||null==(n=e.originalResponse)?void 0:n.getStatus();if(429===r){if(!t.requests.isPaused){var i,o=null==(i=h(t,O)[O])?void 0:i.next();if(null==o||o.done)return!1;t.requests.rateLimit(o.value)}}else{if(r>400&&r<500&&409!==r)return!1;"undefined"!==typeof navigator&&!1===navigator.onLine&&(t.requests.isPaused||(t.requests.pause(),window.addEventListener("online",(function(){t.requests.resume()}),{once:!0})))}return a.abort(),a={shouldBeRequeued:!0,abort:function(){this.shouldBeRequeued=!1},done:function(){throw new Error("Cannot mark a queued request as done: this indicates a bug")},fn:function(){throw new Error("Cannot run a queued request: this indicates a bug")}},!0};null!=l.onShouldRetry?c.onShouldRetry=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return l.onShouldRetry.apply(l,t.concat([d]))}:c.onShouldRetry=d;var f=function(e,t,n){S(e,t)&&!S(e,n)&&(e[n]=e[t])},v={};(Array.isArray(l.metaFields)?l.metaFields:Object.keys(e.meta)).forEach((function(t){v[t]=e.meta[t]})),f(v,"type","filetype"),f(v,"name","filename"),c.metadata=v,u=new p.Upload(e.data,c),t.uploaders[e.id]=u,t.uploaderEvents[e.id]=new w(t.uppy),s=function(){return e.isPaused||u.start(),function(){}},u.findPreviousUploads().then((function(n){var r=n[0];r&&(t.uppy.log("[Tus] Resuming upload of ".concat(e.id," started at ").concat(r.creationTime)),u.resumeFromPreviousUpload(r))})),a=t.requests.run(s),t.onFileRemove(e.id,(function(n){a.abort(),t.resetUploaderReferences(e.id,{abort:!!u.url}),r("upload ".concat(n," was removed"))})),t.onPause(e.id,(function(e){a.abort(),e?u.abort():a=t.requests.run(s)})),t.onPauseAll(e.id,(function(){a.abort(),u.abort()})),t.onCancelAll(e.id,(function(t){"user"===(void 0===t?{}:t).reason&&(a.abort(),n.resetUploaderReferences(e.id,{abort:!!u.url})),r("upload ".concat(e.id," was canceled"))})),t.onResumeAll(e.id,(function(){a.abort(),e.error&&u.abort(),a=t.requests.run(s)}))})).catch((function(n){throw t.uppy.emit("upload-error",e,n),n}))}},{key:"uploadRemote",value:function(){var e=o(r.mark((function e(t){var n;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.resetUploaderReferences(t.id),t.progress.uploadStarted&&t.isRestored||this.uppy.emit("upload-started",t),e.prev=2,!t.serverToken){e.next=5;break}return e.abrupt("return",this.connectToServerSocket(t));case 5:return e.next=7,h(this,F)[F](t);case 7:if(n=e.sent,this.uppy.getState().files[t.id]){e.next=10;break}return e.abrupt("return",void 0);case 10:return this.uppy.setFileState(t.id,{serverToken:n}),e.abrupt("return",this.connectToServerSocket(this.uppy.getFile(t.id)));case 14:throw e.prev=14,e.t0=e.catch(2),this.uppy.emit("upload-error",t,e.t0),e.t0;case 18:case"end":return e.stop()}}),e,this,[[2,14]])})));return function(t){return e.apply(this,arguments)}}()},{key:"connectToServerSocket",value:function(e){var t=this,n=this;return new Promise((function(r,i){var o,a=e.serverToken,s=b(e.remote.companionUrl),u=new d.Socket({target:"".concat(s,"/api/").concat(a)});t.uploaderSockets[e.id]=u,t.uploaderEvents[e.id]=new w(t.uppy),t.onFileRemove(e.id,(function(){o.abort(),u.send("cancel",{}),t.resetUploaderReferences(e.id),r("upload ".concat(e.id," was removed"))})),t.onPause(e.id,(function(e){e?(o.abort(),u.send("pause",{})):(o.abort(),o=t.requests.run((function(){return u.send("resume",{}),function(){}})))})),t.onPauseAll(e.id,(function(){o.abort(),u.send("pause",{})})),t.onCancelAll(e.id,(function(t){"user"===(void 0===t?{}:t).reason&&(o.abort(),u.send("cancel",{}),n.resetUploaderReferences(e.id)),r("upload ".concat(e.id," was canceled"))})),t.onResumeAll(e.id,(function(){o.abort(),e.error&&u.send("pause",{}),o=t.requests.run((function(){return u.send("resume",{}),function(){}}))})),t.onRetry(e.id,(function(){u.isOpen&&(u.send("pause",{}),u.send("resume",{}))})),t.onRetryAll(e.id,(function(){u.isOpen&&(u.send("pause",{}),u.send("resume",{}))})),u.on("progress",(function(n){return g(t,n,e)})),u.on("error",(function(n){var r=n.error.message,a=Object.assign(new Error(r),{cause:n.error});t.opts.useFastRemoteRetry?u.close():(t.resetUploaderReferences(e.id),t.uppy.setFileState(e.id,{serverToken:null})),t.uppy.emit("upload-error",e,a),o.done(),i(a)})),u.on("success",(function(n){var i={uploadURL:n.url};t.uppy.emit("upload-success",e,i),t.resetUploaderReferences(e.id),o.done(),r()})),o=t.requests.run((function(){return e.isPaused&&u.send("pause",{}),function(){}}))}))}},{key:"onReceiveUploadUrl",value:function(e,t){var n=this.uppy.getFile(e.id);n&&(n.tus&&n.tus.uploadUrl===t||(this.uppy.log("[Tus] Storing upload url"),this.uppy.setFileState(n.id,{tus:i(i({},n.tus),{},{uploadUrl:t})})))}},{key:"onFileRemove",value:function(e,t){this.uploaderEvents[e].on("file-removed",(function(n){e===n.id&&t(n.id)}))}},{key:"onPause",value:function(e,t){this.uploaderEvents[e].on("upload-pause",(function(n,r){e===n&&t(r)}))}},{key:"onRetry",value:function(e,t){this.uploaderEvents[e].on("upload-retry",(function(n){e===n&&t()}))}},{key:"onRetryAll",value:function(e,t){var n=this;this.uploaderEvents[e].on("retry-all",(function(){n.uppy.getFile(e)&&t()}))}},{key:"onPauseAll",value:function(e,t){var n=this;this.uploaderEvents[e].on("pause-all",(function(){n.uppy.getFile(e)&&t()}))}},{key:"onCancelAll",value:function(e,t){var n=this;this.uploaderEvents[e].on("cancel-all",(function(){n.uppy.getFile(e)&&t.apply(void 0,arguments)}))}},{key:"onResumeAll",value:function(e,t){var n=this;this.uploaderEvents[e].on("resume-all",(function(){n.uppy.getFile(e)&&t()}))}},{key:"uploadFiles",value:function(e){var t=this,n=e.map((function(n,r){var i=r+1,o=e.length;return"error"in n&&n.error?Promise.reject(new Error(n.error)):n.isRemote?(n.progress.uploadStarted&&n.isRestored||t.uppy.emit("upload-started",n),t.uploadRemote(n,i,o)):(n.progress.uploadStarted&&n.isRestored||t.uppy.emit("upload-started",n),t.upload(n,i,o))}));return k(n)}},{key:"handleUpload",value:function(e){var t=this;if(0===e.length)return this.uppy.log("[Tus] No files to upload"),Promise.resolve();0===this.opts.limit&&this.uppy.log("[Tus] When uploading multiple files at once, consider setting the `limit` option (to `10` for example), to limit the number of concurrent uploads, which helps prevent memory and network issues: https://uppy.io/docs/tus/#limit-0","warning"),this.uppy.log("[Tus] Uploading...");var n=e.map((function(e){return t.uppy.getFile(e)}));return this.uploadFiles(n).then((function(){return null}))}},{key:"install",value:function(){this.uppy.setState({capabilities:i(i({},this.uppy.getState().capabilities),{},{resumableUploads:!0})}),this.uppy.addUploader(this.handleUpload),this.uppy.on("reset-progress",this.handleResetProgress)}},{key:"uninstall",value:function(){this.uppy.setState({capabilities:i(i({},this.uppy.getState().capabilities),{},{resumableUploads:!1})}),this.uppy.removeUploader(this.handleUpload)}}]),n}(m);A.VERSION="2.4.6",e.exports=A},86153:function(e,t,n){"use strict";var r=n(93913).default,i=n(34575).default,o=n(2205).default,a=n(99842).default,s=n(65957).default,u=n(62850),l=function(e){o(n,e);var t=a(n);function n(e,r){var o;return i(this,n),void 0===r&&(r={}),(o=t.call(this,e)).cause=r.cause,o.cause&&u(o.cause,"isNetworkError")&&(o.isNetworkError=o.cause.isNetworkError),o}return r(n)}(s(Error));e.exports=l},57198:function(e,t,n){"use strict";var r=n(63038).default,i=n(43269).default,o=n(34575).default,a=n(93913).default;function s(e,t){if(!Object.prototype.hasOwnProperty.call(e,t))throw new TypeError("attempted to use private field on non-instance");return e}var u=0;function l(e){return"__private_"+u+++"_"+e}var c=l("emitter"),p=l("events"),d=function(){function e(t){o(this,e),Object.defineProperty(this,c,{writable:!0,value:void 0}),Object.defineProperty(this,p,{writable:!0,value:[]}),s(this,c)[c]=t}return a(e,[{key:"on",value:function(e,t){return s(this,p)[p].push([e,t]),s(this,c)[c].on(e,t)}},{key:"remove",value:function(){var e,t=i(s(this,p)[p].splice(0));try{for(t.s();!(e=t.n()).done;){var n=r(e.value,2),o=n[0],a=n[1];s(this,c)[c].off(o,a)}}catch(u){t.e(u)}finally{t.f()}}}]),e}();e.exports=d},3916:function(e){"use strict";e.exports=['a[href]:not([tabindex^="-"]):not([inert]):not([aria-hidden])','area[href]:not([tabindex^="-"]):not([inert]):not([aria-hidden])',"input:not([disabled]):not([inert]):not([aria-hidden])","select:not([disabled]):not([inert]):not([aria-hidden])","textarea:not([disabled]):not([inert]):not([aria-hidden])","button:not([disabled]):not([inert]):not([aria-hidden])",'iframe:not([tabindex^="-"]):not([inert]):not([aria-hidden])','object:not([tabindex^="-"]):not([inert]):not([aria-hidden])','embed:not([tabindex^="-"]):not([inert]):not([aria-hidden])','[contenteditable]:not([tabindex^="-"]):not([inert]):not([aria-hidden])','[tabindex]:not([tabindex^="-"]):not([inert]):not([aria-hidden])']},33394:function(e,t,n){"use strict";var r=n(93913).default,i=n(34575).default,o=n(2205).default,a=n(99842).default,s=function(e){o(n,e);var t=a(n);function n(e,r){var o;return i(this,n),void 0===r&&(r=null),(o=t.call(this,"This looks like a network error, the endpoint might be blocked by an internet provider or a firewall.")).cause=e,o.isNetworkError=!0,o.request=r,o}return r(n)}((0,n(65957).default)(Error));e.exports=s},96877:function(e,t,n){"use strict";var r=n(34575).default,i=n(93913).default;function o(e,t){if(!Object.prototype.hasOwnProperty.call(e,t))throw new TypeError("attempted to use private field on non-instance");return e}Object.defineProperty(t,"__esModule",{value:!0}),t.internalRateLimitedQueue=t.RateLimitedQueue=void 0;var a=0;function s(e){return"__private_"+a+++"_"+e}function u(){return new Error("Cancelled")}var l=s("activeRequests"),c=s("queuedHandlers"),p=s("paused"),d=s("pauseTimer"),f=s("downLimit"),h=s("upperLimit"),v=s("rateLimitingTimer"),y=s("call"),m=s("queueNext"),g=s("next"),b=s("queue"),k=s("dequeue"),w=s("resume"),_=s("increaseLimit"),P=function(){function e(t){var n=this;r(this,e),Object.defineProperty(this,k,{value:F}),Object.defineProperty(this,b,{value:O}),Object.defineProperty(this,g,{value:x}),Object.defineProperty(this,m,{value:C}),Object.defineProperty(this,y,{value:S}),Object.defineProperty(this,l,{writable:!0,value:0}),Object.defineProperty(this,c,{writable:!0,value:[]}),Object.defineProperty(this,p,{writable:!0,value:!1}),Object.defineProperty(this,d,{writable:!0,value:void 0}),Object.defineProperty(this,f,{writable:!0,value:1}),Object.defineProperty(this,h,{writable:!0,value:void 0}),Object.defineProperty(this,v,{writable:!0,value:void 0}),Object.defineProperty(this,w,{writable:!0,value:function(){return n.resume()}}),Object.defineProperty(this,_,{writable:!0,value:function(){if(o(n,p)[p])o(n,v)[v]=setTimeout(o(n,_)[_],0);else{o(n,f)[f]=n.limit,n.limit=Math.ceil((o(n,h)[h]+o(n,f)[f])/2);for(var e=o(n,f)[f];e<=n.limit;e++)o(n,m)[m]();o(n,h)[h]-o(n,f)[f]>3?o(n,v)[v]=setTimeout(o(n,_)[_],2e3):o(n,f)[f]=Math.floor(o(n,f)[f]/2)}}}),this.limit="number"!==typeof t||0===t?1/0:t}return i(e,[{key:"run",value:function(e,t){return!o(this,p)[p]&&o(this,l)[l]<this.limit?o(this,y)[y](e):o(this,b)[b](e,t)}},{key:"wrapPromiseFunction",value:function(e,t){var n=this;return function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];var a,s=new Promise((function(r,o){a=n.run((function(){var t,n;try{n=Promise.resolve(e.apply(void 0,i))}catch(s){n=Promise.reject(s)}return n.then((function(e){t?o(t):(a.done(),r(e))}),(function(e){t?o(t):(a.done(),o(e))})),function(){t=u()}}),t)}));return s.abort=function(){a.abort()},s}}},{key:"resume",value:function(){o(this,p)[p]=!1,clearTimeout(o(this,d)[d]);for(var e=0;e<this.limit;e++)o(this,m)[m]()}},{key:"pause",value:function(e){void 0===e&&(e=null),o(this,p)[p]=!0,clearTimeout(o(this,d)[d]),null!=e&&(o(this,d)[d]=setTimeout(o(this,w)[w],e))}},{key:"rateLimit",value:function(e){clearTimeout(o(this,v)[v]),this.pause(e),this.limit>1&&Number.isFinite(this.limit)&&(o(this,h)[h]=this.limit-1,this.limit=o(this,f)[f],o(this,v)[v]=setTimeout(o(this,_)[_],e))}},{key:"isPaused",get:function(){return o(this,p)[p]}}]),e}();function S(e){var t=this;o(this,l)[l]+=1;var n,r=!1;try{n=e()}catch(i){throw o(this,l)[l]-=1,i}return{abort:function(){r||(r=!0,o(t,l)[l]-=1,n(),o(t,m)[m]())},done:function(){r||(r=!0,o(t,l)[l]-=1,o(t,m)[m]())}}}function C(){var e=this;queueMicrotask((function(){return o(e,g)[g]()}))}function x(){if(!(o(this,p)[p]||o(this,l)[l]>=this.limit)&&0!==o(this,c)[c].length){var e=o(this,c)[c].shift(),t=o(this,y)[y](e.fn);e.abort=t.abort,e.done=t.done}}function O(e,t){var n=this;void 0===t&&(t={});var r={fn:e,priority:t.priority||0,abort:function(){o(n,k)[k](r)},done:function(){throw new Error("Cannot mark a queued request as done: this indicates a bug")}},i=o(this,c)[c].findIndex((function(e){return r.priority>e.priority}));return-1===i?o(this,c)[c].push(r):o(this,c)[c].splice(i,0,r),r}function F(e){var t=o(this,c)[c].indexOf(e);-1!==t&&o(this,c)[c].splice(t,1)}t.RateLimitedQueue=P;var E=Symbol("__queue");t.internalRateLimitedQueue=E},72775:function(e,t,n){"use strict";var r=n(81109).default,i=n(34575).default,o=n(93913).default;function a(e,t){if(!Object.prototype.hasOwnProperty.call(e,t))throw new TypeError("attempted to use private field on non-instance");return e}var s=0;function u(e){return"__private_"+s+++"_"+e}var l=n(62850);function c(e,t,n){var r=[];return e.forEach((function(e){return"string"!==typeof e?r.push(e):t[Symbol.split](e).forEach((function(e,t,i){""!==e&&r.push(e),t<i.length-1&&r.push(n)}))})),r}function p(e,t){var n=/\$/g,r=[e];if(null==t)return r;for(var i=0,o=Object.keys(t);i<o.length;i++){var a=o[i];if("_"!==a){var s=t[a];"string"===typeof s&&(s=n[Symbol.replace](s,"$$$$")),r=c(r,new RegExp("%\\{".concat(a,"\\}"),"g"),s)}}return r}var d=u("apply"),f=function(){function e(t){i(this,e),Object.defineProperty(this,d,{value:h}),this.locale={strings:{},pluralize:function(e){return 1===e?0:1}},Array.isArray(t)?t.forEach(a(this,d)[d],this):a(this,d)[d](t)}return o(e,[{key:"translate",value:function(e,t){return this.translateArray(e,t).join("")}},{key:"translateArray",value:function(e,t){if(!l(this.locale.strings,e))throw new Error("missing string: ".concat(e));var n=this.locale.strings[e];if("object"===typeof n){if(t&&"undefined"!==typeof t.smart_count)return p(n[this.locale.pluralize(t.smart_count)],t);throw new Error("Attempted to use a string with plural forms, but no value was given for %{smart_count}")}return p(n,t)}}]),e}();function h(e){if(null!=e&&e.strings){var t=this.locale;this.locale=r(r({},t),{},{strings:r(r({},t.strings),e.strings)}),this.locale.pluralize=e.pluralize||t.pluralize}}e.exports=f},24442:function(e){"use strict";var t=/^data:([^/]+\/[^,;]+(?:[^,]*?))(;base64)?,([\s\S]*)$/;e.exports=function(e,n,r){var i,o,a,s=t.exec(e),u=null!=(i=null!=(o=n.mimeType)?o:null==s?void 0:s[1])?i:"plain/text";if(null!=s[2]){for(var l=atob(decodeURIComponent(s[3])),c=new Uint8Array(l.length),p=0;p<l.length;p++)c[p]=l.charCodeAt(p);a=[c]}else a=[decodeURIComponent(s[3])];return r?new File(a,n.name||"",{type:u}):new Blob(a,{type:u})}},73132:function(e,t,n){"use strict";var r=n(33881);e.exports=r((function(e,t,n){var r=t.progress,i=t.bytesUploaded,o=t.bytesTotal;r&&(e.uppy.log("Upload progress: ".concat(r)),e.uppy.emit("upload-progress",n,{uploader:e,bytesUploaded:i,bytesTotal:o}))}),300,{leading:!0,trailing:!0})},71933:function(e,t,n){"use strict";var r=n(33394);e.exports=function(){return fetch.apply(void 0,arguments).catch((function(e){throw"AbortError"===e.name?e:new r(e)}))}},92176:function(e,t,n){"use strict";var r=n(50629);e.exports=function(e){if("string"===typeof e){var t=document.querySelectorAll(e);return 0===t.length?null:Array.from(t)}return"object"===typeof e&&r(e)?[e]:null}},5843:function(e,t,n){"use strict";var r=n(50629);e.exports=function(e,t){return void 0===t&&(t=document),"string"===typeof e?t.querySelector(e):r(e)?e:null}},1379:function(e){"use strict";function t(e){var t="";return e.replace(/[^A-Z0-9]/gi,(function(e){return t+="-".concat(function(e){return e.charCodeAt(0).toString(32)}(e)),"/"}))+t}e.exports=function(e){var n="uppy";return"string"===typeof e.name&&(n+="-".concat(t(e.name.toLowerCase()))),void 0!==e.type&&(n+="-".concat(e.type)),e.meta&&"string"===typeof e.meta.relativePath&&(n+="-".concat(t(e.meta.relativePath.toLowerCase()))),void 0!==e.data.size&&(n+="-".concat(e.data.size)),void 0!==e.data.lastModified&&(n+="-".concat(e.data.lastModified)),n}},85826:function(e){"use strict";e.exports=function(e){return e.bytesTotal-e.bytesUploaded}},5005:function(e,t,n){"use strict";var r=n(87757),i=n(48926).default,o=n(47003).default,a=n(46806),s=n(60547);function u(){return(u=i(r.mark((function e(t,n){var i,u,l,c,p,d,f,h,v;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=(void 0===n?{}:n).logDropError,u=void 0===i?function(){}:i,e.prev=1,l=[],c=!1,p=!1,e.prev=5,f=o(a(t,u));case 7:return e.next=9,f.next();case 9:if(!(c=!(h=e.sent).done)){e.next=15;break}v=h.value,l.push(v);case 12:c=!1,e.next=7;break;case 15:e.next=21;break;case 17:e.prev=17,e.t0=e.catch(5),p=!0,d=e.t0;case 21:if(e.prev=21,e.prev=22,!c||null==f.return){e.next=26;break}return e.next=26,f.return();case 26:if(e.prev=26,!p){e.next=29;break}throw d;case 29:return e.finish(26);case 30:return e.finish(21);case 31:return e.abrupt("return",l);case 34:return e.prev=34,e.t1=e.catch(1),e.abrupt("return",s(t));case 37:case"end":return e.stop()}}),e,null,[[1,34],[5,17,21,31],[22,,26,30]])})))).apply(this,arguments)}e.exports=function(e,t){return u.apply(this,arguments)}},60547:function(e,t,n){"use strict";var r=n(74894);e.exports=function(e){var t=r(e.files);return Promise.resolve(t)}},1168:function(e,t,n){"use strict";var r=n(319).default;e.exports=function e(t,n,i,o){var a=o.onSuccess;t.readEntries((function(o){var s=[].concat(r(n),r(o));o.length?queueMicrotask((function(){e(t,s,i,{onSuccess:a})})):a(s)}),(function(e){i(e),a(n)}))}},46806:function(e,t,n){"use strict";var r=n(43269).default,i=n(48926).default,o=n(87757),a=n(551).default,s=n(55486).default,u=n(30083).default,l=n(47003).default,c=n(1168);function p(e,t){return null==e?e:{kind:e.isFile?"file":e.isDirectory?"directory":void 0,name:e.name,getFile:function(){return new Promise((function(t,n){return e.file(t,n)}))},values:function(){return a(o.mark((function n(){var r,i;return o.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=e.createReader(),n.next=3,s(new Promise((function(e){c(r,[],t,{onSuccess:function(n){return e(n.map((function(e){return p(e,t)})))}})})));case 3:return i=n.sent,n.delegateYield(u(l(i),s),"t0",5);case 5:case"end":return n.stop()}}),n)})))()}}}function d(e,t){return f.apply(this,arguments)}function f(){return(f=a(o.mark((function e(t,n){var r,i,a,c,p,f,h;return o.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("file"!==t.kind){e.next=10;break}return e.next=3,s(t.getFile());case 3:if(null===(r=e.sent)){e.next=8;break}return r.relativePath=n?"".concat(n,"/").concat(t.name):null,e.next=8,r;case 8:e.next=39;break;case 10:if("directory"!==t.kind){e.next=39;break}i=!1,a=!1,e.prev=13,p=l(t.values());case 15:return e.next=17,s(p.next());case 17:if(!(i=!(f=e.sent).done)){e.next=23;break}return h=f.value,e.delegateYield(u(l(d(h,"".concat(n,"/").concat(t.name))),s),"t0",20);case 20:i=!1,e.next=15;break;case 23:e.next=29;break;case 25:e.prev=25,e.t1=e.catch(13),a=!0,c=e.t1;case 29:if(e.prev=29,e.prev=30,!i||null==p.return){e.next=34;break}return e.next=34,s(p.return());case 34:if(e.prev=34,!a){e.next=37;break}throw c;case 37:return e.finish(34);case 38:return e.finish(29);case 39:case"end":return e.stop()}}),e,null,[[13,25,29,39],[30,,34,38]])})))).apply(this,arguments)}function h(){return h=a(o.mark((function e(t,n){var a,c,f,h,v,y;return o.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s(Promise.all(Array.from(t.items,function(){var e=i(o.mark((function e(t){var r,i,a;return o.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.getAsFile(),e.next=3,null==t.getAsFileSystemHandle?void 0:t.getAsFileSystemHandle();case 3:if(e.t0=r=e.sent,null==e.t0){e.next=8;break}e.t1=r,e.next=9;break;case 8:e.t1=p(t.webkitGetAsEntry(),n);case 9:return a=e.t1,e.abrupt("return",{lastResortFile:i,entry:a});case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())));case 2:a=e.sent,c=r(a),e.prev=4,c.s();case 6:if((f=c.n()).done){e.next=23;break}if(h=f.value,v=h.lastResortFile,null==(y=h.entry)){e.next=21;break}return e.prev=9,e.delegateYield(u(l(d(y,"")),s),"t0",11);case 11:e.next=21;break;case 13:if(e.prev=13,e.t1=e.catch(9),!v){e.next=20;break}return e.next=18,v;case 18:e.next=21;break;case 20:n(e.t1);case 21:e.next=6;break;case 23:e.next=28;break;case 25:e.prev=25,e.t2=e.catch(4),c.e(e.t2);case 28:return e.prev=28,c.f(),e.finish(28);case 31:case"end":return e.stop()}}),e,null,[[4,25,28,31],[9,13]])}))),h.apply(this,arguments)}e.exports=function(e,t){return h.apply(this,arguments)}},22631:function(e){"use strict";e.exports=function(e){var t=e.lastIndexOf(".");return-1===t||t===e.length-1?{name:e,extension:void 0}:{name:e.slice(0,t),extension:e.slice(t+1)}}},37846:function(e,t,n){"use strict";var r=n(22631),i=n(35245);e.exports=function(e){var t;if(e.type)return e.type;var n=e.name?null==(t=r(e.name).extension)?void 0:t.toLowerCase():null;return n&&n in i?i[n]:"application/octet-stream"}},8888:function(e){"use strict";e.exports=function(e){var t=/^(?:https?:\/\/|\/\/)?(?:[^@\n]+@)?(?:www\.)?([^\n]+)/i.exec(e)[1],n=/^http:\/\//i.test(e)?"ws":"wss";return"".concat(n,"://").concat(t)}},543:function(e){"use strict";e.exports=function(e){if(!e.bytesUploaded)return 0;var t=Date.now()-e.uploadStarted;return e.bytesUploaded/(t/1e3)}},71515:function(e){"use strict";e.exports=function(e){for(var t;e&&!e.dir;)e=e.parentNode;return null==(t=e)?void 0:t.dir}},83230:function(e){"use strict";function t(e){return e<10?"0".concat(e):e.toString()}e.exports=function(){var e=new Date,n=t(e.getHours()),r=t(e.getMinutes()),i=t(e.getSeconds());return"".concat(n,":").concat(r,":").concat(i)}},62850:function(e){"use strict";e.exports=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}},50629:function(e){"use strict";e.exports=function(e){return(null==e?void 0:e.nodeType)===Node.ELEMENT_NODE}},8880:function(e){"use strict";e.exports=function(){var e=document.body;return"draggable"in e&&"ondragstart"in e&&"ondrop"in e&&("FormData"in window&&"FileReader"in window)}},87111:function(e){"use strict";e.exports=function(e){return!!e&&(0!==e.readyState&&4!==e.readyState||0===e.status)}},50455:function(e){"use strict";e.exports=function(e){return e.startsWith("blob:")}},85093:function(e){"use strict";e.exports=function(e){return!!e&&/^[^/]+\/(jpe?g|gif|png|svg|svg\+xml|bmp|webp|avif)$/.test(e)}},35245:function(e){"use strict";e.exports={md:"text/markdown",markdown:"text/markdown",mp4:"video/mp4",mp3:"audio/mp3",svg:"image/svg+xml",jpg:"image/jpeg",png:"image/png",gif:"image/gif",heic:"image/heic",heif:"image/heif",yaml:"text/yaml",yml:"text/yaml",csv:"text/csv",tsv:"text/tab-separated-values",tab:"text/tab-separated-values",avi:"video/x-msvideo",mks:"video/x-matroska",mkv:"video/x-matroska",mov:"video/quicktime",dicom:"application/dicom",doc:"application/msword",docm:"application/vnd.ms-word.document.macroenabled.12",docx:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",dot:"application/msword",dotm:"application/vnd.ms-word.template.macroenabled.12",dotx:"application/vnd.openxmlformats-officedocument.wordprocessingml.template",xla:"application/vnd.ms-excel",xlam:"application/vnd.ms-excel.addin.macroenabled.12",xlc:"application/vnd.ms-excel",xlf:"application/x-xliff+xml",xlm:"application/vnd.ms-excel",xls:"application/vnd.ms-excel",xlsb:"application/vnd.ms-excel.sheet.binary.macroenabled.12",xlsm:"application/vnd.ms-excel.sheet.macroenabled.12",xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",xlt:"application/vnd.ms-excel",xltm:"application/vnd.ms-excel.template.macroenabled.12",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template",xlw:"application/vnd.ms-excel",txt:"text/plain",text:"text/plain",conf:"text/plain",log:"text/plain",pdf:"application/pdf",zip:"application/zip","7z":"application/x-7z-compressed",rar:"application/x-rar-compressed",tar:"application/x-tar",gz:"application/gzip",dmg:"application/x-apple-diskimage"}},55566:function(e,t,n){"use strict";var r=n(46964);e.exports=function(e){var t=r(e),n=0===t.hours?"":"".concat(t.hours,"h"),i=0===t.minutes?"":"".concat(0===t.hours?t.minutes:" ".concat(t.minutes.toString(10).padStart(2,"0")),"m"),o=0!==t.hours?"":"".concat(0===t.minutes?t.seconds:" ".concat(t.seconds.toString(10).padStart(2,"0")),"s");return"".concat(n).concat(i).concat(o)}},46964:function(e){"use strict";e.exports=function(e){return{hours:Math.floor(e/3600)%24,minutes:Math.floor(e/60)%60,seconds:Math.floor(e%60)}}},84566:function(e){"use strict";e.exports=function(e){var t=[],n=[];function r(e){t.push(e)}function i(e){n.push(e)}return Promise.all(e.map((function(e){return e.then(r,i)}))).then((function(){return{successful:t,failed:n}}))}},74894:function(e){"use strict";e.exports=Array.from},43159:function(e){"use strict";var t="...";e.exports=function(e,n){if(0===n)return"";if(e.length<=n)return e;if(n<=t.length+1)return"".concat(e.slice(0,n-1),"\u2026");var r=n-t.length,i=Math.ceil(r/2),o=Math.floor(r/2);return e.slice(0,i)+t+e.slice(-o)}},28106:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hasCORS=void 0;var n=!1;try{n="undefined"!==typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(r){}t.hasCORS=n},54641:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.decode=t.encode=void 0,t.encode=function(e){var t="";for(var n in e)e.hasOwnProperty(n)&&(t.length&&(t+="&"),t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t},t.decode=function(e){for(var t={},n=e.split("&"),r=0,i=n.length;r<i;r++){var o=n[r].split("=");t[decodeURIComponent(o[0])]=decodeURIComponent(o[1])}return t}},19767:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parse=void 0;var n=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,r=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];t.parse=function(e){var t=e,i=e.indexOf("["),o=e.indexOf("]");-1!=i&&-1!=o&&(e=e.substring(0,i)+e.substring(i,o).replace(/:/g,";")+e.substring(o,e.length));for(var a=n.exec(e||""),s={},u=14;u--;)s[r[u]]=a[u]||"";return-1!=i&&-1!=o&&(s.source=t,s.host=s.host.substring(1,s.host.length-1).replace(/;/g,":"),s.authority=s.authority.replace("[","").replace("]","").replace(/;/g,":"),s.ipv6uri=!0),s.pathNames=function(e,t){var n=/\/{2,9}/g,r=t.replace(n,"/").split("/");"/"!=t.slice(0,1)&&0!==t.length||r.splice(0,1);"/"==t.slice(-1)&&r.splice(r.length-1,1);return r}(0,s.path),s.queryKey=function(e,t){var n={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,(function(e,t,r){t&&(n[t]=r)})),n}(0,s.query),s}},66758:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.yeast=t.decode=t.encode=void 0;var n,r="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),i={},o=0,a=0;function s(e){var t="";do{t=r[e%64]+t,e=Math.floor(e/64)}while(e>0);return t}for(t.encode=s,t.decode=function(e){var t=0;for(a=0;a<e.length;a++)t=64*t+i[e.charAt(a)];return t},t.yeast=function(){var e=s(+new Date);return e!==n?(o=0,n=e):e+"."+s(o++)};a<64;a++)i[r[a]]=a},62691:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.globalThisShim=void 0,t.globalThisShim="undefined"!==typeof self?self:"undefined"!==typeof window?window:Function("return this")()},65084:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.nextTick=t.parse=t.installTimerFunctions=t.transports=t.Transport=t.protocol=t.Socket=void 0;var r=n(718);Object.defineProperty(t,"Socket",{enumerable:!0,get:function(){return r.Socket}}),t.protocol=r.Socket.protocol;var i=n(95548);Object.defineProperty(t,"Transport",{enumerable:!0,get:function(){return i.Transport}});var o=n(16047);Object.defineProperty(t,"transports",{enumerable:!0,get:function(){return o.transports}});var a=n(82151);Object.defineProperty(t,"installTimerFunctions",{enumerable:!0,get:function(){return a.installTimerFunctions}});var s=n(19767);Object.defineProperty(t,"parse",{enumerable:!0,get:function(){return s.parse}});var u=n(8404);Object.defineProperty(t,"nextTick",{enumerable:!0,get:function(){return u.nextTick}})},718:function(e,t,n){"use strict";var r=n(34575).default,i=n(93913).default,o=n(81506).default,a=n(2205).default,s=n(99842).default,u=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Socket=void 0;var l=n(16047),c=n(82151),p=n(54641),d=n(19767),f=u(n(18392)),h=n(196),v=n(74179),y=n(8404),m=(0,f.default)("engine.io-client:socket"),g=function(e){a(n,e);var t=s(n);function n(e){var i,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return r(this,n),(i=t.call(this)).binaryType=y.defaultBinaryType,i.writeBuffer=[],e&&"object"===typeof e&&(a=e,e=null),e?(e=(0,d.parse)(e),a.hostname=e.host,a.secure="https"===e.protocol||"wss"===e.protocol,a.port=e.port,e.query&&(a.query=e.query)):a.host&&(a.hostname=(0,d.parse)(a.host).host),(0,c.installTimerFunctions)(o(i),a),i.secure=null!=a.secure?a.secure:"undefined"!==typeof location&&"https:"===location.protocol,a.hostname&&!a.port&&(a.port=i.secure?"443":"80"),i.hostname=a.hostname||("undefined"!==typeof location?location.hostname:"localhost"),i.port=a.port||("undefined"!==typeof location&&location.port?location.port:i.secure?"443":"80"),i.transports=a.transports||["polling","websocket","webtransport"],i.writeBuffer=[],i.prevBufferLen=0,i.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},a),i.opts.path=i.opts.path.replace(/\/$/,"")+(i.opts.addTrailingSlash?"/":""),"string"===typeof i.opts.query&&(i.opts.query=(0,p.decode)(i.opts.query)),i.id=null,i.upgrades=null,i.pingInterval=null,i.pingTimeout=null,i.pingTimeoutTimer=null,"function"===typeof addEventListener&&(i.opts.closeOnBeforeunload&&(i.beforeunloadEventListener=function(){i.transport&&(i.transport.removeAllListeners(),i.transport.close())},addEventListener("beforeunload",i.beforeunloadEventListener,!1)),"localhost"!==i.hostname&&(i.offlineEventListener=function(){i.onClose("transport close",{description:"network connection lost"})},addEventListener("offline",i.offlineEventListener,!1))),i.open(),i}return i(n,[{key:"createTransport",value:function(e){m('creating transport "%s"',e);var t=Object.assign({},this.opts.query);t.EIO=v.protocol,t.transport=e,this.id&&(t.sid=this.id);var n=Object.assign({},this.opts,{query:t,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[e]);return m("options: %j",n),new l.transports[e](n)}},{key:"open",value:function(){var e,t=this;if(this.opts.rememberUpgrade&&n.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket"))e="websocket";else{if(0===this.transports.length)return void this.setTimeoutFn((function(){t.emitReserved("error","No transports available")}),0);e=this.transports[0]}this.readyState="opening";try{e=this.createTransport(e)}catch(r){return m("error while creating transport: %s",r),this.transports.shift(),void this.open()}e.open(),this.setTransport(e)}},{key:"setTransport",value:function(e){var t=this;m("setting transport %s",e.name),this.transport&&(m("clearing existing transport %s",this.transport.name),this.transport.removeAllListeners()),this.transport=e,e.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",(function(e){return t.onClose("transport close",e)}))}},{key:"probe",value:function(e){var t=this;m('probing transport "%s"',e);var r=this.createTransport(e),i=!1;n.priorWebsocketSuccess=!1;var o=function(){i||(m('probe transport "%s" opened',e),r.send([{type:"ping",data:"probe"}]),r.once("packet",(function(o){if(!i)if("pong"===o.type&&"probe"===o.data){if(m('probe transport "%s" pong',e),t.upgrading=!0,t.emitReserved("upgrading",r),!r)return;n.priorWebsocketSuccess="websocket"===r.name,m('pausing current transport "%s"',t.transport.name),t.transport.pause((function(){i||"closed"!==t.readyState&&(m("changing transport and sending upgrade packet"),p(),t.setTransport(r),r.send([{type:"upgrade"}]),t.emitReserved("upgrade",r),r=null,t.upgrading=!1,t.flush())}))}else{m('probe transport "%s" failed',e);var a=new Error("probe error");a.transport=r.name,t.emitReserved("upgradeError",a)}})))};function a(){i||(i=!0,p(),r.close(),r=null)}var s=function(n){var i=new Error("probe error: "+n);i.transport=r.name,a(),m('probe transport "%s" failed because of error: %s',e,n),t.emitReserved("upgradeError",i)};function u(){s("transport closed")}function l(){s("socket closed")}function c(e){r&&e.name!==r.name&&(m('"%s" works - aborting "%s"',e.name,r.name),a())}var p=function(){r.removeListener("open",o),r.removeListener("error",s),r.removeListener("close",u),t.off("close",l),t.off("upgrading",c)};r.once("open",o),r.once("error",s),r.once("close",u),this.once("close",l),this.once("upgrading",c),-1!==this.upgrades.indexOf("webtransport")&&"webtransport"!==e?this.setTimeoutFn((function(){i||r.open()}),200):r.open()}},{key:"onOpen",value:function(){if(m("socket open"),this.readyState="open",n.priorWebsocketSuccess="websocket"===this.transport.name,this.emitReserved("open"),this.flush(),"open"===this.readyState&&this.opts.upgrade){m("starting upgrade probes");for(var e=0,t=this.upgrades.length;e<t;e++)this.probe(this.upgrades[e])}}},{key:"onPacket",value:function(e){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(m('socket receive: type "%s", data "%s"',e.type,e.data),this.emitReserved("packet",e),this.emitReserved("heartbeat"),this.resetPingTimeout(),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":var t=new Error("server error");t.code=e.data,this.onError(t);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data)}else m('packet received with socket readyState "%s"',this.readyState)}},{key:"onHandshake",value:function(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this.upgrades=this.filterUpgrades(e.upgrades),this.pingInterval=e.pingInterval,this.pingTimeout=e.pingTimeout,this.maxPayload=e.maxPayload,this.onOpen(),"closed"!==this.readyState&&this.resetPingTimeout()}},{key:"resetPingTimeout",value:function(){var e=this;this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn((function(){e.onClose("ping timeout")}),this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}},{key:"onDrain",value:function(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0===this.writeBuffer.length?this.emitReserved("drain"):this.flush()}},{key:"flush",value:function(){if("closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){var e=this.getWritablePackets();m("flushing %d packets in socket",e.length),this.transport.send(e),this.prevBufferLen=e.length,this.emitReserved("flush")}}},{key:"getWritablePackets",value:function(){if(!(this.maxPayload&&"polling"===this.transport.name&&this.writeBuffer.length>1))return this.writeBuffer;for(var e=1,t=0;t<this.writeBuffer.length;t++){var n=this.writeBuffer[t].data;if(n&&(e+=(0,c.byteLength)(n)),t>0&&e>this.maxPayload)return m("only send %d out of %d packets",t,this.writeBuffer.length),this.writeBuffer.slice(0,t);e+=2}return m("payload size is %d (max: %d)",e,this.maxPayload),this.writeBuffer}},{key:"write",value:function(e,t,n){return this.sendPacket("message",e,t,n),this}},{key:"send",value:function(e,t,n){return this.sendPacket("message",e,t,n),this}},{key:"sendPacket",value:function(e,t,n,r){if("function"===typeof t&&(r=t,t=void 0),"function"===typeof n&&(r=n,n=null),"closing"!==this.readyState&&"closed"!==this.readyState){(n=n||{}).compress=!1!==n.compress;var i={type:e,data:t,options:n};this.emitReserved("packetCreate",i),this.writeBuffer.push(i),r&&this.once("flush",r),this.flush()}}},{key:"close",value:function(){var e=this,t=function(){e.onClose("forced close"),m("socket closing - telling transport to close"),e.transport.close()},n=function n(){e.off("upgrade",n),e.off("upgradeError",n),t()},r=function(){e.once("upgrade",n),e.once("upgradeError",n)};return"opening"!==this.readyState&&"open"!==this.readyState||(this.readyState="closing",this.writeBuffer.length?this.once("drain",(function(){e.upgrading?r():t()})):this.upgrading?r():t()),this}},{key:"onError",value:function(e){m("socket error %j",e),n.priorWebsocketSuccess=!1,this.emitReserved("error",e),this.onClose("transport error",e)}},{key:"onClose",value:function(e,t){"opening"!==this.readyState&&"open"!==this.readyState&&"closing"!==this.readyState||(m('socket close with reason: "%s"',e),this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),"function"===typeof removeEventListener&&(removeEventListener("beforeunload",this.beforeunloadEventListener,!1),removeEventListener("offline",this.offlineEventListener,!1)),this.readyState="closed",this.id=null,this.emitReserved("close",e,t),this.writeBuffer=[],this.prevBufferLen=0)}},{key:"filterUpgrades",value:function(e){for(var t=[],n=0,r=e.length;n<r;n++)~this.transports.indexOf(e[n])&&t.push(e[n]);return t}}]),n}(h.Emitter);t.Socket=g,g.protocol=v.protocol},95548:function(e,t,n){"use strict";var r=n(81506).default,i=n(16525).default,o=n(29754).default,a=n(93913).default,s=n(34575).default,u=n(2205).default,l=n(99842).default,c=n(65957).default,p=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Transport=void 0;var d=n(74179),f=n(196),h=n(82151),v=p(n(18392)),y=n(54641),m=(0,v.default)("engine.io-client:transport"),g=function(e){u(n,e);var t=l(n);function n(e,r,i){var o;return s(this,n),(o=t.call(this,e)).description=r,o.context=i,o.type="TransportError",o}return a(n)}(c(Error)),b=function(e){u(n,e);var t=l(n);function n(e){var i;return s(this,n),(i=t.call(this)).writable=!1,(0,h.installTimerFunctions)(r(i),e),i.opts=e,i.query=e.query,i.socket=e.socket,i}return a(n,[{key:"onError",value:function(e,t,r){return i(o(n.prototype),"emitReserved",this).call(this,"error",new g(e,t,r)),this}},{key:"open",value:function(){return this.readyState="opening",this.doOpen(),this}},{key:"close",value:function(){return"opening"!==this.readyState&&"open"!==this.readyState||(this.doClose(),this.onClose()),this}},{key:"send",value:function(e){"open"===this.readyState?this.write(e):m("transport is not open, discarding packets")}},{key:"onOpen",value:function(){this.readyState="open",this.writable=!0,i(o(n.prototype),"emitReserved",this).call(this,"open")}},{key:"onData",value:function(e){var t=(0,d.decodePacket)(e,this.socket.binaryType);this.onPacket(t)}},{key:"onPacket",value:function(e){i(o(n.prototype),"emitReserved",this).call(this,"packet",e)}},{key:"onClose",value:function(e){this.readyState="closed",i(o(n.prototype),"emitReserved",this).call(this,"close",e)}},{key:"pause",value:function(e){}},{key:"createUri",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e+"://"+this._hostname()+this._port()+this.opts.path+this._query(t)}},{key:"_hostname",value:function(){var e=this.opts.hostname;return-1===e.indexOf(":")?e:"["+e+"]"}},{key:"_port",value:function(){return this.opts.port&&(this.opts.secure&&Number(443!==this.opts.port)||!this.opts.secure&&80!==Number(this.opts.port))?":"+this.opts.port:""}},{key:"_query",value:function(e){var t=(0,y.encode)(e);return t.length?"?"+t:""}}]),n}(f.Emitter);t.Transport=b},16047:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.transports=void 0;var r=n(14898),i=n(17493),o=n(9461);t.transports={websocket:i.WS,webtransport:o.WT,polling:r.Polling}},14898:function(e,t,n){"use strict";var r=n(81506).default,i=n(34575).default,o=n(93913).default,a=n(2205).default,s=n(99842).default,u=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Request=t.Polling=void 0;var l=n(95548),c=u(n(18392)),p=n(66758),d=n(74179),f=n(14044),h=n(196),v=n(82151),y=n(62691),m=(0,c.default)("engine.io-client:polling");function g(){}var b=null!=new f.XHR({xdomain:!1}).responseType,k=function(e){a(n,e);var t=s(n);function n(e){var r;if(i(this,n),(r=t.call(this,e)).polling=!1,"undefined"!==typeof location){var o="https:"===location.protocol,a=location.port;a||(a=o?"443":"80"),r.xd="undefined"!==typeof location&&e.hostname!==location.hostname||a!==e.port}var s=e&&e.forceBase64;return r.supportsBinary=b&&!s,r.opts.withCredentials&&(r.cookieJar=(0,f.createCookieJar)()),r}return o(n,[{key:"name",get:function(){return"polling"}},{key:"doOpen",value:function(){this.poll()}},{key:"pause",value:function(e){var t=this;this.readyState="pausing";var n=function(){m("paused"),t.readyState="paused",e()};if(this.polling||!this.writable){var r=0;this.polling&&(m("we are currently polling - waiting to pause"),r++,this.once("pollComplete",(function(){m("pre-pause polling complete"),--r||n()}))),this.writable||(m("we are currently writing - waiting to pause"),r++,this.once("drain",(function(){m("pre-pause writing complete"),--r||n()})))}else n()}},{key:"poll",value:function(){m("polling"),this.polling=!0,this.doPoll(),this.emitReserved("poll")}},{key:"onData",value:function(e){var t=this;m("polling got data %s",e);(0,d.decodePayload)(e,this.socket.binaryType).forEach((function(e){if("opening"===t.readyState&&"open"===e.type&&t.onOpen(),"close"===e.type)return t.onClose({description:"transport closed by the server"}),!1;t.onPacket(e)})),"closed"!==this.readyState&&(this.polling=!1,this.emitReserved("pollComplete"),"open"===this.readyState?this.poll():m('ignoring poll - transport state "%s"',this.readyState))}},{key:"doClose",value:function(){var e=this,t=function(){m("writing close packet"),e.write([{type:"close"}])};"open"===this.readyState?(m("transport open - closing"),t()):(m("transport not open - deferring close"),this.once("open",t))}},{key:"write",value:function(e){var t=this;this.writable=!1,(0,d.encodePayload)(e,(function(e){t.doWrite(e,(function(){t.writable=!0,t.emitReserved("drain")}))}))}},{key:"uri",value:function(){var e=this.opts.secure?"https":"http",t=this.query||{};return!1!==this.opts.timestampRequests&&(t[this.opts.timestampParam]=(0,p.yeast)()),this.supportsBinary||t.sid||(t.b64=1),this.createUri(e,t)}},{key:"request",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.assign(e,{xd:this.xd,cookieJar:this.cookieJar},this.opts),new w(this.uri(),e)}},{key:"doWrite",value:function(e,t){var n=this,r=this.request({method:"POST",data:e});r.on("success",t),r.on("error",(function(e,t){n.onError("xhr post error",e,t)}))}},{key:"doPoll",value:function(){var e=this;m("xhr poll");var t=this.request();t.on("data",this.onData.bind(this)),t.on("error",(function(t,n){e.onError("xhr poll error",t,n)})),this.pollXhr=t}}]),n}(l.Transport);t.Polling=k;var w=function(e){a(n,e);var t=s(n);function n(e,o){var a;return i(this,n),a=t.call(this),(0,v.installTimerFunctions)(r(a),o),a.opts=o,a.method=o.method||"GET",a.uri=e,a.data=void 0!==o.data?o.data:null,a.create(),a}return o(n,[{key:"create",value:function(){var e,t=this,r=(0,v.pick)(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");r.xdomain=!!this.opts.xd;var i=this.xhr=new f.XHR(r);try{m("xhr open %s: %s",this.method,this.uri),i.open(this.method,this.uri,!0);try{if(this.opts.extraHeaders)for(var o in i.setDisableHeaderCheck&&i.setDisableHeaderCheck(!0),this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(o)&&i.setRequestHeader(o,this.opts.extraHeaders[o])}catch(a){}if("POST"===this.method)try{i.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(a){}try{i.setRequestHeader("Accept","*/*")}catch(a){}null===(e=this.opts.cookieJar)||void 0===e||e.addCookies(i),"withCredentials"in i&&(i.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(i.timeout=this.opts.requestTimeout),i.onreadystatechange=function(){var e;3===i.readyState&&(null===(e=t.opts.cookieJar)||void 0===e||e.parseCookies(i)),4===i.readyState&&(200===i.status||1223===i.status?t.onLoad():t.setTimeoutFn((function(){t.onError("number"===typeof i.status?i.status:0)}),0))},m("xhr data %s",this.data),i.send(this.data)}catch(a){return void this.setTimeoutFn((function(){t.onError(a)}),0)}"undefined"!==typeof document&&(this.index=n.requestsCount++,n.requests[this.index]=this)}},{key:"onError",value:function(e){this.emitReserved("error",e,this.xhr),this.cleanup(!0)}},{key:"cleanup",value:function(e){if("undefined"!==typeof this.xhr&&null!==this.xhr){if(this.xhr.onreadystatechange=g,e)try{this.xhr.abort()}catch(t){}"undefined"!==typeof document&&delete n.requests[this.index],this.xhr=null}}},{key:"onLoad",value:function(){var e=this.xhr.responseText;null!==e&&(this.emitReserved("data",e),this.emitReserved("success"),this.cleanup())}},{key:"abort",value:function(){this.cleanup()}}]),n}(h.Emitter);if(t.Request=w,w.requestsCount=0,w.requests={},"undefined"!==typeof document)if("function"===typeof attachEvent)attachEvent("onunload",P);else if("function"===typeof addEventListener){var _="onpagehide"in y.globalThisShim?"pagehide":"unload";addEventListener(_,P,!1)}function P(){for(var e in w.requests)w.requests.hasOwnProperty(e)&&w.requests[e].abort()}},8404:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.defaultBinaryType=t.usingBrowserWebSocket=t.WebSocket=t.nextTick=void 0;var r=n(62691);t.nextTick="function"===typeof Promise&&"function"===typeof Promise.resolve?function(e){return Promise.resolve().then(e)}:function(e,t){return t(e,0)},t.WebSocket=r.globalThisShim.WebSocket||r.globalThisShim.MozWebSocket,t.usingBrowserWebSocket=!0,t.defaultBinaryType="arraybuffer"},17493:function(e,t,n){"use strict";var r=n(34575).default,i=n(93913).default,o=n(2205).default,a=n(99842).default,s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.WS=void 0;var u=n(95548),l=n(66758),c=n(82151),p=n(8404),d=s(n(18392)),f=n(74179),h=(0,d.default)("engine.io-client:websocket"),v="undefined"!==typeof navigator&&"string"===typeof navigator.product&&"reactnative"===navigator.product.toLowerCase(),y=function(e){o(n,e);var t=a(n);function n(e){var i;return r(this,n),(i=t.call(this,e)).supportsBinary=!e.forceBase64,i}return i(n,[{key:"name",get:function(){return"websocket"}},{key:"doOpen",value:function(){if(this.check()){var e=this.uri(),t=this.opts.protocols,n=v?{}:(0,c.pick)(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(n.headers=this.opts.extraHeaders);try{this.ws=p.usingBrowserWebSocket&&!v?t?new p.WebSocket(e,t):new p.WebSocket(e):new p.WebSocket(e,t,n)}catch(r){return this.emitReserved("error",r)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}}},{key:"addEventListeners",value:function(){var e=this;this.ws.onopen=function(){e.opts.autoUnref&&e.ws._socket.unref(),e.onOpen()},this.ws.onclose=function(t){return e.onClose({description:"websocket connection closed",context:t})},this.ws.onmessage=function(t){return e.onData(t.data)},this.ws.onerror=function(t){return e.onError("websocket error",t)}}},{key:"write",value:function(e){var t=this;this.writable=!1;for(var n=function(){var n=e[r],i=r===e.length-1;(0,f.encodePacket)(n,t.supportsBinary,(function(e){var r={};p.usingBrowserWebSocket||(n.options&&(r.compress=n.options.compress),t.opts.perMessageDeflate&&("string"===typeof e?Buffer.byteLength(e):e.length)<t.opts.perMessageDeflate.threshold&&(r.compress=!1));try{p.usingBrowserWebSocket?t.ws.send(e):t.ws.send(e,r)}catch(o){h("websocket closed before onclose event")}i&&(0,p.nextTick)((function(){t.writable=!0,t.emitReserved("drain")}),t.setTimeoutFn)}))},r=0;r<e.length;r++)n()}},{key:"doClose",value:function(){"undefined"!==typeof this.ws&&(this.ws.close(),this.ws=null)}},{key:"uri",value:function(){var e=this.opts.secure?"wss":"ws",t=this.query||{};return this.opts.timestampRequests&&(t[this.opts.timestampParam]=(0,l.yeast)()),this.supportsBinary||(t.b64=1),this.createUri(e,t)}},{key:"check",value:function(){return!!p.WebSocket}}]),n}(u.Transport);t.WS=y},9461:function(e,t,n){"use strict";var r=n(34575).default,i=n(93913).default,o=n(2205).default,a=n(99842).default,s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.WT=void 0;var u=n(95548),l=n(8404),c=n(74179),p=(0,s(n(18392)).default)("engine.io-client:webtransport"),d=function(e){o(n,e);var t=a(n);function n(){return r(this,n),t.apply(this,arguments)}return i(n,[{key:"name",get:function(){return"webtransport"}},{key:"doOpen",value:function(){var e=this;"function"===typeof WebTransport&&(this.transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name]),this.transport.closed.then((function(){p("transport closed gracefully"),e.onClose()})).catch((function(t){p("transport closed due to %s",t),e.onError("webtransport error",t)})),this.transport.ready.then((function(){e.transport.createBidirectionalStream().then((function(t){var n=(0,c.createPacketDecoderStream)(Number.MAX_SAFE_INTEGER,e.socket.binaryType),r=t.readable.pipeThrough(n).getReader(),i=(0,c.createPacketEncoderStream)();i.readable.pipeTo(t.writable),e.writer=i.writable.getWriter();!function t(){r.read().then((function(n){var r=n.done,i=n.value;r?p("session is closed"):(p("received chunk: %o",i),e.onPacket(i),t())})).catch((function(e){p("an error occurred while reading: %s",e)}))}();var o={type:"open"};e.query.sid&&(o.data='{"sid":"'.concat(e.query.sid,'"}')),e.writer.write(o).then((function(){return e.onOpen()}))}))})))}},{key:"write",value:function(e){var t=this;this.writable=!1;for(var n=function(){var n=e[r],i=r===e.length-1;t.writer.write(n).then((function(){i&&(0,l.nextTick)((function(){t.writable=!0,t.emitReserved("drain")}),t.setTimeoutFn)}))},r=0;r<e.length;r++)n()}},{key:"doClose",value:function(){var e;null===(e=this.transport)||void 0===e||e.close()}}]),n}(u.Transport);t.WT=d},14044:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createCookieJar=t.XHR=void 0;var r=n(28106),i=n(62691);t.XHR=function(e){var t=e.xdomain;try{if("undefined"!==typeof XMLHttpRequest&&(!t||r.hasCORS))return new XMLHttpRequest}catch(n){}if(!t)try{return new(i.globalThisShim[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(n){}},t.createCookieJar=function(){}},82151:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.byteLength=t.installTimerFunctions=t.pick=void 0;var r=n(62691);t.pick=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return n.reduce((function(t,n){return e.hasOwnProperty(n)&&(t[n]=e[n]),t}),{})};var i=r.globalThisShim.setTimeout,o=r.globalThisShim.clearTimeout;t.installTimerFunctions=function(e,t){t.useNativeTimers?(e.setTimeoutFn=i.bind(r.globalThisShim),e.clearTimeoutFn=o.bind(r.globalThisShim)):(e.setTimeoutFn=r.globalThisShim.setTimeout.bind(r.globalThisShim),e.clearTimeoutFn=r.globalThisShim.clearTimeout.bind(r.globalThisShim))};t.byteLength=function(e){return"string"===typeof e?function(e){for(var t=0,n=0,r=0,i=e.length;r<i;r++)(t=e.charCodeAt(r))<128?n+=1:t<2048?n+=2:t<55296||t>=57344?n+=3:(r++,n+=4);return n}(e):Math.ceil(1.33*(e.byteLength||e.size))}},5642:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ERROR_PACKET=t.PACKET_TYPES_REVERSE=t.PACKET_TYPES=void 0;var n=Object.create(null);t.PACKET_TYPES=n,n.open="0",n.close="1",n.ping="2",n.pong="3",n.message="4",n.upgrade="5",n.noop="6";var r=Object.create(null);t.PACKET_TYPES_REVERSE=r,Object.keys(n).forEach((function(e){r[n[e]]=e}));t.ERROR_PACKET={type:"error",data:"parser error"}},29697:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.decode=t.encode=void 0;for(var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r="undefined"===typeof Uint8Array?[]:new Uint8Array(256),i=0;i<n.length;i++)r[n.charCodeAt(i)]=i;t.encode=function(e){var t,r=new Uint8Array(e),i=r.length,o="";for(t=0;t<i;t+=3)o+=n[r[t]>>2],o+=n[(3&r[t])<<4|r[t+1]>>4],o+=n[(15&r[t+1])<<2|r[t+2]>>6],o+=n[63&r[t+2]];return i%3===2?o=o.substring(0,o.length-1)+"=":i%3===1&&(o=o.substring(0,o.length-2)+"=="),o};t.decode=function(e){var t,n,i,o,a,s=.75*e.length,u=e.length,l=0;"="===e[e.length-1]&&(s--,"="===e[e.length-2]&&s--);var c=new ArrayBuffer(s),p=new Uint8Array(c);for(t=0;t<u;t+=4)n=r[e.charCodeAt(t)],i=r[e.charCodeAt(t+1)],o=r[e.charCodeAt(t+2)],a=r[e.charCodeAt(t+3)],p[l++]=n<<2|i>>4,p[l++]=(15&i)<<4|o>>2,p[l++]=(3&o)<<6|63&a;return c}},45013:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.decodePacket=void 0;var r=n(5642),i=n(29697),o="function"===typeof ArrayBuffer;t.decodePacket=function(e,t){if("string"!==typeof e)return{type:"message",data:s(e,t)};var n=e.charAt(0);return"b"===n?{type:"message",data:a(e.substring(1),t)}:r.PACKET_TYPES_REVERSE[n]?e.length>1?{type:r.PACKET_TYPES_REVERSE[n],data:e.substring(1)}:{type:r.PACKET_TYPES_REVERSE[n]}:r.ERROR_PACKET};var a=function(e,t){if(o){var n=(0,i.decode)(e);return s(n,t)}return{base64:!0,data:e}},s=function(e,t){return"blob"===t?e instanceof Blob?e:new Blob([e]):e instanceof ArrayBuffer?e:e.buffer}},13668:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.encodePacket=t.encodePacketToBinary=void 0;var r=n(5642),i="function"===typeof Blob||"undefined"!==typeof Blob&&"[object BlobConstructor]"===Object.prototype.toString.call(Blob),o="function"===typeof ArrayBuffer,a=function(e){return"function"===typeof ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer},s=function(e,t,n){var s=e.type,u=e.data;return i&&u instanceof Blob?t?n(u):l(u,n):o&&(u instanceof ArrayBuffer||a(u))?t?n(u):l(new Blob([u]),n):n(r.PACKET_TYPES[s]+(u||""))};t.encodePacket=s;var u,l=function(e,t){var n=new FileReader;return n.onload=function(){var e=n.result.split(",")[1];t("b"+(e||""))},n.readAsDataURL(e)};function c(e){return e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}t.encodePacketToBinary=function(e,t){return i&&e.data instanceof Blob?e.data.arrayBuffer().then(c).then(t):o&&(e.data instanceof ArrayBuffer||a(e.data))?t(c(e.data)):void s(e,!1,(function(e){u||(u=new TextEncoder),t(u.encode(e))}))}},74179:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.decodePayload=t.decodePacket=t.encodePayload=t.encodePacket=t.protocol=t.createPacketDecoderStream=t.createPacketEncoderStream=void 0;var r=n(13668);Object.defineProperty(t,"encodePacket",{enumerable:!0,get:function(){return r.encodePacket}});var i=n(45013);Object.defineProperty(t,"decodePacket",{enumerable:!0,get:function(){return i.decodePacket}});var o=n(5642),a=String.fromCharCode(30);t.encodePayload=function(e,t){var n=e.length,i=new Array(n),o=0;e.forEach((function(e,s){(0,r.encodePacket)(e,!1,(function(e){i[s]=e,++o===n&&t(i.join(a))}))}))};var s;function u(e){return e.reduce((function(e,t){return e+t.length}),0)}function l(e,t){if(e[0].length===t)return e.shift();for(var n=new Uint8Array(t),r=0,i=0;i<t;i++)n[i]=e[0][r++],r===e[0].length&&(e.shift(),r=0);return e.length&&r<e[0].length&&(e[0]=e[0].slice(r)),n}t.decodePayload=function(e,t){for(var n=e.split(a),r=[],o=0;o<n.length;o++){var s=(0,i.decodePacket)(n[o],t);if(r.push(s),"error"===s.type)break}return r},t.createPacketEncoderStream=function(){return new TransformStream({transform:function(e,t){(0,r.encodePacketToBinary)(e,(function(n){var r,i=n.length;if(i<126)r=new Uint8Array(1),new DataView(r.buffer).setUint8(0,i);else if(i<65536){r=new Uint8Array(3);var o=new DataView(r.buffer);o.setUint8(0,126),o.setUint16(1,i)}else{r=new Uint8Array(9);var a=new DataView(r.buffer);a.setUint8(0,127),a.setBigUint64(1,BigInt(i))}e.data&&"string"!==typeof e.data&&(r[0]|=128),t.enqueue(r),t.enqueue(n)}))}})},t.createPacketDecoderStream=function(e,t){s||(s=new TextDecoder);var n=[],r=0,a=-1,c=!1;return new TransformStream({transform:function(p,d){for(n.push(p);;){if(0===r){if(u(n)<1)break;var f=l(n,1);c=128===(128&f[0]),a=127&f[0],r=a<126?3:126===a?1:2}else if(1===r){if(u(n)<2)break;var h=l(n,2);a=new DataView(h.buffer,h.byteOffset,h.length).getUint16(0),r=3}else if(2===r){if(u(n)<8)break;var v=l(n,8),y=new DataView(v.buffer,v.byteOffset,v.length),m=y.getUint32(0);if(m>Math.pow(2,21)-1){d.enqueue(o.ERROR_PACKET);break}a=m*Math.pow(2,32)+y.getUint32(4),r=3}else{if(u(n)<a)break;var g=l(n,a);d.enqueue((0,i.decodePacket)(c?g:s.decode(g),t)),r=0}if(0===a||a>e){d.enqueue(o.ERROR_PACKET);break}}}})},t.protocol=4},98499:function(e,t){"use strict";function n(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}Object.defineProperty(t,"__esModule",{value:!0}),t.Backoff=void 0,t.Backoff=n,n.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*e);e=0==(1&Math.floor(10*t))?e-n:e+n}return 0|Math.min(e,this.max)},n.prototype.reset=function(){this.attempts=0},n.prototype.setMin=function(e){this.ms=e},n.prototype.setMax=function(e){this.max=e},n.prototype.setJitter=function(e){this.jitter=e}},19793:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.connect=t.io=t.Socket=t.Manager=t.protocol=void 0;var i=n(99693),o=n(82868);Object.defineProperty(t,"Manager",{enumerable:!0,get:function(){return o.Manager}});var a=n(84860);Object.defineProperty(t,"Socket",{enumerable:!0,get:function(){return a.Socket}});var s=r(n(18392)).default("socket.io-client"),u={};function l(e,t){"object"===typeof e&&(t=e,e=void 0),t=t||{};var n,r=i.url(e,t.path||"/socket.io"),a=r.source,l=r.id,c=r.path,p=u[l]&&c in u[l].nsps;return t.forceNew||t["force new connection"]||!1===t.multiplex||p?(s("ignoring socket cache for %s",a),n=new o.Manager(a,t)):(u[l]||(s("new io instance for %s",a),u[l]=new o.Manager(a,t)),n=u[l]),r.query&&!t.query&&(t.query=r.queryKey),n.socket(r.path,t)}t.io=l,t.connect=l,t.default=l,Object.assign(l,{Manager:o.Manager,Socket:a.Socket,io:l,connect:l});var c=n(28119);Object.defineProperty(t,"protocol",{enumerable:!0,get:function(){return c.protocol}}),e.exports=l},82868:function(e,t,n){"use strict";var r=n(34575).default,i=n(93913).default,o=n(81506).default,a=n(2205).default,s=n(99842).default,u=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),l=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),c=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&u(t,e,n);return l(t,e),t},p=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Manager=void 0;var d=n(65084),f=n(84860),h=c(n(28119)),v=n(3521),y=n(98499),m=n(196),g=p(n(18392)).default("socket.io-client:manager"),b=function(e){a(n,e);var t=s(n);function n(e,i){var a,s;r(this,n),(a=t.call(this)).nsps={},a.subs=[],e&&"object"===typeof e&&(i=e,e=void 0),(i=i||{}).path=i.path||"/socket.io",a.opts=i,d.installTimerFunctions(o(a),i),a.reconnection(!1!==i.reconnection),a.reconnectionAttempts(i.reconnectionAttempts||1/0),a.reconnectionDelay(i.reconnectionDelay||1e3),a.reconnectionDelayMax(i.reconnectionDelayMax||5e3),a.randomizationFactor(null!==(s=i.randomizationFactor)&&void 0!==s?s:.5),a.backoff=new y.Backoff({min:a.reconnectionDelay(),max:a.reconnectionDelayMax(),jitter:a.randomizationFactor()}),a.timeout(null==i.timeout?2e4:i.timeout),a._readyState="closed",a.uri=e;var u=i.parser||h;return a.encoder=new u.Encoder,a.decoder=new u.Decoder,a._autoConnect=!1!==i.autoConnect,a._autoConnect&&a.open(),a}return i(n,[{key:"reconnection",value:function(e){return arguments.length?(this._reconnection=!!e,this):this._reconnection}},{key:"reconnectionAttempts",value:function(e){return void 0===e?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}},{key:"reconnectionDelay",value:function(e){var t;return void 0===e?this._reconnectionDelay:(this._reconnectionDelay=e,null===(t=this.backoff)||void 0===t||t.setMin(e),this)}},{key:"randomizationFactor",value:function(e){var t;return void 0===e?this._randomizationFactor:(this._randomizationFactor=e,null===(t=this.backoff)||void 0===t||t.setJitter(e),this)}},{key:"reconnectionDelayMax",value:function(e){var t;return void 0===e?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,null===(t=this.backoff)||void 0===t||t.setMax(e),this)}},{key:"timeout",value:function(e){return arguments.length?(this._timeout=e,this):this._timeout}},{key:"maybeReconnectOnOpen",value:function(){!this._reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()}},{key:"open",value:function(e){var t=this;if(g("readyState %s",this._readyState),~this._readyState.indexOf("open"))return this;g("opening %s",this.uri),this.engine=new d.Socket(this.uri,this.opts);var n=this.engine,r=this;this._readyState="opening",this.skipReconnect=!1;var i=v.on(n,"open",(function(){r.onopen(),e&&e()})),o=function(n){g("error"),t.cleanup(),t._readyState="closed",t.emitReserved("error",n),e?e(n):t.maybeReconnectOnOpen()},a=v.on(n,"error",o);if(!1!==this._timeout){var s=this._timeout;g("connect attempt will timeout after %d",s);var u=this.setTimeoutFn((function(){g("connect attempt timed out after %d",s),i(),o(new Error("timeout")),n.close()}),s);this.opts.autoUnref&&u.unref(),this.subs.push((function(){t.clearTimeoutFn(u)}))}return this.subs.push(i),this.subs.push(a),this}},{key:"connect",value:function(e){return this.open(e)}},{key:"onopen",value:function(){g("open"),this.cleanup(),this._readyState="open",this.emitReserved("open");var e=this.engine;this.subs.push(v.on(e,"ping",this.onping.bind(this)),v.on(e,"data",this.ondata.bind(this)),v.on(e,"error",this.onerror.bind(this)),v.on(e,"close",this.onclose.bind(this)),v.on(this.decoder,"decoded",this.ondecoded.bind(this)))}},{key:"onping",value:function(){this.emitReserved("ping")}},{key:"ondata",value:function(e){try{this.decoder.add(e)}catch(t){this.onclose("parse error",t)}}},{key:"ondecoded",value:function(e){var t=this;d.nextTick((function(){t.emitReserved("packet",e)}),this.setTimeoutFn)}},{key:"onerror",value:function(e){g("error",e),this.emitReserved("error",e)}},{key:"socket",value:function(e,t){var n=this.nsps[e];return n?this._autoConnect&&!n.active&&n.connect():(n=new f.Socket(this,e,t),this.nsps[e]=n),n}},{key:"_destroy",value:function(e){for(var t=0,n=Object.keys(this.nsps);t<n.length;t++){var r=n[t];if(this.nsps[r].active)return void g("socket %s is still active, skipping close",r)}this._close()}},{key:"_packet",value:function(e){g("writing packet %j",e);for(var t=this.encoder.encode(e),n=0;n<t.length;n++)this.engine.write(t[n],e.options)}},{key:"cleanup",value:function(){g("cleanup"),this.subs.forEach((function(e){return e()})),this.subs.length=0,this.decoder.destroy()}},{key:"_close",value:function(){g("disconnect"),this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close"),this.engine&&this.engine.close()}},{key:"disconnect",value:function(){return this._close()}},{key:"onclose",value:function(e,t){g("closed due to %s",e),this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,t),this._reconnection&&!this.skipReconnect&&this.reconnect()}},{key:"reconnect",value:function(){var e=this;if(this._reconnecting||this.skipReconnect)return this;var t=this;if(this.backoff.attempts>=this._reconnectionAttempts)g("reconnect failed"),this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{var n=this.backoff.duration();g("will wait %dms before reconnect attempt",n),this._reconnecting=!0;var r=this.setTimeoutFn((function(){t.skipReconnect||(g("attempting reconnect"),e.emitReserved("reconnect_attempt",t.backoff.attempts),t.skipReconnect||t.open((function(n){n?(g("reconnect attempt error"),t._reconnecting=!1,t.reconnect(),e.emitReserved("reconnect_error",n)):(g("reconnect success"),t.onreconnect())})))}),n);this.opts.autoUnref&&r.unref(),this.subs.push((function(){e.clearTimeoutFn(r)}))}}},{key:"onreconnect",value:function(){var e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}]),n}(m.Emitter);t.Manager=b},3521:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.on=void 0,t.on=function(e,t,n){return e.on(t,n),function(){e.off(t,n)}}},84860:function(e,t,n){"use strict";var r=n(43269).default,i=n(34575).default,o=n(93913).default,a=n(16525).default,s=n(29754).default,u=n(2205).default,l=n(99842).default,c=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Socket=void 0;var p=n(28119),d=n(3521),f=n(196),h=c(n(18392)).default("socket.io-client:socket"),v=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1}),y=function(e){u(n,e);var t=l(n);function n(e,r,o){var a;return i(this,n),(a=t.call(this)).connected=!1,a.recovered=!1,a.receiveBuffer=[],a.sendBuffer=[],a._queue=[],a._queueSeq=0,a.ids=0,a.acks={},a.flags={},a.io=e,a.nsp=r,o&&o.auth&&(a.auth=o.auth),a._opts=Object.assign({},o),a.io._autoConnect&&a.open(),a}return o(n,[{key:"disconnected",get:function(){return!this.connected}},{key:"subEvents",value:function(){if(!this.subs){var e=this.io;this.subs=[d.on(e,"open",this.onopen.bind(this)),d.on(e,"packet",this.onpacket.bind(this)),d.on(e,"error",this.onerror.bind(this)),d.on(e,"close",this.onclose.bind(this))]}}},{key:"active",get:function(){return!!this.subs}},{key:"connect",value:function(){return this.connected||(this.subEvents(),this.io._reconnecting||this.io.open(),"open"===this.io._readyState&&this.onopen()),this}},{key:"open",value:function(){return this.connect()}},{key:"send",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.unshift("message"),this.emit.apply(this,t),this}},{key:"emit",value:function(e){if(v.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if(n.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(n),this;var i={type:p.PacketType.EVENT,data:n,options:{}};if(i.options.compress=!1!==this.flags.compress,"function"===typeof n[n.length-1]){var o=this.ids++;h("emitting packet with ack id %d",o);var a=n.pop();this._registerAckCallback(o,a),i.id=o}var s=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable,u=this.flags.volatile&&(!s||!this.connected);return u?h("discard packet as the transport is not currently writable"):this.connected?(this.notifyOutgoingListeners(i),this.packet(i)):this.sendBuffer.push(i),this.flags={},this}},{key:"_registerAckCallback",value:function(e,t){var n,r=this,i=null!==(n=this.flags.timeout)&&void 0!==n?n:this._opts.ackTimeout;if(void 0!==i){var o=this.io.setTimeoutFn((function(){delete r.acks[e];for(var n=0;n<r.sendBuffer.length;n++)r.sendBuffer[n].id===e&&(h("removing packet with ack id %d from the buffer",e),r.sendBuffer.splice(n,1));h("event with ack id %d has timed out after %d ms",e,i),t.call(r,new Error("operation has timed out"))}),i);this.acks[e]=function(){r.io.clearTimeoutFn(o);for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];t.apply(r,[null].concat(n))}}else this.acks[e]=t}},{key:"emitWithAck",value:function(e){for(var t=this,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var o=void 0!==this.flags.timeout||void 0!==this._opts.ackTimeout;return new Promise((function(n,i){r.push((function(e,t){return o?e?i(e):n(t):n(e)})),t.emit.apply(t,[e].concat(r))}))}},{key:"_addToQueue",value:function(e){var t,n=this;"function"===typeof e[e.length-1]&&(t=e.pop());var r={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push((function(e){if(r===n._queue[0]){var i=null!==e;if(i)r.tryCount>n._opts.retries&&(h("packet [%d] is discarded after %d tries",r.id,r.tryCount),n._queue.shift(),t&&t(e));else if(h("packet [%d] was successfully sent",r.id),n._queue.shift(),t){for(var o=arguments.length,a=new Array(o>1?o-1:0),s=1;s<o;s++)a[s-1]=arguments[s];t.apply(void 0,[null].concat(a))}return r.pending=!1,n._drainQueue()}})),this._queue.push(r),this._drainQueue()}},{key:"_drainQueue",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(h("draining queue"),this.connected&&0!==this._queue.length){var t=this._queue[0];!t.pending||e?(t.pending=!0,t.tryCount++,h("sending packet [%d] (try n\xb0%d)",t.id,t.tryCount),this.flags=t.flags,this.emit.apply(this,t.args)):h("packet [%d] has already been sent and is waiting for an ack",t.id)}}},{key:"packet",value:function(e){e.nsp=this.nsp,this.io._packet(e)}},{key:"onopen",value:function(){var e=this;h("transport is open - connecting"),"function"==typeof this.auth?this.auth((function(t){e._sendConnectPacket(t)})):this._sendConnectPacket(this.auth)}},{key:"_sendConnectPacket",value:function(e){this.packet({type:p.PacketType.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}},{key:"onerror",value:function(e){this.connected||this.emitReserved("connect_error",e)}},{key:"onclose",value:function(e,t){h("close (%s)",e),this.connected=!1,delete this.id,this.emitReserved("disconnect",e,t)}},{key:"onpacket",value:function(e){if(e.nsp===this.nsp)switch(e.type){case p.PacketType.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case p.PacketType.EVENT:case p.PacketType.BINARY_EVENT:this.onevent(e);break;case p.PacketType.ACK:case p.PacketType.BINARY_ACK:this.onack(e);break;case p.PacketType.DISCONNECT:this.ondisconnect();break;case p.PacketType.CONNECT_ERROR:this.destroy();var t=new Error(e.data.message);t.data=e.data.data,this.emitReserved("connect_error",t)}}},{key:"onevent",value:function(e){var t=e.data||[];h("emitting event %j",t),null!=e.id&&(h("attaching ack callback to event"),t.push(this.ack(e.id))),this.connected?this.emitEvent(t):this.receiveBuffer.push(Object.freeze(t))}},{key:"emitEvent",value:function(e){if(this._anyListeners&&this._anyListeners.length){var t,i=this._anyListeners.slice(),o=r(i);try{for(o.s();!(t=o.n()).done;){t.value.apply(this,e)}}catch(u){o.e(u)}finally{o.f()}}a(s(n.prototype),"emit",this).apply(this,e),this._pid&&e.length&&"string"===typeof e[e.length-1]&&(this._lastOffset=e[e.length-1])}},{key:"ack",value:function(e){var t=this,n=!1;return function(){if(!n){n=!0;for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];h("sending ack %j",i),t.packet({type:p.PacketType.ACK,id:e,data:i})}}}},{key:"onack",value:function(e){var t=this.acks[e.id];"function"===typeof t?(h("calling ack %s with %j",e.id,e.data),t.apply(this,e.data),delete this.acks[e.id]):h("bad ack %s",e.id)}},{key:"onconnect",value:function(e,t){h("socket connected with id %s",e),this.id=e,this.recovered=t&&this._pid===t,this._pid=t,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}},{key:"emitBuffered",value:function(){var e=this;this.receiveBuffer.forEach((function(t){return e.emitEvent(t)})),this.receiveBuffer=[],this.sendBuffer.forEach((function(t){e.notifyOutgoingListeners(t),e.packet(t)})),this.sendBuffer=[]}},{key:"ondisconnect",value:function(){h("server disconnect (%s)",this.nsp),this.destroy(),this.onclose("io server disconnect")}},{key:"destroy",value:function(){this.subs&&(this.subs.forEach((function(e){return e()})),this.subs=void 0),this.io._destroy(this)}},{key:"disconnect",value:function(){return this.connected&&(h("performing disconnect (%s)",this.nsp),this.packet({type:p.PacketType.DISCONNECT})),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}},{key:"close",value:function(){return this.disconnect()}},{key:"compress",value:function(e){return this.flags.compress=e,this}},{key:"volatile",get:function(){return this.flags.volatile=!0,this}},{key:"timeout",value:function(e){return this.flags.timeout=e,this}},{key:"onAny",value:function(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}},{key:"prependAny",value:function(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}},{key:"offAny",value:function(e){if(!this._anyListeners)return this;if(e){for(var t=this._anyListeners,n=0;n<t.length;n++)if(e===t[n])return t.splice(n,1),this}else this._anyListeners=[];return this}},{key:"listenersAny",value:function(){return this._anyListeners||[]}},{key:"onAnyOutgoing",value:function(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}},{key:"prependAnyOutgoing",value:function(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}},{key:"offAnyOutgoing",value:function(e){if(!this._anyOutgoingListeners)return this;if(e){for(var t=this._anyOutgoingListeners,n=0;n<t.length;n++)if(e===t[n])return t.splice(n,1),this}else this._anyOutgoingListeners=[];return this}},{key:"listenersAnyOutgoing",value:function(){return this._anyOutgoingListeners||[]}},{key:"notifyOutgoingListeners",value:function(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){var t,n=this._anyOutgoingListeners.slice(),i=r(n);try{for(i.s();!(t=i.n()).done;){t.value.apply(this,e.data)}}catch(o){i.e(o)}finally{i.f()}}}}]),n}(f.Emitter);t.Socket=y},99693:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.url=void 0;var i=n(65084),o=r(n(18392)).default("socket.io-client:url");t.url=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2?arguments[2]:void 0,r=e;n=n||"undefined"!==typeof location&&location,null==e&&(e=n.protocol+"//"+n.host),"string"===typeof e&&("/"===e.charAt(0)&&(e="/"===e.charAt(1)?n.protocol+e:n.host+e),/^(https?|wss?):\/\//.test(e)||(o("protocol-less url %s",e),e="undefined"!==typeof n?n.protocol+"//"+e:"https://"+e),o("parse %s",e),r=i.parse(e)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/";var a=-1!==r.host.indexOf(":"),s=a?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+s+":"+r.port+t,r.href=r.protocol+"://"+s+(n&&n.port===r.port?"":":"+r.port),r}},34934:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.reconstructPacket=t.deconstructPacket=void 0;var r=n(78594);function i(e,t){if(!e)return e;if((0,r.isBinary)(e)){var n={_placeholder:!0,num:t.length};return t.push(e),n}if(Array.isArray(e)){for(var o=new Array(e.length),a=0;a<e.length;a++)o[a]=i(e[a],t);return o}if("object"===typeof e&&!(e instanceof Date)){var s={};for(var u in e)Object.prototype.hasOwnProperty.call(e,u)&&(s[u]=i(e[u],t));return s}return e}function o(e,t){if(!e)return e;if(e&&!0===e._placeholder){if("number"===typeof e.num&&e.num>=0&&e.num<t.length)return t[e.num];throw new Error("illegal attachments")}if(Array.isArray(e))for(var n=0;n<e.length;n++)e[n]=o(e[n],t);else if("object"===typeof e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(e[r]=o(e[r],t));return e}t.deconstructPacket=function(e){var t=[],n=e.data,r=e;return r.data=i(n,t),r.attachments=t.length,{packet:r,buffers:t}},t.reconstructPacket=function(e,t){return e.data=o(e.data,t),delete e.attachments,e}},28119:function(e,t,n){"use strict";var r=n(16525).default,i=n(29754).default,o=n(2205).default,a=n(99842).default,s=n(34575).default,u=n(93913).default;Object.defineProperty(t,"__esModule",{value:!0}),t.Decoder=t.Encoder=t.PacketType=t.protocol=void 0;var l,c=n(196),p=n(34934),d=n(78594),f=(0,n(18392).default)("socket.io-parser"),h=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"];t.protocol=5,function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"}(l=t.PacketType||(t.PacketType={}));var v=function(){function e(t){s(this,e),this.replacer=t}return u(e,[{key:"encode",value:function(e){return f("encoding packet %j",e),e.type!==l.EVENT&&e.type!==l.ACK||!(0,d.hasBinary)(e)?[this.encodeAsString(e)]:this.encodeAsBinary({type:e.type===l.EVENT?l.BINARY_EVENT:l.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id})}},{key:"encodeAsString",value:function(e){var t=""+e.type;return e.type!==l.BINARY_EVENT&&e.type!==l.BINARY_ACK||(t+=e.attachments+"-"),e.nsp&&"/"!==e.nsp&&(t+=e.nsp+","),null!=e.id&&(t+=e.id),null!=e.data&&(t+=JSON.stringify(e.data,this.replacer)),f("encoded %j as %s",e,t),t}},{key:"encodeAsBinary",value:function(e){var t=(0,p.deconstructPacket)(e),n=this.encodeAsString(t.packet),r=t.buffers;return r.unshift(n),r}}]),e}();function y(e){return"[object Object]"===Object.prototype.toString.call(e)}t.Encoder=v;var m=function(e){o(n,e);var t=a(n);function n(e){var r;return s(this,n),(r=t.call(this)).reviver=e,r}return u(n,[{key:"add",value:function(e){var t;if("string"===typeof e){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");var o=(t=this.decodeString(e)).type===l.BINARY_EVENT;o||t.type===l.BINARY_ACK?(t.type=o?l.EVENT:l.ACK,this.reconstructor=new g(t),0===t.attachments&&r(i(n.prototype),"emitReserved",this).call(this,"decoded",t)):r(i(n.prototype),"emitReserved",this).call(this,"decoded",t)}else{if(!(0,d.isBinary)(e)&&!e.base64)throw new Error("Unknown type: "+e);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");(t=this.reconstructor.takeBinaryData(e))&&(this.reconstructor=null,r(i(n.prototype),"emitReserved",this).call(this,"decoded",t))}}},{key:"decodeString",value:function(e){var t=0,r={type:Number(e.charAt(0))};if(void 0===l[r.type])throw new Error("unknown packet type "+r.type);if(r.type===l.BINARY_EVENT||r.type===l.BINARY_ACK){for(var i=t+1;"-"!==e.charAt(++t)&&t!=e.length;);var o=e.substring(i,t);if(o!=Number(o)||"-"!==e.charAt(t))throw new Error("Illegal attachments");r.attachments=Number(o)}if("/"===e.charAt(t+1)){for(var a=t+1;++t;){if(","===e.charAt(t))break;if(t===e.length)break}r.nsp=e.substring(a,t)}else r.nsp="/";var s=e.charAt(t+1);if(""!==s&&Number(s)==s){for(var u=t+1;++t;){var c=e.charAt(t);if(null==c||Number(c)!=c){--t;break}if(t===e.length)break}r.id=Number(e.substring(u,t+1))}if(e.charAt(++t)){var p=this.tryParse(e.substr(t));if(!n.isPayloadValid(r.type,p))throw new Error("invalid payload");r.data=p}return f("decoded %s as %j",e,r),r}},{key:"tryParse",value:function(e){try{return JSON.parse(e,this.reviver)}catch(t){return!1}}},{key:"destroy",value:function(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}],[{key:"isPayloadValid",value:function(e,t){switch(e){case l.CONNECT:return y(t);case l.DISCONNECT:return void 0===t;case l.CONNECT_ERROR:return"string"===typeof t||y(t);case l.EVENT:case l.BINARY_EVENT:return Array.isArray(t)&&("number"===typeof t[0]||"string"===typeof t[0]&&-1===h.indexOf(t[0]));case l.ACK:case l.BINARY_ACK:return Array.isArray(t)}}}]),n}(c.Emitter);t.Decoder=m;var g=function(){function e(t){s(this,e),this.packet=t,this.buffers=[],this.reconPack=t}return u(e,[{key:"takeBinaryData",value:function(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){var t=(0,p.reconstructPacket)(this.reconPack,this.buffers);return this.finishedReconstruction(),t}return null}},{key:"finishedReconstruction",value:function(){this.reconPack=null,this.buffers=[]}}]),e}()},78594:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hasBinary=t.isBinary=void 0;var n="function"===typeof ArrayBuffer,r=Object.prototype.toString,i="function"===typeof Blob||"undefined"!==typeof Blob&&"[object BlobConstructor]"===r.call(Blob),o="function"===typeof File||"undefined"!==typeof File&&"[object FileConstructor]"===r.call(File);function a(e){return n&&(e instanceof ArrayBuffer||function(e){return"function"===typeof ArrayBuffer.isView?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer}(e))||i&&e instanceof Blob||o&&e instanceof File}t.isBinary=a,t.hasBinary=function e(t,n){if(!t||"object"!==typeof t)return!1;if(Array.isArray(t)){for(var r=0,i=t.length;r<i;r++)if(e(t[r]))return!0;return!1}if(a(t))return!0;if(t.toJSON&&"function"===typeof t.toJSON&&1===arguments.length)return e(t.toJSON(),!0);for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)&&e(t[o]))return!0;return!1}},196:function(e,t,n){"use strict";function r(e){if(e)return function(e){for(var t in r.prototype)e[t]=r.prototype[t];return e}(e)}n.r(t),n.d(t,{Emitter:function(){return r}}),r.prototype.on=r.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},r.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this},r.prototype.off=r.prototype.removeListener=r.prototype.removeAllListeners=r.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,r=this._callbacks["$"+e];if(!r)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var i=0;i<r.length;i++)if((n=r[i])===t||n.fn===t){r.splice(i,1);break}return 0===r.length&&delete this._callbacks["$"+e],this},r.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),n=this._callbacks["$"+e],r=1;r<arguments.length;r++)t[r-1]=arguments[r];if(n){r=0;for(var i=(n=n.slice(0)).length;r<i;++r)n[r].apply(this,t)}return this},r.prototype.emitReserved=r.prototype.emit,r.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},r.prototype.hasListeners=function(e){return!!this.listeners(e).length}},39457:function(e,t,n){"use strict";n.d(t,{A_:function(){return i},v0:function(){return r}});n(16102),n(5521);var r=n(73183),i=(n(33281),n(87431));n(99725),n(10492)},422:function(e,t,n){"use strict";n.r(t),n.d(t,{customAlphabet:function(){return a},customRandom:function(){return o},nanoid:function(){return s},random:function(){return i},urlAlphabet:function(){return r}});var r="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",i=function(e){return crypto.getRandomValues(new Uint8Array(e))},o=function(e,t,n){var r=(2<<Math.log(e.length-1)/Math.LN2)-1,i=-~(1.6*r*t/e.length);return function(){for(var o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t,a="";;)for(var s=n(i),u=i;u--;)if((a+=e[s[u]&r]||"").length===o)return a}},a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:21;return o(e,t,i)},s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:21;return crypto.getRandomValues(new Uint8Array(e)).reduce((function(e,t){return e+=(t&=63)<36?t.toString(36):t<62?(t-26).toString(36).toUpperCase():t>62?"-":"_"}),"")}}}]);
//# sourceMappingURL=626.9634fa3f.chunk.js.map